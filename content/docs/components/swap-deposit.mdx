---
title: Swap And Deposit
description: Swap and deposit assets across different contracts. Intent-based with prefill, callbacks, and progress UI.
component: true
---

<ComponentPreview
  name="swap-deposit"
  description="Swap and deposit assets across different contracts."
  align="center"
/>

## Installation

<CodeTabs>
  <TabsList>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>
  <TabsContent value="cli">

    ```bash
    npx shadcn@latest add @nexus-elements/swap-deposit
    ```

  </TabsContent>
  <TabsContent value="manual">
    <Steps>
      <Step>Install these dependencies</Step>
```bash
npm install @avail-project/nexus-core@1.0.0-beta.50 @radix-ui/react-collapsible @radix-ui/react-separator @radix-ui/react-tooltip @radix-ui/react-slot @radix-ui/react-checkbox class-variance-authority clsx tailwind-merge
```
      <Step>Copy and paste the following code into your project.</Step>

      <div
        data-slot="code"
        className="my-4 overflow-hidden **:data-rehype-pretty-code-figure:m-0! **:data-rehype-pretty-code-figure:rounded-t-none **:data-rehype-pretty-code-figure:border-t [&_pre]:max-h-[400px]"
      >
        <ComponentSource name="swaps" showAllFiles />
      </div>
      <Step>Update the import paths to match your project setup.</Step>
    </Steps>

  </TabsContent>
</CodeTabs>

## Usage

```tsx showLineNumbers
<SwapDeposit
  destination={{
    chainId: SUPPORTED_CHAINS.ARBITRUM,
    tokenAddress: TOKEN_CONTRACT_ADDRESSES["USDT"][SUPPORTED_CHAINS.ARBITRUM],
    tokenSymbol: "USDT",
    tokenDecimals: TOKEN_METADATA["USDT"].decimals,
    tokenLogo: TOKEN_METADATA["USDT"].icon,
    label: "Deposit USDT on Arbitrum",
    gasTokenSymbol:
      CHAIN_METADATA[SUPPORTED_CHAINS.ARBITRUM].nativeCurrency.symbol,
    estimatedTime: "â‰ˆ 30s",
  }}
  executeDeposit={(tokenSymbol, tokenAddress, amount, _chainId, user) => {
    const contractAddress =
      "0x794a61358D6845594F94dc1DB02A252b5b4814aD" as const;
    const abi: Abi = [
      {
        name: "supply",
        type: "function",
        stateMutability: "nonpayable",
        inputs: [
          { name: "asset", type: "address" },
          { name: "amount", type: "uint256" },
          { name: "onBehalfOf", type: "address" },
          { name: "referralCode", type: "uint16" },
        ],
        outputs: [],
      },
    ];
    if (tokenSymbol === "ETH") {
      throw new Error(
        "ETH is native and not supported for this execute builder"
      );
    }
    const encoded = encodeFunctionData({
      abi: abi,
      functionName: "supply",
      args: [tokenAddress, amount, user, 0],
    });
    if (!encoded) {
      throw new Error("Failed to encode contract call");
    }
    return {
      to: contractAddress,
      data: encoded,
      tokenApproval: {
        token: tokenSymbol,
        amount: amount,
        spender: contractAddress,
      },
    };
  }}
/>
```

## API Reference

### SwapDeposit

The `SwapDeposit` component provides a way to swap and deposit assets across different contracts.

<CodeCollapsibleWrapper className="mt-4">

```ts title="SwapDepositProps"
interface DestinationConfig {
  chainId: SUPPORTED_CHAINS_IDS; // Destination chain id where deposit has to happen
  tokenAddress: `0x${string}`; // Destination token address where deposit has to happen
  tokenSymbol: string; // Destination token symbol where deposit has to happen
  tokenDecimals: number; // Destination token decimals where deposit has to happen
  tokenLogo?: string; // Destination token logo where deposit has to happen
  label?: string; // Destination label where deposit has to happen
  estimatedTime?: string; // Estimated time to complete the deposit
  gasTokenSymbol?: string; // Gas token symbol where deposit has to happen
}

interface SwapDepositProps {
  destination: DestinationConfig; // Destination config where deposit has to happen
  executeDeposit: (
    tokenSymbol: string,
    tokenAddress: string,
    amount: bigint,
    chainId: number,
    user: Address
  ) => Omit<ExecuteParams, "toChainId">; // Function to build call data for the execute function
}
```

</CodeCollapsibleWrapper>
