{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fast-bridge",
  "type": "registry:component",
  "title": "Fast Bridge",
  "description": "A simple component built with Nexus to enable cross chain bridging",
  "dependencies": [
    "@avail-project/nexus",
    "@radix-ui/react-accordion",
    "@radix-ui/react-dialog",
    "@radix-ui/react-label",
    "@radix-ui/react-select",
    "@radix-ui/react-slot",
    "class-variance-authority",
    "clsx",
    "lucide-react",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "https://elements.nexus.availproject.org/r/accordion.json",
    "https://elements.nexus.availproject.org/r/button.json",
    "https://elements.nexus.availproject.org/r/card.json",
    "https://elements.nexus.availproject.org/r/dialog.json",
    "https://elements.nexus.availproject.org/r/input.json",
    "https://elements.nexus.availproject.org/r/label.json",
    "https://elements.nexus.availproject.org/r/select.json",
    "https://elements.nexus.availproject.org/r/nexus-provider.json",
    "https://elements.nexus.availproject.org/r/utils.json"
  ],
  "files": [
    {
      "path": "registry/nexus-elements/fast-bridge/fast-bridge.tsx",
      "content": "\"use client\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Card, CardContent } from \"../ui/card\";\nimport ChainSelect from \"./components/chain-select\";\nimport TokenSelect from \"./components/token-select\";\nimport { SUPPORTED_CHAINS } from \"@avail-project/nexus\";\nimport { Button } from \"../ui/button\";\nimport { LoaderPinwheel } from \"lucide-react\";\nimport { useNexus } from \"../nexus/NexusProvider\";\nimport ReceipientAddress from \"./components/receipient-address\";\nimport AmountInput from \"./components/amount-input\";\nimport FeeBreakdown from \"./components/fee-breakdown\";\nimport { FastBridgeProps, FastBridgeState } from \"./types\";\nimport { Dialog, DialogContent, DialogTrigger } from \"../ui/dialog\";\nimport TransactionProgress from \"./components/transaction-progress\";\nimport AllowanceModal from \"./components/allowance-modal\";\nimport useListenTransaction from \"./hooks/useListenTransaction\";\n\nconst FastBridge: React.FC<FastBridgeProps> = ({ connectedAddress }) => {\n  const [inputs, setInputs] = useState<FastBridgeState>({\n    chain: SUPPORTED_CHAINS.ETHEREUM,\n    token: \"USDC\",\n    amount: undefined,\n    recipient: connectedAddress,\n  });\n  const [timer, setTimer] = useState(0);\n  const [startTxn, setStartTxn] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [refreshing, setRefreshing] = useState(false);\n  const {\n    nexusSDK,\n    intent,\n    setIntent,\n    unifiedBalance,\n    allowance,\n    setAllowance,\n  } = useNexus();\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [txError, setTxError] = useState<string | null>(null);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n  const { processing, latestCompletedIndex, explorerUrl } =\n    useListenTransaction(nexusSDK);\n\n  const handleTransaction = async () => {\n    if (\n      !inputs?.amount ||\n      !inputs?.recipient ||\n      !inputs?.chain ||\n      !inputs?.token\n    ) {\n      console.error(\"Missing required inputs\");\n      return;\n    }\n    setLoading(true);\n    setTxError(null);\n    try {\n      if (inputs?.recipient !== connectedAddress) {\n        // Transfer\n        const transferTxn = await nexusSDK?.transfer({\n          token: inputs?.token,\n          amount: inputs?.amount,\n          chainId: inputs?.chain,\n          recipient: inputs?.recipient,\n        });\n        if (!transferTxn?.success) {\n          throw new Error(transferTxn?.error || \"Transaction rejected by user\");\n        }\n        if (transferTxn?.success) {\n          console.log(\"Transfer transaction successful\");\n          console.log(\n            \"Transfer transaction explorer\",\n            transferTxn?.explorerUrl\n          );\n        }\n        return;\n      }\n      // Bridge\n      const bridgeTxn = await nexusSDK?.bridge({\n        token: inputs?.token,\n        amount: inputs?.amount,\n        chainId: inputs?.chain,\n      });\n      if (!bridgeTxn?.success) {\n        throw new Error(bridgeTxn?.error || \"Transaction rejected by user\");\n      }\n      if (bridgeTxn?.success) {\n        console.log(\"Bridge transaction successful\");\n        console.log(\"Bridge transaction explorer\", bridgeTxn?.explorerUrl);\n      }\n    } catch (error) {\n      console.error(\"Transaction failed:\", error);\n      setTxError((error as Error)?.message || \"Transaction failed\");\n      setIsDialogOpen(false);\n    } finally {\n      setLoading(false);\n      setStartTxn(false);\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setIntent(null);\n    }\n  };\n\n  const filteredUnifiedBalance = useMemo(() => {\n    return unifiedBalance?.filter((bal) => bal?.symbol === inputs?.token)[0];\n  }, [unifiedBalance, inputs?.token]);\n\n  const refreshIntent = async () => {\n    setRefreshing(true);\n    try {\n      await intent?.refresh([]);\n    } catch (error) {\n      console.error(\"Transaction failed:\", error);\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const reset = () => {\n    intent?.deny();\n    setIntent(null);\n    setInputs({\n      chain: SUPPORTED_CHAINS.ETHEREUM,\n      token: \"USDC\",\n      amount: undefined,\n      recipient: connectedAddress,\n    });\n    setLoading(false);\n    setStartTxn(false);\n    setRefreshing(false);\n  };\n\n  const startTransaction = () => {\n    setStartTxn(true);\n    intent?.allow();\n    setIsDialogOpen(true);\n    setTxError(null);\n  };\n\n  useEffect(() => {\n    let interval: any;\n    if (intent) {\n      interval = setInterval(refreshIntent, 5000);\n    }\n    return () => {\n      clearInterval(interval);\n    };\n  }, [intent]);\n\n  useEffect(() => {\n    if (startTxn) {\n      timerRef.current = setInterval(() => {\n        setTimer((prev) => prev + 0.1);\n      }, 100);\n    }\n\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, [startTxn]);\n\n  return (\n    <Card className=\"w-full max-w-xl\">\n      <CardContent className=\"flex flex-col gap-y-4 w-full\">\n        <ChainSelect\n          selectedChain={inputs?.chain}\n          handleSelect={(chain) =>\n            setInputs({\n              ...inputs,\n              chain,\n            })\n          }\n        />\n        <TokenSelect\n          selectedChain={inputs?.chain}\n          selectedToken={inputs?.token}\n          handleTokenSelect={(token) => setInputs({ ...inputs, token })}\n        />\n        <AmountInput\n          amount={inputs?.amount}\n          onChange={(amount) => setInputs({ ...inputs, amount })}\n          unifiedBalance={filteredUnifiedBalance}\n          sources={intent?.intent?.sources}\n        />\n        <ReceipientAddress\n          address={inputs?.recipient}\n          onChange={(address) =>\n            setInputs({ ...inputs, recipient: address as `0x${string}` })\n          }\n        />\n        {intent?.intent && <FeeBreakdown intent={intent?.intent} />}\n        {!intent && (\n          <Button\n            onClick={handleTransaction}\n            disabled={\n              !inputs?.amount ||\n              !inputs?.recipient ||\n              !inputs?.chain ||\n              !inputs?.token ||\n              loading\n            }\n          >\n            {loading ? (\n              <LoaderPinwheel className=\"animate-spin size-5\" />\n            ) : (\n              \"Bridge\"\n            )}\n          </Button>\n        )}\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          {intent && (\n            <div className=\"w-full flex items-center gap-x-2 justify-between\">\n              <Button variant={\"destructive\"} onClick={reset} className=\"w-1/2\">\n                Deny\n              </Button>\n              <DialogTrigger asChild>\n                <Button\n                  onClick={startTransaction}\n                  className=\"w-1/2\"\n                  disabled={refreshing}\n                >\n                  {refreshing ? \"Refreshing...\" : \"Accept\"}\n                </Button>\n              </DialogTrigger>\n            </div>\n          )}\n          <DialogContent>\n            <TransactionProgress\n              timer={timer}\n              steps={processing}\n              latestCompletedIndex={latestCompletedIndex}\n              viewIntentUrl={explorerUrl}\n              operationType={\"bridge\"}\n            />\n          </DialogContent>\n        </Dialog>\n        {allowance && (\n          <AllowanceModal\n            allowanceModal={allowance}\n            setAllowanceModal={setAllowance}\n            callback={startTransaction}\n          />\n        )}\n\n        {txError && (\n          <div className=\"rounded-md border border-red-300 bg-red-50 px-3 py-2 text-sm text-red-700 flex items-start justify-between gap-x-3\">\n            <span className=\"flex-1\">{txError}</span>\n            <Button\n              type=\"button\"\n              size={\"icon\"}\n              variant={\"ghost\"}\n              onClick={() => setTxError(null)}\n              className=\"text-red-700/80 hover:text-red-900 focus:outline-none\"\n              aria-label=\"Dismiss error\"\n            >\n              Ã—\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default FastBridge;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/fast-bridge.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/allowance-modal.tsx",
      "content": "\"use client\";\nimport * as React from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"../../ui/dialog\";\nimport { Button } from \"../../ui/button\";\nimport { Input } from \"../../ui/input\";\nimport { Label } from \"../../ui/label\";\nimport {\n  AllowanceHookSource,\n  CHAIN_METADATA,\n  OnAllowanceHookData,\n} from \"@avail-project/nexus\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\n\ninterface AllowanceModalProps {\n  allowanceModal: OnAllowanceHookData | null;\n  setAllowanceModal: React.Dispatch<\n    React.SetStateAction<OnAllowanceHookData | null>\n  >;\n  callback?: () => void;\n}\n\nconst AllowanceModal: React.FC<AllowanceModalProps> = ({\n  allowanceModal,\n  setAllowanceModal,\n  callback,\n}) => {\n  const { nexusSDK } = useNexus();\n  const [selectedOption, setSelectedOption] = React.useState<string[]>([]);\n  const [customValues, setCustomValues] = React.useState<string[]>([]);\n\n  React.useEffect(() => {\n    if (allowanceModal) {\n      setSelectedOption(\n        Array.from({ length: allowanceModal.sources.length }, () => \"min\")\n      );\n      setCustomValues(\n        Array.from({ length: allowanceModal.sources.length }, () => \"\")\n      );\n    }\n  }, [allowanceModal]);\n\n  if (!allowanceModal) return null;\n\n  const { sources, allow, deny } = allowanceModal;\n\n  const onClose = () => {\n    deny();\n    setAllowanceModal(null);\n  };\n\n  const onApprove = () => {\n    const processed = sources.map((_, i) => {\n      const opt = selectedOption[i];\n      if (opt === \"min\" || opt === \"max\") return opt;\n      const v = customValues[i];\n      if (v && !isNaN(Number(v))) return v;\n      return \"min\";\n    });\n    allow(processed);\n    setAllowanceModal(null);\n    callback?.();\n  };\n\n  return (\n    <Dialog\n      open={!!allowanceModal}\n      onOpenChange={(isOpen) => !isOpen && onClose()}\n    >\n      <DialogContent className=\"w-full sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Set Token Allowances</DialogTitle>\n          <DialogDescription>\n            Select minimum, maximum, or a custom allowance for each required\n            token.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-2 max-h-[60vh] overflow-y-auto\">\n          {sources?.map((source: AllowanceHookSource, index: number) => (\n            <div\n              key={`${source.token.symbol}-${index}`}\n              className=\"p-3 border rounded-lg\"\n            >\n              <div className=\"flex items-center justify-between gap-x-2\">\n                <div className=\"flex items-center gap-x-2\">\n                  <img\n                    src={CHAIN_METADATA[source.chain.id]?.logo}\n                    alt={source.chain.name}\n                    width={20}\n                    height={20}\n                    className=\"rounded-full\"\n                  />\n                  <p className=\"font-semibold\">\n                    {source.token.symbol} on {source.chain.name}\n                  </p>\n                </div>\n                <div className=\"text-sm\">\n                  <span className=\"mr-1 text-muted-foreground\">Current:</span>\n                  <span className=\"font-semibold\">\n                    {nexusSDK?.utils.formatBalance(\n                      source.allowance.current,\n                      source.token.decimals\n                    )}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"mt-3 grid grid-cols-1 gap-2\">\n                <Label className=\"flex items-center gap-x-2\">\n                  <Input\n                    type=\"radio\"\n                    name={`allowance-${index}`}\n                    value=\"min\"\n                    checked={selectedOption[index] === \"min\"}\n                    onChange={() => {\n                      const next = [...selectedOption];\n                      next[index] = \"min\";\n                      setSelectedOption(next);\n                    }}\n                    className=\"w-10\"\n                  />\n                  <span>\n                    Minimum (\n                    {nexusSDK?.utils.formatBalance(\n                      source.allowance.minimum,\n                      source.token.decimals\n                    )}\n                    )\n                  </span>\n                </Label>\n\n                <Label className=\"flex items-center gap-x-2\">\n                  <Input\n                    type=\"radio\"\n                    name={`allowance-${index}`}\n                    value=\"max\"\n                    checked={selectedOption[index] === \"max\"}\n                    onChange={() => {\n                      const next = [...selectedOption];\n                      next[index] = \"max\";\n                      setSelectedOption(next);\n                    }}\n                    className=\"w-10\"\n                  />\n                  <span>Maximum (Unlimited)</span>\n                </Label>\n\n                <div className=\"flex items-center gap-x-2\">\n                  <Input\n                    type=\"radio\"\n                    name={`allowance-${index}`}\n                    value=\"custom\"\n                    checked={selectedOption[index] === \"custom\"}\n                    onChange={() => {\n                      const next = [...selectedOption];\n                      next[index] = \"custom\";\n                      setSelectedOption(next);\n                    }}\n                    className=\"w-10\"\n                  />\n                  <Label className=\"mr-2\">Custom Amount</Label>\n                  <Input\n                    type=\"number\"\n                    step=\"any\"\n                    min=\"0\"\n                    placeholder=\"Enter custom amount\"\n                    value={\n                      selectedOption[index] === \"custom\"\n                        ? customValues[index]\n                        : \"\"\n                    }\n                    onChange={(e) => {\n                      const next = [...customValues];\n                      next[index] = e.target.value;\n                      setCustomValues(next);\n                    }}\n                    className=\"h-8 w-40\"\n                  />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <DialogFooter className=\"gap-2 sm:justify-end mt-2\">\n          <Button\n            variant=\"destructive\"\n            onClick={onClose}\n            className=\"font-semibold\"\n          >\n            Deny\n          </Button>\n          <Button onClick={onApprove} className=\"font-semibold\">\n            Approve Selected\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default AllowanceModal;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/allowance-modal.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/amount-input.tsx",
      "content": "import * as React from \"react\";\nimport { Input } from \"../../ui/input\";\nimport { Button } from \"../../ui/button\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"../../ui/accordion\";\nimport { AmountInputProps } from \"../types\";\n\nconst AmountInput: React.FC<AmountInputProps> = ({\n  amount,\n  onChange,\n  sources,\n  unifiedBalance,\n}) => {\n  const onMaxClick = () => {\n    if (!unifiedBalance) return;\n    const maxBalAvailable = unifiedBalance?.balance;\n    onChange(maxBalAvailable);\n  };\n  return (\n    <div className=\"w-full flex flex-col gap-y-2\">\n      <Input\n        value={amount ?? \"\"}\n        placeholder=\"Enter Amount\"\n        onChange={(e) => onChange(e.target.value)}\n        className=\"w-full\"\n      />\n\n      <Accordion type=\"single\" collapsible>\n        <AccordionItem value=\"sources\">\n          <div className=\"flex items-center justify-end-safe gap-x-4 xw-full\">\n            {sources && (\n              <AccordionTrigger className=\"w-full\">\n                <div className=\"w-full\">\n                  <p className=\"text-base font-semibold\">\n                    ({sources?.length}) View Sources\n                  </p>\n                </div>\n              </AccordionTrigger>\n            )}\n\n            <div className=\"flex items-center gap-x-3 min-w-max\">\n              {unifiedBalance && (\n                <p className=\"text-base font-semibold\">\n                  {unifiedBalance?.balance} {unifiedBalance?.symbol}\n                </p>\n              )}\n              <Button\n                size={\"sm\"}\n                variant={\"ghost\"}\n                onClick={onMaxClick}\n                className=\"px-0\"\n              >\n                Max\n              </Button>\n            </div>\n          </div>\n          <AccordionContent>\n            {sources && (\n              <div className=\"w-full bg-muted rounded-lg px-4 py-2 flex flex-col items-center gap-y-3\">\n                {sources?.map((source) => (\n                  <div\n                    key={source.chainID}\n                    className=\"flex items-center justify-between w-full gap-x-2\"\n                  >\n                    <div className=\"flex items-center gap-x-2\">\n                      <img\n                        src={source?.chainLogo}\n                        alt={source?.chainName}\n                        width={20}\n                        height={20}\n                        className=\"\n                        rounded-full\"\n                      />\n                      <p className=\"text-sm font-semibold\">\n                        {source.chainName}\n                      </p>\n                    </div>\n\n                    <p className=\"text-sm font-semibold\">\n                      {source.amount} {unifiedBalance?.symbol}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </AccordionContent>\n        </AccordionItem>\n      </Accordion>\n    </div>\n  );\n};\n\nexport default AmountInput;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/amount-input.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/chain-select.tsx",
      "content": "import * as React from \"react\";\nimport { Label } from \"../../ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../../ui/select\";\nimport { SUPPORTED_CHAINS_IDS } from \"@avail-project/nexus\";\nimport { cn } from \"@/lib/utils\";\nimport { ChainSelectProps } from \"../types\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\n\nconst ChainSelect: React.FC<ChainSelectProps> = ({\n  selectedChain,\n  disabled,\n  hidden = false,\n  className,\n  label,\n  handleSelect,\n}) => {\n  const { supportedChainsAndTokens } = useNexus();\n  if (hidden) return null;\n  const selectedChainData = React.useMemo(() => {\n    if (!supportedChainsAndTokens) return null;\n    return supportedChainsAndTokens.find((c) => c.id === selectedChain);\n  }, [selectedChain, supportedChainsAndTokens]);\n  return (\n    <Select\n      value={selectedChain?.toString() ?? \"\"}\n      onValueChange={(value) => {\n        if (!disabled) {\n          handleSelect(parseInt(value) as SUPPORTED_CHAINS_IDS);\n        }\n      }}\n    >\n      <div className=\"flex flex-col items-start gap-y-1 w-full\">\n        {label && <Label className=\"text-sm font-semibold\">{label}</Label>}\n        <SelectTrigger disabled={disabled} className=\" w-full\">\n          <SelectValue>\n            {selectedChainData && (\n              <div\n                className={cn(\"flex items-center gap-x-2 w-full\", className)}\n              >\n                <img\n                  src={selectedChainData?.logo}\n                  alt={selectedChainData?.name}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                <p className=\"text-primary test-sm\">\n                  {selectedChainData?.name}\n                </p>\n              </div>\n            )}\n          </SelectValue>\n        </SelectTrigger>\n      </div>\n\n      <SelectContent>\n        <SelectGroup>\n          {supportedChainsAndTokens &&\n            supportedChainsAndTokens.map((chain) => {\n              return (\n                <SelectItem key={chain.id} value={String(chain.id)}>\n                  <div className=\"flex items-center gap-x-2 my-1\">\n                    <img\n                      src={chain.logo}\n                      alt={chain?.name}\n                      width={24}\n                      height={24}\n                      className=\"rounded-full\"\n                    />\n                    <p className=\"text-primary test-sm\">{chain.name}</p>\n                  </div>\n                </SelectItem>\n              );\n            })}\n        </SelectGroup>\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default ChainSelect;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/chain-select.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/fee-breakdown.tsx",
      "content": "import * as React from \"react\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"../../ui/accordion\";\nimport { FeeBreakdownProps } from \"../types\";\n\nconst FeeBreakdown: React.FC<FeeBreakdownProps> = ({ intent }) => {\n  return (\n    <Accordion type=\"single\" collapsible>\n      <AccordionItem value=\"breakdown\">\n        <div className=\"w-full flex items-start justify-between\">\n          <p className=\"font-semibold text-base\">Total fees</p>\n\n          <div className=\"flex flex-col items-end justify-end-safe gap-y-1\">\n            <p className=\"font-semibold text-base min-w-max\">\n              {intent.fees?.total} {intent.token?.symbol}\n            </p>\n            <AccordionTrigger className=\"p-0\" containerClassName=\"w-fit\">\n              View Breakup\n            </AccordionTrigger>\n          </div>\n        </div>\n        <AccordionContent>\n          <div className=\"w-full flex flex-col items-center justify-between gap-y-3 bg-muted px-4 py-2 rounded-lg mt-2\">\n            <div className=\"flex items-center w-full justify-between\">\n              <p className=\"text-sm font-semibold\">Fast Bridge Gas Fee</p>\n              <p className=\"text-sm font-semibold\">\n                {intent?.fees?.caGas} {intent?.token?.symbol}\n              </p>\n            </div>\n            <div className=\"flex items-center w-full justify-between\">\n              <p className=\"text-sm font-semibold\">Solver Fees</p>\n              <p className=\"text-sm font-semibold\">\n                {intent?.fees?.solver} {intent?.token?.symbol}\n              </p>\n            </div>\n            <div className=\"flex items-center w-full justify-between\">\n              <p className=\"text-sm font-semibold\">Protocol Fees</p>\n              <p className=\"text-sm font-semibold\">\n                {intent?.fees?.protocol} {intent?.token?.symbol}\n              </p>\n            </div>\n          </div>\n        </AccordionContent>\n      </AccordionItem>\n    </Accordion>\n  );\n};\n\nexport default FeeBreakdown;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/fee-breakdown.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/receipient-address.tsx",
      "content": "\"use client\";\nimport * as React from \"react\";\nimport { Input } from \"../../ui/input\";\nimport { Check, Edit } from \"lucide-react\";\nimport { Button } from \"../../ui/button\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\nimport { ReceipientAddressProps } from \"../types\";\n\nconst ReceipientAddress: React.FC<ReceipientAddressProps> = ({\n  address,\n  onChange,\n}) => {\n  const { nexusSDK } = useNexus();\n  const [isEditing, setIsEditing] = React.useState(false);\n  return (\n    <div className=\"w-full\">\n      {isEditing ? (\n        <div className=\"flex items-center w-full justify-between gap-x-4\">\n          <Input\n            value={address}\n            placeholder=\"Enter Recipient Address\"\n            onChange={(e) => onChange(e.target.value)}\n            className=\"w-full\"\n          />\n          <Button\n            variant={\"ghost\"}\n            size={\"icon\"}\n            onClick={() => {\n              setIsEditing(false);\n            }}\n          >\n            <Check className=\"size-5\" />\n          </Button>\n        </div>\n      ) : (\n        <div className=\"flex items-center w-full justify-between\">\n          <p className=\"font-semibold\">Recipient Address</p>\n          <div className=\"flex items-center gap-x-3 \">\n            <p className=\"font-semibold\">\n              {nexusSDK?.utils?.truncateAddress(address ?? \"\", 6, 6)}\n            </p>\n\n            <Button\n              variant={\"ghost\"}\n              size={\"icon\"}\n              onClick={() => {\n                setIsEditing(true);\n              }}\n              className=\"px-0 size-6\"\n            >\n              <Edit className=\"size-6\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ReceipientAddress;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/receipient-address.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/token-select.tsx",
      "content": "import { SUPPORTED_TOKENS } from \"@avail-project/nexus\";\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../../ui/select\";\nimport { Label } from \"../../ui/label\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\nimport { useMemo } from \"react\";\nimport { TokenSelectProps } from \"../types\";\n\nconst TokenSelect = ({\n  selectedToken,\n  selectedChain,\n  handleTokenSelect,\n  isTestnet = false,\n  disabled = false,\n  label,\n}: TokenSelectProps) => {\n  const { supportedChainsAndTokens } = useNexus();\n  const tokenData = useMemo(() => {\n    return supportedChainsAndTokens?.filter(\n      (chain) => chain.id === selectedChain\n    )[0]?.tokens;\n  }, [selectedChain, supportedChainsAndTokens]);\n\n  const selectedTokenData = tokenData?.find((token) => {\n    return token.symbol === selectedToken;\n  });\n\n  return (\n    <Select\n      value={selectedToken}\n      onValueChange={(value) =>\n        !disabled && handleTokenSelect(value as SUPPORTED_TOKENS)\n      }\n    >\n      <div className=\"flex flex-col items-start gap-y-1\">\n        {label && <Label className=\"text-sm font-semibold\">{label}</Label>}\n        <SelectTrigger disabled={disabled} className=\"w-full\">\n          <SelectValue placeholder=\"Select a token\" className=\"w-full\">\n            {selectedChain && selectedTokenData && (\n              <div className=\"flex items-center gap-x-2 w-full\">\n                <img\n                  src={selectedTokenData?.logo}\n                  alt={selectedTokenData?.symbol}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                {selectedToken}\n              </div>\n            )}\n          </SelectValue>\n        </SelectTrigger>\n      </div>\n\n      <SelectContent>\n        <SelectGroup>\n          {tokenData?.map((token) => (\n            <SelectItem key={token.symbol} value={token.symbol}>\n              <div className=\"flex items-center gap-x-2 my-1\">\n                <img\n                  src={token.logo}\n                  alt={token.symbol}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                <div className=\"flex flex-col\">\n                  <span>\n                    {isTestnet ? `${token.symbol} (Testnet)` : token.symbol}\n                  </span>\n                </div>\n              </div>\n            </SelectItem>\n          ))}\n        </SelectGroup>\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default TokenSelect;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/token-select.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/transaction-progress.tsx",
      "content": "import { Check, Circle, LoaderPinwheel } from \"lucide-react\";\nimport * as React from \"react\";\nimport { ProgressStep } from \"@avail-project/nexus\";\n\ninterface TransactionProgressProps {\n  timer: number;\n  steps: Array<{ id: number; completed: boolean; step: ProgressStep }>;\n  latestCompletedIndex: number;\n  viewIntentUrl?: string;\n  operationType?: string;\n}\n\nexport const getOperationText = (type: string) => {\n  switch (type) {\n    case \"bridge\":\n      return \"Transaction\";\n    case \"transfer\":\n      return \"Transferring\";\n    case \"bridgeAndExecute\":\n      return \"Bridge & Execute\";\n    case \"swap\":\n      return \"Swapping\";\n    default:\n      return \"Processing\";\n  }\n};\n\nexport const getStatusText = (type: string, operationType: string) => {\n  const opText = getOperationText(operationType);\n\n  switch (type) {\n    case \"INTENT_ACCEPTED\":\n      return \"Intent Accepted\";\n    case \"INTENT_HASH_SIGNED\":\n      return \"Signing Transaction\";\n    case \"INTENT_SUBMITTED\":\n      return \"Submitting Transaction\";\n    case \"INTENT_COLLECTION\":\n      return \"Collecting Confirmations\";\n    case \"INTENT_COLLECTION_COMPLETE\":\n      return \"Confirmations Complete\";\n    case \"APPROVAL\":\n      return \"Approving\";\n    case \"TRANSACTION_SENT\":\n      return \"Sending Transaction\";\n    case \"RECEIPT_RECEIVED\":\n      return \"Receipt Received\";\n    case \"TRANSACTION_CONFIRMED\":\n    case \"INTENT_FULFILLED\":\n      return `${opText} Complete`;\n    default:\n      return `Processing ${opText}`;\n  }\n};\n\nconst TransactionProgress: React.FC<TransactionProgressProps> = ({\n  timer,\n  steps,\n  latestCompletedIndex,\n  viewIntentUrl,\n  operationType = \"bridge\",\n}) => {\n  const allCompleted = steps?.length > 0 && steps.every((s) => s.completed);\n  const opText = getOperationText(operationType);\n  const headerText = allCompleted\n    ? `${opText} Completed`\n    : `${opText} In Progress...`;\n  const ctaText = allCompleted ? `View Explorer` : \"View Intent\";\n\n  return (\n    <div className=\"w-full flex flex-col items-center\">\n      <div className=\"flex flex-col items-center gap-y-3\">\n        {allCompleted ? (\n          <Check className=\"size-6 text-green-600\" />\n        ) : (\n          <LoaderPinwheel className=\"size-6 animate-spin\" />\n        )}\n        <p>{headerText}</p>\n        <div className=\"flex items-center justify-center w-full\">\n          <span className=\"text-2xl font-semibold font-nexus-primary text-nexus-black\">\n            {Math.floor(timer)}\n          </span>\n          <span className=\"text-base font-semibold font-nexus-primary text-nexus-black\">\n            .\n          </span>\n          <span className=\"text-base font-semibold font-nexus-primary text-nexus-muted-secondary\">\n            {String(Math.floor((timer % 1) * 1000)).padStart(3, \"0\")}s\n          </span>\n        </div>\n      </div>\n\n      <div className=\"w-full mt-6 space-y-6\">\n        {steps?.map((s, idx) => {\n          const isCompleted = !!s.completed;\n          const isCurrent = idx === latestCompletedIndex + 1;\n\n          let rightIcon = <Circle className=\"size-5 text-muted-foreground\" />;\n          if (isCompleted) {\n            rightIcon = <Check className=\"size-5 text-green-600\" />;\n          } else if (isCurrent) {\n            rightIcon = (\n              <LoaderPinwheel className=\"size-5 animate-spin text-muted-foreground\" />\n            );\n          }\n\n          return (\n            <div\n              key={s.id}\n              className=\"flex items-center justify-between w-full\"\n            >\n              <div className=\"flex items-center gap-x-3\">\n                <span className=\"text-base font-semibold\">\n                  {getStatusText(\n                    s.step?.type as unknown as string,\n                    operationType\n                  )}\n                </span>\n              </div>\n              {rightIcon}\n            </div>\n          );\n        })}\n      </div>\n\n      {viewIntentUrl && (\n        <a\n          href={viewIntentUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"mt-8 underline font-semibold\"\n        >\n          {ctaText}\n        </a>\n      )}\n    </div>\n  );\n};\n\nexport default TransactionProgress;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/transaction-progress.tsx"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/hooks/useListenTransaction.ts",
      "content": "import { NEXUS_EVENTS, NexusSDK, ProgressStep } from \"@avail-project/nexus\";\nimport { useEffect, useMemo, useState } from \"react\";\n\ntype ProcessingState = Array<{\n  id: number;\n  completed: boolean;\n  step: ProgressStep;\n}>;\n\nconst useListenTransaction = (sdk: NexusSDK | null) => {\n  const [processing, setProcessing] = useState<ProcessingState>([]);\n  const [explorerUrl, setExplorerUrl] = useState(\"\");\n  const [latestCompleted, setLatestCompleted] = useState<ProgressStep | null>(\n    null\n  );\n\n  useEffect(() => {\n    if (!sdk) return;\n\n    const handleExpectedSteps = (expectedSteps: ProgressStep[]) => {\n      const stepsArray = Array.isArray(expectedSteps) ? expectedSteps : [];\n      const initialSteps: ProcessingState = stepsArray.map((step, index) => ({\n        id: index,\n        completed: false,\n        step,\n      }));\n      setProcessing(initialSteps);\n    };\n\n    const handleStepComplete = (stepData: ProgressStep) => {\n      setProcessing((prev) =>\n        prev.map((s) =>\n          s.step && s.step.typeID === stepData?.typeID\n            ? { ...s, completed: true }\n            : s\n        )\n      );\n\n      setLatestCompleted(stepData);\n\n      if (\n        stepData?.typeID === \"IS\" &&\n        stepData?.data &&\n        \"explorerURL\" in stepData.data\n      ) {\n        setExplorerUrl(stepData?.data?.explorerURL);\n      }\n    };\n\n    sdk?.nexusEvents?.on(NEXUS_EVENTS.EXPECTED_STEPS, handleExpectedSteps);\n    sdk?.nexusEvents?.on(NEXUS_EVENTS.STEP_COMPLETE, handleStepComplete);\n    return () => {\n      sdk?.nexusEvents?.off(NEXUS_EVENTS.EXPECTED_STEPS, handleExpectedSteps);\n      sdk?.nexusEvents?.off(NEXUS_EVENTS.STEP_COMPLETE, handleStepComplete);\n    };\n  }, [sdk]);\n\n  const latestCompletedIndex = useMemo(() => {\n    if (!processing?.length) return -1;\n    for (let i = processing.length - 1; i >= 0; i -= 1) {\n      if (processing[i]?.completed) return i;\n    }\n    return -1;\n  }, [processing]);\n\n  return { processing, latestCompleted, latestCompletedIndex, explorerUrl };\n};\n\nexport default useListenTransaction;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/hooks/useListenTransaction.ts"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/types/index.ts",
      "content": "import {\n  ReadableIntent,\n  SUPPORTED_CHAINS_IDS,\n  SUPPORTED_TOKENS,\n  UserAsset,\n} from \"@avail-project/nexus\";\n\nexport interface FastBridgeProps {\n  connectedAddress: `0x${string}`;\n}\n\nexport interface FastBridgeState {\n  chain: SUPPORTED_CHAINS_IDS;\n  token: SUPPORTED_TOKENS;\n  amount?: string;\n  recipient?: `0x${string}`;\n}\n\nexport interface AmountInputProps {\n  amount?: string;\n  onChange: (value: string) => void;\n  sources?: {\n    amount: string;\n    chainID: number;\n    chainLogo: string | undefined;\n    chainName: string;\n    contractAddress: `0x${string}`;\n  }[];\n  unifiedBalance?: UserAsset;\n}\n\nexport interface ChainSelectProps {\n  selectedChain: number;\n  disabled?: boolean;\n  hidden?: boolean;\n  className?: string;\n  label?: string;\n  handleSelect: (chainId: SUPPORTED_CHAINS_IDS) => void;\n}\n\nexport interface FeeBreakdownProps {\n  intent: ReadableIntent;\n}\n\nexport interface ReceipientAddressProps {\n  address?: `0x${string}`;\n  onChange: (address: string) => void;\n}\n\nexport interface TokenSelectProps {\n  selectedToken?: SUPPORTED_TOKENS;\n  selectedChain: SUPPORTED_CHAINS_IDS;\n  handleTokenSelect: (token: SUPPORTED_TOKENS) => void;\n  isTestnet?: boolean;\n  disabled?: boolean;\n  label?: string;\n}\n",
      "type": "registry:component",
      "target": "components/fast-bridge/types/index.ts"
    }
  ]
}