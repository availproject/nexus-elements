{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "deposit",
  "type": "registry:component",
  "title": "Deposit",
  "description": "A simple component built with Nexus to enable deposits",
  "dependencies": [
    "@avail-project/nexus-core@1.0.0-beta.64",
    "clsx",
    "lucide-react",
    "next",
    "tailwind-merge",
    "viem",
    "wagmi"
  ],
  "registryDependencies": [
    "https://elements.nexus.availproject.org/r/animated-spinner.json",
    "https://elements.nexus.availproject.org/r/button.json",
    "https://elements.nexus.availproject.org/r/card.json",
    "https://elements.nexus.availproject.org/r/checkbox.json",
    "https://elements.nexus.availproject.org/r/dialog.json",
    "https://elements.nexus.availproject.org/r/nexus-provider.json",
    "https://elements.nexus.availproject.org/r/skeleton.json",
    "https://elements.nexus.availproject.org/r/tabs.json",
    "https://elements.nexus.availproject.org/r/utils.json"
  ],
  "files": [
    {
      "path": "registry/nexus-elements/deposit/components/amount-card.tsx",
      "content": "\"use client\";\n\nimport { useCallback, useRef, useEffect, useState, useMemo } from \"react\";\nimport { TokenIcon } from \"./token-icon\";\nimport { ErrorBanner } from \"./error-banner\";\nimport { PercentageSelector } from \"./percentage-selector\";\nimport { parseCurrencyInput } from \"../utils\";\nimport { UpDownArrows } from \"./icons\";\nimport { usdFormatter } from \"../../common\";\nimport { type DestinationConfig } from \"../types\";\nimport {\n  BALANCE_SAFETY_MARGIN,\n  CHARACTER_ANIMATION_DURATION_MS,\n  SHINE_ANIMATION_DURATION_MS,\n  MAX_INPUT_WIDTH_PX,\n} from \"../constants/widget\";\n\n// Hoisted RegExp to avoid recreation on every render (js-hoist-regexp)\nconst NUMERIC_INPUT_REGEX = /^\\d*\\.?\\d*$/;\n\ninterface AmountCardProps {\n  amount?: string;\n  onAmountChange?: (amount: string) => void;\n  selectedTokenAmount?: number;\n  onErrorStateChange?: (hasError: boolean) => void;\n  totalSelectedBalance: number;\n  totalBalance: {\n    balance: number;\n    usdBalance: number;\n  };\n  destinationConfig: DestinationConfig;\n}\n\nfunction AmountCard({\n  amount: externalAmount,\n  onAmountChange,\n  selectedTokenAmount = 0,\n  onErrorStateChange,\n  totalSelectedBalance,\n  totalBalance,\n  destinationConfig,\n}: AmountCardProps) {\n  const [internalAmount, setInternalAmount] = useState(\"\");\n  const amount = externalAmount ?? internalAmount;\n  const setAmount = onAmountChange ?? setInternalAmount;\n\n  const [inputWidth, setInputWidth] = useState(0);\n  const [isShining, setIsShining] = useState(false);\n  const [animatingIndices, setAnimatingIndices] = useState<Set<number>>(\n    new Set(),\n  );\n  const prevAmountRef = useRef<string>(\"\");\n  const prevLengthRef = useRef(0);\n  const measureRef = useRef<HTMLSpanElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const displayValue = amount || \"\";\n  const measureText = displayValue || \"0\";\n\n  // Split display value into characters for animation\n  const displayChars = displayValue.split(\"\");\n\n  // Track which characters should animate (newly added ones)\n  useEffect(() => {\n    const currentLength = displayValue.length;\n    const prevLength = prevLengthRef.current;\n\n    // Only animate when characters are added (not removed)\n    if (currentLength > prevLength) {\n      const newIndices = new Set<number>();\n      for (let i = prevLength; i < currentLength; i++) {\n        newIndices.add(i);\n      }\n      setAnimatingIndices(newIndices);\n\n      // Clear animation after it completes\n      const timer = setTimeout(() => {\n        setAnimatingIndices(new Set());\n      }, CHARACTER_ANIMATION_DURATION_MS);\n\n      prevLengthRef.current = currentLength;\n      return () => clearTimeout(timer);\n    }\n\n    prevLengthRef.current = currentLength;\n  }, [displayValue]);\n\n  // Calculate numeric amount for USD equivalent\n  const numericAmount = useMemo(() => {\n    if (!amount) return 0;\n    const parsed = parseFloat(amount.replace(/,/g, \"\"));\n    return isNaN(parsed) ? 0 : parsed;\n  }, [amount]);\n\n  // Check if amount exceeds wallet balance\n  const exceedsBalance = useMemo(() => {\n    if (!amount) return false;\n    const numericAmount = parseFloat(amount.replace(/,/g, \"\"));\n    return !isNaN(numericAmount) && numericAmount > totalBalance?.usdBalance;\n  }, [amount, totalBalance?.usdBalance]);\n\n  // Check if amount exceeds selected token amount but is within wallet balance\n  const exceedsSelectedTokens = useMemo(() => {\n    if (!amount || selectedTokenAmount === 0) return false;\n    const numericAmount = parseFloat(amount.replace(/,/g, \"\"));\n    return (\n      !isNaN(numericAmount) &&\n      numericAmount > selectedTokenAmount &&\n      numericAmount <= totalBalance?.usdBalance\n    );\n  }, [amount, selectedTokenAmount, totalBalance?.usdBalance]);\n\n  useEffect(() => {\n    if (measureRef.current) {\n      setInputWidth(measureRef.current.offsetWidth);\n    }\n  }, [measureText]);\n\n  // Trigger shine effect when USD amount changes\n  useEffect(() => {\n    if (amount && amount !== prevAmountRef.current && numericAmount > 0) {\n      setIsShining(true);\n      const timer = setTimeout(() => {\n        setIsShining(false);\n      }, SHINE_ANIMATION_DURATION_MS);\n      prevAmountRef.current = amount;\n      return () => clearTimeout(timer);\n    }\n    prevAmountRef.current = amount;\n  }, [amount, numericAmount]);\n\n  // Notify parent of error state changes\n  useEffect(() => {\n    const hasError = exceedsBalance || exceedsSelectedTokens;\n    onErrorStateChange?.(hasError);\n  }, [exceedsBalance, exceedsSelectedTokens, onErrorStateChange]);\n\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const rawValue = parseCurrencyInput(e.target.value);\n\n      // Validate numeric input (allow unlimited decimals)\n      if (rawValue === \"\" || NUMERIC_INPUT_REGEX.test(rawValue)) {\n        setAmount(rawValue);\n      }\n    },\n    [setAmount],\n  );\n\n  const handlePercentageClick = useCallback(\n    (percentage: number) => {\n      const safeBalance = totalBalance?.usdBalance * BALANCE_SAFETY_MARGIN;\n      const calculatedAmount = safeBalance * percentage;\n      const newAmount = usdFormatter.format(calculatedAmount).replace(\"$\", \"\");\n      setAmount(newAmount);\n    },\n    [setAmount, totalBalance?.usdBalance],\n  );\n\n  const handleDoubleClick = useCallback(() => {\n    // Select all text on double click\n    if (inputRef.current) {\n      inputRef.current.select();\n    }\n  }, []);\n\n  // Handle keyboard shortcuts like Ctrl+A\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.ctrlKey && e.key === \"a\") {\n        e.preventDefault();\n        if (inputRef.current) {\n          inputRef.current.select();\n        }\n      }\n    },\n    [],\n  );\n\n  return (\n    <div className=\"py-8 min-h-[212px] w-full rounded-lg border bg-base text-muted-foreground shadow-[0_1px_12px_0_rgba(91,91,91,0.05)]\">\n      {/* Hidden span to measure text width */}\n      <span\n        ref={measureRef}\n        className=\"absolute invisible whitespace-pre font-display text-[32px] font-medium tracking-[0.8px] tabular-nums\"\n        aria-hidden=\"true\"\n      >\n        {measureText}\n      </span>\n\n      {/* Amount Input Section */}\n      <div\n        className={`w-full flex items-center justify-center gap-3 transition-all duration-300 ease-out ${\n          numericAmount > 0 ? \"-mt-0.5\" : \"mt-1.5\"\n        }`}\n      >\n        <TokenIcon\n          tokenSrc={destinationConfig.tokenLogo ?? \"/usdc.svg\"}\n          protocolSrc={destinationConfig?.depositTargetLogo}\n          tokenAlt=\"USDC\"\n        />\n        <div className=\"relative\">\n          {/* Animated digits layer (behind input) */}\n          <div\n            className=\"flex items-center pointer-events-none\"\n            aria-hidden=\"true\"\n          >\n            {displayChars.map((char, index) => (\n              <span\n                key={`${index}-${char}-${\n                  animatingIndices.has(index) ? \"anim\" : \"static\"\n                }`}\n                className={`font-display text-[32px] font-medium tracking-[0.8px] tabular-nums inline-block ${\n                  animatingIndices.has(index) ? \"animate-digit-in\" : \"\"\n                } ${amount ? \"text-card-foreground\" : \"text-muted-foreground\"}`}\n              >\n                {char}\n              </span>\n            ))}\n            {/* Placeholder when empty */}\n            {displayValue.length === 0 && (\n              <span className=\"text-muted-foreground font-display text-[32px] font-medium tracking-[0.8px] tabular-nums\">\n                0\n              </span>\n            )}\n          </div>\n\n          {/* Real input overlaid with transparent text (for cursor positioning) */}\n          <input\n            ref={inputRef}\n            type=\"text\"\n            inputMode=\"decimal\"\n            value={displayValue}\n            onChange={handleInputChange}\n            onDoubleClick={handleDoubleClick}\n            onKeyDown={handleKeyDown}\n            placeholder=\"0\"\n            style={{\n              width:\n                inputWidth > 0\n                  ? Math.min(inputWidth + 4, MAX_INPUT_WIDTH_PX)\n                  : undefined,\n              maxWidth: \"calc(100vw - 100px)\",\n            }}\n            className=\"absolute inset-0 font-display text-[32px] font-medium tracking-[0.8px] tabular-nums bg-transparent border-none outline-none min-w-[22px] text-transparent caret-card-foreground placeholder:text-transparent\"\n          />\n        </div>\n      </div>\n\n      {/* USD Equivalent - animated height reveal */}\n      <div\n        className={`grid transition-all duration-300 ease-out ${\n          numericAmount > 0\n            ? \"grid-rows-[1fr] opacity-100\"\n            : \"grid-rows-[0fr] opacity-0 mt-2\"\n        }`}\n      >\n        <div className=\"overflow-hidden\">\n          <div className=\"flex items-center justify-center gap-1 text-muted-foreground h-5\">\n            <span\n              key={isShining ? \"shining\" : \"static\"}\n              className={`text-[13px] ${\n                isShining ? \"animate-glare-shine\" : \"\"\n              }`}\n            >\n              ~ {usdFormatter.format(numericAmount)}\n            </span>\n            <UpDownArrows className=\"w-4 h-4\" />\n          </div>\n        </div>\n      </div>\n\n      {/* Percentage Selector */}\n      <div className={numericAmount > 0 ? \"-mt-px\" : \"\"}>\n        <PercentageSelector onPercentageClick={handlePercentageClick} />\n      </div>\n\n      {/* Balance Display */}\n      <div className=\"mt-[33px] font-sans text-sm leading-4.5 text-base-foreground-2 text-center\">\n        Balance: {usdFormatter.format(totalSelectedBalance)}\n      </div>\n\n      {/* Error Banner */}\n      {exceedsBalance && (\n        <div className=\"mt-4 mx-4\">\n          <ErrorBanner message=\"You don't have enough wallet balance.\" />\n        </div>\n      )}\n      {exceedsSelectedTokens && (\n        <div className=\"mt-4 mx-4\">\n          <ErrorBanner message=\"Amount exceeds your selected token balance. Select more tokens or reduce the amount to continue.\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AmountCard;\n",
      "type": "registry:component",
      "target": "components/deposit/components/amount-card.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/amount-container.tsx",
      "content": "\"use client\";\n\nimport { useCallback, useMemo, useState } from \"react\";\nimport WidgetHeader from \"./widget-header\";\nimport type { DepositWidgetContextValue } from \"../types\";\nimport AmountCard from \"./amount-card\";\nimport PayUsing from \"./pay-using\";\nimport { ErrorBanner } from \"./error-banner\";\nimport { Button } from \"../../ui/button\";\nimport { CardContent } from \"../../ui/card\";\nimport { Skeleton } from \"../../ui/skeleton\";\n\ninterface AmountContainerProps {\n  widget: DepositWidgetContextValue;\n  heading?: string;\n  onClose?: () => void;\n}\n\nconst AmountContainer = ({\n  widget,\n  heading,\n  onClose,\n}: AmountContainerProps) => {\n  const [hasAmountError, setHasAmountError] = useState(false);\n  const selectedTokenAmount = useMemo(\n    () => widget.totalSelectedBalance,\n    [widget.totalSelectedBalance],\n  );\n\n  const handleAmountChange = useCallback(\n    (amount: string) => {\n      widget.setInputs({ amount });\n    },\n    [widget.setInputs],\n  );\n\n  const handleErrorStateChange = useCallback((hasError: boolean) => {\n    setHasAmountError(hasError);\n  }, []);\n\n  return (\n    <>\n      <WidgetHeader\n        title={heading ?? \"\"}\n        onClose={onClose}\n        depositTargetLogo={widget?.destination?.depositTargetLogo}\n      />\n      <CardContent>\n        <div className=\"flex flex-col gap-4\">\n          {widget.totalBalance?.balance && widget?.totalBalance?.usdBalance ? (\n            <AmountCard\n              totalBalance={widget.totalBalance!}\n              amount={widget.inputs.amount ?? \"\"}\n              onAmountChange={handleAmountChange}\n              selectedTokenAmount={selectedTokenAmount}\n              onErrorStateChange={handleErrorStateChange}\n              totalSelectedBalance={widget.totalSelectedBalance}\n              destinationConfig={widget.destination}\n            />\n          ) : (\n            <Skeleton className=\"min-h-[212px]\" />\n          )}\n\n          {widget.txError && widget.status === \"error\" && (\n            <ErrorBanner message={widget.txError} />\n          )}\n          <div className=\"flex flex-col\">\n            <PayUsing\n              onClick={() => widget.goToStep(\"asset-selection\")}\n              selectedChainIds={widget.assetSelection.selectedChainIds}\n              amount={widget.inputs.amount}\n              swapBalance={widget.swapBalance}\n            />\n            <Button\n              className=\"rounded-t-none\"\n              onClick={() => widget.goToStep(\"confirmation\")}\n              disabled={\n                widget.isProcessing ||\n                hasAmountError ||\n                !widget.inputs.amount ||\n                widget.inputs.amount === \"0\"\n              }\n            >\n              Continue\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </>\n  );\n};\n\nexport default AmountContainer;\n",
      "type": "registry:component",
      "target": "components/deposit/components/amount-container.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/amount-display.tsx",
      "content": "interface AmountDisplayProps {\n  amount: string;\n  suffix: string;\n  label: string;\n  align?: \"left\" | \"center\" | \"right\";\n  size?: \"default\" | \"compact\";\n}\n\nexport function AmountDisplay({\n  amount,\n  suffix,\n  label,\n  align = \"center\",\n  size = \"default\",\n}: AmountDisplayProps) {\n  const alignmentClasses = {\n    left: \"items-start text-left\",\n    center: \"items-center text-center\",\n    right: \"items-end text-right\",\n  };\n\n  const amountSizeClasses = {\n    default: \"text-[23px] tracking-[0.52px]\",\n    compact: \"text-xl tracking-[0.4px]\",\n  };\n\n  const suffixSizeClasses = {\n    default: \"text-sm\",\n    compact: \"text-xs\",\n  };\n\n  const labelSizeClasses = {\n    default: \"text-sm\",\n    compact: \"text-xs\",\n  };\n\n  return (\n    <div className={`flex flex-col gap-0.5 ${alignmentClasses[align]} w-1/3`}>\n      <div className=\"flex items-baseline gap-1\">\n        <span\n          className={`font-display text-card-foreground font-medium leading-tight ${amountSizeClasses[size]}`}\n        >\n          {amount}\n        </span>\n        <span\n          className={`text-muted-foreground font-sans ${suffixSizeClasses[size]}`}\n        >\n          {suffix}\n        </span>\n      </div>\n      <div\n        className={`text-muted-foreground leading-5 font-sans ${labelSizeClasses[size]}`}\n      >\n        {label}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/amount-display.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/animated-amount.tsx",
      "content": "\"use client\";\n\ntype AnimationDirection = \"up\" | \"down\" | \"none\";\n\n/**\n * Determine animation direction for a single character\n */\nfunction getCharDirection(\n  prevChar: string | undefined,\n  currChar: string\n): AnimationDirection {\n  // Non-digit characters (like $, comma, period) don't animate\n  if (!/\\d/.test(currChar)) return \"none\";\n\n  // New digit that didn't exist before - animate up\n  if (prevChar === undefined) return \"up\";\n\n  // Previous wasn't a digit - animate based on new value\n  if (!/\\d/.test(prevChar)) return \"up\";\n\n  const prev = parseInt(prevChar, 10);\n  const curr = parseInt(currChar, 10);\n\n  if (curr > prev) return \"up\";\n  if (curr < prev) return \"down\";\n  return \"none\";\n}\n\n/**\n * Align strings from decimal point for proper digit comparison\n */\nfunction alignStringsForComparison(\n  prev: string,\n  curr: string\n): { prevAligned: string[]; currAligned: string[] } {\n  // Extract parts before and after decimal\n  const [prevInt, prevDec = \"\"] = prev.replace(/[^0-9.]/g, \"\").split(\".\");\n  const [currInt, currDec = \"\"] = curr.replace(/[^0-9.]/g, \"\").split(\".\");\n\n  // Pad integer parts from the left\n  const maxIntLen = Math.max(prevInt.length, currInt.length);\n  const prevIntPadded = prevInt.padStart(maxIntLen, \" \");\n  const currIntPadded = currInt.padStart(maxIntLen, \" \");\n\n  // Pad decimal parts from the right\n  const maxDecLen = Math.max(prevDec.length, currDec.length);\n  const prevDecPadded = prevDec.padEnd(maxDecLen, \" \");\n  const currDecPadded = currDec.padEnd(maxDecLen, \" \");\n\n  // Reconstruct with formatting characters from current value\n  const currChars = curr.split(\"\");\n  const prevAligned: string[] = [];\n\n  let intIdx = 0;\n  let decIdx = 0;\n  let inDecimal = false;\n\n  for (const char of currChars) {\n    if (char === \".\") {\n      inDecimal = true;\n      prevAligned.push(\".\");\n    } else if (/\\d/.test(char)) {\n      if (inDecimal) {\n        prevAligned.push(prevDecPadded[decIdx] || \" \");\n        decIdx++;\n      } else {\n        prevAligned.push(prevIntPadded[intIdx] || \" \");\n        intIdx++;\n      }\n    } else {\n      // Non-digit, non-decimal (like $ or ,)\n      prevAligned.push(char);\n    }\n  }\n\n  return { prevAligned, currAligned: currChars };\n}\n\ninterface AnimatedDigitProps {\n  char: string;\n  direction: AnimationDirection;\n  delay: number;\n}\n\nfunction AnimatedDigit({ char, direction, delay }: AnimatedDigitProps) {\n  const animationClass =\n    direction === \"up\"\n      ? \"animate-digit-up\"\n      : direction === \"down\"\n      ? \"animate-digit-down\"\n      : \"\";\n\n  return (\n    <span\n      className={`inline-block ${animationClass}`}\n      style={{\n        animationDelay: direction !== \"none\" ? `${delay}ms` : undefined,\n        animationFillMode: \"both\",\n        willChange: direction !== \"none\" ? \"transform, opacity\" : undefined,\n      }}\n    >\n      {char}\n    </span>\n  );\n}\n\nexport interface AnimatedAmountProps {\n  value: string;\n  previousValue: string;\n  className?: string;\n}\n\nexport function AnimatedAmount({\n  value,\n  previousValue,\n  className,\n}: AnimatedAmountProps) {\n  const { prevAligned, currAligned } = alignStringsForComparison(\n    previousValue,\n    value\n  );\n\n  let animatingIndex = 0;\n\n  return (\n    <span className={`${className} tabular-nums`}>\n      {currAligned.map((char, index) => {\n        const prevChar = prevAligned[index];\n        const direction = getCharDirection(prevChar, char);\n        const delay = direction !== \"none\" ? animatingIndex * 20 : 0;\n        if (direction !== \"none\") animatingIndex++;\n\n        return (\n          <AnimatedDigit\n            key={`${index}-${char}-${value}`}\n            char={char}\n            direction={direction}\n            delay={delay}\n          />\n        );\n      })}\n    </span>\n  );\n}\n\n",
      "type": "registry:component",
      "target": "components/deposit/components/animated-amount.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/asset-selection-container.tsx",
      "content": "\"use client\";\n\nimport {\n  useMemo,\n  useCallback,\n  useState,\n  useEffect,\n  useRef,\n  startTransition,\n  useDeferredValue,\n} from \"react\";\nimport { ChevronDownIcon } from \"./icons\";\nimport WidgetHeader from \"./widget-header\";\nimport type {\n  DepositWidgetContextValue,\n  Token,\n  TokenCategory,\n  ChainItem,\n} from \"../types\";\nimport { Tabs, TabsList, TabsTrigger } from \"../../ui/tabs\";\nimport { CardContent } from \"../../ui/card\";\nimport { Button } from \"../../ui/button\";\nimport TokenRow from \"./token-row\";\nimport {\n  CHAIN_METADATA,\n  formatTokenBalance,\n  type UserAsset,\n} from \"@avail-project/nexus-core\";\nimport { usdFormatter } from \"../../common\";\nimport {\n  isStablecoin,\n  checkIfMatchesPreset,\n  isNative,\n} from \"../utils/asset-helpers\";\nimport { X } from \"lucide-react\";\nimport {\n  SCROLL_THRESHOLD_PX,\n  PROGRESS_BAR_ANIMATION_DELAY_MS,\n  PROGRESS_BAR_EXIT_DURATION_MS,\n} from \"../constants/widget\";\n\ninterface AssetSelectionContainerProps {\n  widget: DepositWidgetContextValue;\n  heading?: string;\n  onClose?: () => void;\n}\n\nfunction transformSwapBalanceToTokens(\n  swapBalance: UserAsset[] | null,\n): Token[] {\n  if (!swapBalance) return [];\n  console.log(\"SWAP_BALANCE\", swapBalance);\n  return swapBalance\n    .filter((asset) => asset.breakdown && asset.breakdown.length > 0)\n    .map((asset) => {\n      const chains: ChainItem[] = (asset.breakdown || [])\n        .filter((b) => b.chain && b.balance)\n        .map((b) => {\n          const balanceNum = parseFloat(b.balance);\n          return {\n            id: `${b.contractAddress}-${b.chain.id}`,\n            tokenAddress: b.contractAddress as `0x${string}`,\n            chainId: b.chain.id,\n            name: b.chain.name,\n            usdValue: b.balanceInFiat,\n            amount: balanceNum,\n          };\n        })\n        .sort((a, b) => {\n          const aVal = a.usdValue;\n          const bVal = b.usdValue;\n          return bVal - aVal;\n        });\n\n      const totalUsdValue = chains.reduce((sum, c) => sum + c.usdValue, 0);\n\n      const totalAmount = chains.reduce((sum, c) => sum + c.amount, 0);\n\n      let category: TokenCategory;\n      if (isStablecoin(asset.symbol)) {\n        category = \"stablecoin\";\n      } else if (isNative(asset.symbol)) {\n        category = \"native\";\n      } else {\n        category = \"memecoin\";\n      }\n\n      return {\n        id: asset.symbol,\n        symbol: asset.symbol,\n        chainsLabel:\n          chains.length > 1\n            ? `${chains.length} Chain${chains.length !== 1 ? \"s\" : \"\"}`\n            : chains[0].name,\n        usdValue: usdFormatter.format(totalUsdValue),\n        amount: formatTokenBalance(totalAmount, {\n          decimals: asset.decimals,\n          symbol: asset.symbol,\n        }),\n        decimals: asset.decimals,\n        logo: asset.icon || \"\",\n        category,\n        chains,\n      };\n    });\n}\n\nconst AssetSelectionContainer = ({\n  widget,\n  heading,\n  onClose,\n}: AssetSelectionContainerProps) => {\n  const { assetSelection, setAssetSelection, swapBalance } = widget;\n\n  const [isProgressBarVisible, setIsProgressBarVisible] = useState(false);\n  const [isProgressBarEntering, setIsProgressBarEntering] = useState(false);\n  const [isProgressBarExiting, setIsProgressBarExiting] = useState(false);\n  const [showStickyPopular, setShowStickyPopular] = useState(false);\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const popularSectionRef = useRef<HTMLDivElement>(null);\n\n  const selectedChainIds = assetSelection.selectedChainIds;\n  const filter = assetSelection.filter;\n  const expandedTokens = assetSelection.expandedTokens;\n\n  // Defer expensive token transformation to avoid blocking UI\n  const deferredSwapBalance = useDeferredValue(swapBalance);\n\n  const tokens = useMemo(\n    () => transformSwapBalanceToTokens(deferredSwapBalance),\n    [deferredSwapBalance],\n  );\n\n  // Build index Map for O(1) token lookups (js-index-maps)\n  const tokensById = useMemo(\n    () => new Map(tokens.map((t) => [t.id, t])),\n    [tokens],\n  );\n\n  const mainTokens = useMemo(\n    () =>\n      tokens.filter(\n        (t) => t.category === \"stablecoin\" || t.category === \"native\",\n      ),\n    [tokens],\n  );\n\n  const otherTokens = useMemo(\n    () => tokens.filter((t) => t.category === \"memecoin\"),\n    [tokens],\n  );\n\n  const selectedAmount = useMemo(() => {\n    let total = 0;\n    tokens.forEach((token) => {\n      token.chains.forEach((chain) => {\n        if (selectedChainIds.has(chain.id)) {\n          total += chain.usdValue;\n        }\n      });\n    });\n    return total;\n  }, [tokens, selectedChainIds]);\n\n  const requiredAmount = widget.inputs.amount\n    ? parseFloat(widget.inputs.amount.replace(/,/g, \"\"))\n    : 0;\n\n  const showProgressBar = requiredAmount > 0 && requiredAmount > selectedAmount;\n  const progressPercent =\n    requiredAmount > 0\n      ? Math.min((selectedAmount / requiredAmount) * 100, 100)\n      : 0;\n\n  useEffect(() => {\n    if (showProgressBar) {\n      setIsProgressBarVisible(true);\n      setIsProgressBarExiting(false);\n      setIsProgressBarEntering(true);\n      const timer = setTimeout(() => {\n        setIsProgressBarEntering(false);\n      }, PROGRESS_BAR_ANIMATION_DELAY_MS);\n      return () => clearTimeout(timer);\n    } else if (isProgressBarVisible) {\n      setIsProgressBarExiting(true);\n      const timer = setTimeout(() => {\n        setIsProgressBarVisible(false);\n        setIsProgressBarExiting(false);\n      }, PROGRESS_BAR_EXIT_DURATION_MS);\n      return () => clearTimeout(timer);\n    }\n  }, [showProgressBar, isProgressBarVisible]);\n\n  useEffect(() => {\n    const container = scrollContainerRef.current;\n    if (!container) return;\n\n    // Use startTransition for non-urgent scroll updates (rerender-transitions)\n    const handleScroll = () => {\n      const scrollTop = container.scrollTop;\n      startTransition(() => {\n        setShowStickyPopular(scrollTop > SCROLL_THRESHOLD_PX);\n      });\n    };\n\n    container.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => container.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const scrollToPopular = useCallback(() => {\n    scrollContainerRef.current?.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  }, []);\n\n  const handlePresetClick = useCallback(\n    (preset: \"all\" | \"stablecoins\" | \"native\") => {\n      const newChainIds = new Set<string>();\n      tokens.forEach((token) => {\n        const shouldInclude =\n          preset === \"all\" ||\n          (preset === \"stablecoins\" && token.category === \"stablecoin\") ||\n          (preset === \"native\" && token.category === \"native\");\n\n        if (shouldInclude) {\n          token.chains.forEach((chain) => newChainIds.add(chain.id));\n        }\n      });\n      setAssetSelection({\n        selectedChainIds: newChainIds,\n        filter: preset,\n      });\n    },\n    [tokens, setAssetSelection],\n  );\n\n  const toggleTokenSelection = useCallback(\n    (tokenId: string) => {\n      const token = tokensById.get(tokenId); // O(1) lookup instead of O(n)\n      if (!token) return;\n\n      const allChainsSelected = token.chains.every((c) =>\n        selectedChainIds.has(c.id),\n      );\n      const newChainIds = new Set(selectedChainIds);\n\n      if (allChainsSelected) {\n        token.chains.forEach((chain) => newChainIds.delete(chain.id));\n      } else {\n        token.chains.forEach((chain) => newChainIds.add(chain.id));\n      }\n\n      const newFilter = checkIfMatchesPreset(tokens, newChainIds);\n      setAssetSelection({\n        selectedChainIds: newChainIds,\n        filter: newFilter,\n      });\n    },\n    [tokens, tokensById, selectedChainIds, setAssetSelection],\n  );\n\n  const toggleChainSelection = useCallback(\n    (chainId: string) => {\n      const newChainIds = new Set(selectedChainIds);\n      if (newChainIds.has(chainId)) {\n        newChainIds.delete(chainId);\n      } else {\n        newChainIds.add(chainId);\n      }\n\n      const newFilter = checkIfMatchesPreset(tokens, newChainIds);\n      setAssetSelection({\n        selectedChainIds: newChainIds,\n        filter: newFilter,\n      });\n    },\n    [tokens, selectedChainIds, setAssetSelection],\n  );\n\n  const toggleExpanded = useCallback(\n    (tokenId: string) => {\n      let newExpanded = new Set(expandedTokens);\n      if (tokenId === \"others-section\") {\n        if (newExpanded.has(\"others-section\")) {\n          newExpanded.delete(\"others-section\");\n        } else {\n          newExpanded = new Set(newExpanded);\n          newExpanded.add(\"others-section\");\n          setTimeout(() => {\n            if (scrollContainerRef.current) {\n              const currentScrollTop = scrollContainerRef.current.scrollTop;\n              scrollContainerRef.current.scrollTo({\n                top: currentScrollTop + 70,\n                behavior: \"smooth\",\n              });\n            }\n          }, 100);\n        }\n      } else {\n        const othersExpanded = newExpanded.has(\"others-section\");\n        if (newExpanded.has(tokenId)) {\n          newExpanded = othersExpanded\n            ? new Set([\"others-section\"])\n            : new Set();\n        } else {\n          newExpanded = othersExpanded\n            ? new Set([\"others-section\", tokenId])\n            : new Set([tokenId]);\n        }\n      }\n      setAssetSelection({ expandedTokens: newExpanded });\n    },\n    [expandedTokens, setAssetSelection],\n  );\n\n  const handleDeselectAll = useCallback(() => {\n    setAssetSelection({\n      selectedChainIds: new Set(),\n      filter: \"custom\",\n    });\n  }, [setAssetSelection]);\n\n  const handleDone = useCallback(() => {\n    widget.goToStep(\"amount\");\n  }, [widget]);\n\n  return (\n    <>\n      <WidgetHeader\n        title={heading ?? \"\"}\n        onBack={widget.goBack}\n        onClose={onClose}\n        depositTargetLogo={widget?.destination?.depositTargetLogo}\n      />\n      <CardContent>\n        <div className=\"flex flex-col gap-4\">\n          <div className=\"flex items-center justify-between\">\n            <Tabs\n              value={filter}\n              onValueChange={(value) => {\n                if (value !== \"custom\") {\n                  handlePresetClick(value as \"all\" | \"stablecoins\" | \"native\");\n                }\n              }}\n            >\n              <TabsList>\n                <TabsTrigger value=\"all\">Any token</TabsTrigger>\n                <TabsTrigger value=\"stablecoins\">Stablecoins</TabsTrigger>\n                <TabsTrigger value=\"native\">Native</TabsTrigger>\n                {filter === \"custom\" && (\n                  <TabsTrigger value=\"custom\">Custom</TabsTrigger>\n                )}\n              </TabsList>\n            </Tabs>\n            <button\n              className=\"text-xs font-medium text-muted-foreground hover:text-foreground transition-colors cursor-pointer\"\n              onClick={handleDeselectAll}\n            >\n              {filter === \"custom\" ? <X className=\"size-4\" /> : \"Deselect all\"}\n            </button>\n          </div>\n\n          <div className=\"flex flex-col\">\n            <div className=\"relative\">\n              {showStickyPopular && mainTokens.length > 0 && (\n                <button\n                  className=\"absolute top-2 left-1/2 -translate-x-1/2 z-10 text-xs font-medium text-primary hover:text-primary/80 transition-colors cursor-pointer border border-primary/10 px-2 py-1 bg-background\"\n                  onClick={scrollToPopular}\n                >\n                  Popular\n                </button>\n              )}\n              <div\n                ref={scrollContainerRef}\n                className=\"w-full overflow-y-auto max-h-[300px] scrollbar-hide\"\n              >\n                {mainTokens.length > 0 && (\n                  <div\n                    ref={popularSectionRef}\n                    className=\"w-full rounded-lg border overflow-hidden\"\n                  >\n                    <div className=\"px-5 py-2 bg-muted/30 border-b\">\n                      <span className=\"font-sans text-xs font-medium text-muted-foreground\">\n                        Popular\n                      </span>\n                    </div>\n                    {mainTokens.map((token, index) => (\n                      <TokenRow\n                        key={token.id}\n                        token={token}\n                        selectedChainIds={selectedChainIds}\n                        isExpanded={expandedTokens.has(token.id)}\n                        onToggleExpand={() => toggleExpanded(token.id)}\n                        onToggleToken={() => toggleTokenSelection(token.id)}\n                        onToggleChain={toggleChainSelection}\n                        isFirst={false}\n                        isLast={index === mainTokens.length - 1}\n                      />\n                    ))}\n                  </div>\n                )}\n\n                {otherTokens.length > 0 && (\n                  <div className=\"w-full bg-base rounded-t-lg border overflow-hidden mt-4\">\n                    <div\n                      className=\"p-5 flex justify-between items-center cursor-pointer\"\n                      onClick={() => toggleExpanded(\"others-section\")}\n                    >\n                      <span className=\"font-sans text-sm text-muted-foreground\">\n                        Others ({otherTokens.length})\n                      </span>\n                      <ChevronDownIcon\n                        className={`text-muted-foreground transition-transform duration-200 ${\n                          expandedTokens.has(\"others-section\")\n                            ? \"rotate-180\"\n                            : \"\"\n                        }`}\n                      />\n                    </div>\n\n                    {expandedTokens.has(\"others-section\") && (\n                      <div className=\"w-full border-t\">\n                        {otherTokens.map((token, index) => (\n                          <TokenRow\n                            key={token.id}\n                            token={token}\n                            selectedChainIds={selectedChainIds}\n                            isExpanded={expandedTokens.has(token.id)}\n                            onToggleExpand={() => toggleExpanded(token.id)}\n                            onToggleToken={() => toggleTokenSelection(token.id)}\n                            onToggleChain={toggleChainSelection}\n                            isFirst={index === 0}\n                            isLast={index === otherTokens.length - 1}\n                          />\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              {!showProgressBar && (\n                <div\n                  className=\"absolute bottom-0 left-px right-px h-12 pointer-events-none dark:hidden\"\n                  style={{\n                    background:\n                      \"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, var(--background) 100%)\",\n                  }}\n                />\n              )}\n              {!showProgressBar && (\n                <div\n                  className=\"absolute bottom-0 left-px right-px h-12 pointer-events-none hidden dark:block\"\n                  style={{\n                    background:\n                      \"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, var(--background) 100%)\",\n                  }}\n                />\n              )}\n            </div>\n\n            <Button className=\"w-full rounded-t-none\" onClick={handleDone}>\n              Done\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n\n      {isProgressBarVisible && (\n        <div\n          className={`absolute -bottom-6 left-0 right-0 z-20 flex flex-col gap-2 pt-5 pb-8 px-7 bg-card border-t shadow-[0_-11px_12px_0_rgba(91,91,91,0.05)] transform transition-transform duration-300 ease-out ${\n            isProgressBarEntering || isProgressBarExiting\n              ? \"translate-y-full\"\n              : \"translate-y-0\"\n          }`}\n        >\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-muted-foreground\">\n              Selected / Required\n            </span>\n            <span className=\"text-sm\">\n              <span className=\"font-semibold text-card-foreground\">\n                ${selectedAmount.toLocaleString()}\n              </span>\n              <span className=\"text-muted-foreground\">\n                {\" \"}\n                / ${requiredAmount.toLocaleString()}\n              </span>\n            </span>\n          </div>\n          <div className=\"w-full h-1.5 bg-muted rounded-full overflow-hidden\">\n            <div\n              className=\"h-full bg-primary transition-all duration-300 rounded-full\"\n              style={{ width: `${progressPercent}%` }}\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AssetSelectionContainer;\n",
      "type": "registry:component",
      "target": "components/deposit/components/asset-selection-container.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/button-card.tsx",
      "content": "import { cn } from \"@/lib/utils\";\n\ninterface ButtonCardProps {\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n  icon: React.ReactNode;\n  rightIcon?: React.ReactNode;\n  rightIconClassName?: string;\n  onClick?: () => void;\n  disabled?: boolean;\n  roundedBottom?: boolean;\n}\n\nfunction ButtonCard({\n  title,\n  subtitle,\n  icon,\n  rightIcon,\n  rightIconClassName,\n  onClick,\n  disabled = false,\n  roundedBottom = true,\n}: ButtonCardProps) {\n  return (\n    <div\n      className={cn(\n        \"p-5 border flex justify-between group/button-card transition-all duration-200\",\n        roundedBottom ? \"rounded-lg\" : \"rounded-t-lg\",\n        disabled\n          ? \"cursor-default opacity-70\"\n          : \"bg-base shadow-[0_1px_12px_0_rgba(91,91,91,0.05)] hover:shadow-[0_1px_12px_0_rgba(91,91,91,0.08)] cursor-pointer\"\n      )}\n      onClick={disabled ? undefined : onClick}\n    >\n      <div className=\"flex gap-4 items-center justify-start\">\n        {/* Icon */}\n        <div className=\"w-5 h-5 flex items-center justify-center\">{icon}</div>\n\n        {/* Text Content */}\n        <div className=\"flex flex-col gap-1.5\">\n          {typeof title === \"string\" ? (\n            <span className=\"text-sm text-card-foreground leading-4.5 font-sans\">\n              {title}\n            </span>\n          ) : (\n            title\n          )}\n          {subtitle &&\n            (typeof subtitle === \"string\" ? (\n              <span className=\"text-sm leading-4.5 text-muted-foreground font-sans\">\n                {subtitle}\n              </span>\n            ) : (\n              subtitle\n            ))}\n        </div>\n      </div>\n\n      {rightIcon && (\n        <div\n          className={cn(\"flex items-center justify-center\", rightIconClassName)}\n        >\n          {rightIcon}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ButtonCard;\n",
      "type": "registry:component",
      "target": "components/deposit/components/button-card.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/confirmation-container.tsx",
      "content": "\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport Image from \"next/image\";\nimport SummaryCard from \"./summary-card\";\nimport { GasPumpIcon, CoinIcon } from \"./icons\";\nimport WidgetHeader from \"./widget-header\";\nimport { ReceiveAmountDisplay } from \"./receive-amount-display\";\nimport { ErrorBanner } from \"./error-banner\";\nimport type { DepositWidgetContextValue } from \"../types\";\nimport { Button } from \"../../ui/button\";\nimport { CardContent } from \"../../ui/card\";\nimport { usdFormatter } from \"../../common\";\nimport { formatTokenBalance } from \"@avail-project/nexus-core\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\n\ninterface ConfirmationContainerProps {\n  widget: DepositWidgetContextValue;\n  heading?: string;\n  onClose?: () => void;\n}\n\nconst ConfirmationContainer = ({\n  widget,\n  heading,\n  onClose,\n}: ConfirmationContainerProps) => {\n  const [showSpendDetails, setShowSpendDetails] = useState(false);\n  const [showFeeDetails, setShowFeeDetails] = useState(false);\n  const { getFiatValue } = useNexus();\n\n  const {\n    confirmationDetails,\n    feeBreakdown,\n    handleConfirmOrder,\n    isProcessing,\n    txError,\n    activeIntent,\n    simulationLoading,\n  } = widget;\n\n  const isLoading = simulationLoading || !activeIntent;\n\n  const receiveAmount =\n    confirmationDetails?.receiveAmountAfterSwapUsd?.toFixed(2) ?? \"0\";\n  const timeLabel = confirmationDetails?.estimatedTime ?? \"~30s\";\n  // This is in USD\n  const amountSpent = confirmationDetails?.amountSpent;\n  // TODO: Ensure unique names are displayed\n  const tokenNames = confirmationDetails?.sources\n    .filter((s) => s)\n    .map((s) => s?.symbol)\n    .slice(0, 2)\n    .join(\", \");\n  const moreCount =\n    (confirmationDetails?.sources.filter((s) => s).length ?? 0) - 2;\n  const tokenNamesSummary =\n    moreCount > 0 ? `${tokenNames} + ${moreCount} more` : tokenNames;\n\n  // Combined filter + map into single iteration (js-combine-iterations)\n  const sourceDetails = useMemo(() => {\n    if (!confirmationDetails?.sources) return [];\n    const result: Array<{\n      chainName: string;\n      chainLogo: string | undefined;\n      tokenSymbol: string;\n      tokenDecimals: number;\n      amount: string;\n      isDestinationBalance: boolean;\n    }> = [];\n    for (const source of confirmationDetails.sources) {\n      if (!source) continue;\n      result.push({\n        chainName: source.chainName ?? \"\",\n        chainLogo: source.chainLogo,\n        tokenSymbol: source.symbol ?? \"\",\n        tokenDecimals: source.decimals ?? 6,\n        amount: source.balance ?? \"0\",\n        isDestinationBalance: source.isDestinationBalance ?? false,\n      });\n    }\n    return result;\n  }, [confirmationDetails]);\n\n  return (\n    <>\n      <WidgetHeader\n        title={heading ?? \"\"}\n        onBack={widget.goBack}\n        onClose={onClose}\n        depositTargetLogo={widget?.destination?.depositTargetLogo}\n      />\n      <CardContent>\n        <div className=\"flex flex-col\">\n          <div className=\"bg-base rounded-t-lg border-t border-l border-r shadow-[0_1px_12px_0_rgba(91,91,91,0.05)] px-6 pt-10 pb-1 flex flex-col gap-6\">\n            <ReceiveAmountDisplay\n              amount={receiveAmount}\n              timeLabel={timeLabel}\n              loading={isLoading}\n              destinationTokenLogo={widget?.destination?.tokenLogo}\n              depositTargetLogo={widget?.destination?.depositTargetLogo}\n            />\n            <div>\n              <SummaryCard\n                icon={<CoinIcon className=\"w-5 h-5 text-muted-foreground\" />}\n                title=\"You spend\"\n                subtitle={\n                  isLoading\n                    ? \"Calculating...\"\n                    : tokenNamesSummary || \"Selected assets\"\n                }\n                value={String(amountSpent)}\n                valueSuffix=\"USD\"\n                showBreakdown={!isLoading && sourceDetails.length > 0}\n                loading={isLoading}\n                expanded={showSpendDetails}\n                onToggleExpand={() => setShowSpendDetails(!showSpendDetails)}\n              >\n                <div className=\"space-y-4\">\n                  {sourceDetails.map((source, index) => {\n                    const amountUsd = getFiatValue(\n                      parseFloat(source.amount),\n                      source.tokenSymbol,\n                    );\n                    return (\n                      <div\n                        key={index}\n                        className=\"flex items-center justify-between\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          {source.chainLogo && (\n                            <img\n                              src={source.chainLogo}\n                              alt={source.chainName}\n                              width={20}\n                              height={20}\n                              className=\"rounded-full\"\n                            />\n                          )}\n                          <div className=\"flex flex-col gap-0.5\">\n                            <span className=\"font-sans text-sm text-card-foreground\">\n                              {source.tokenSymbol}\n                            </span>\n                            <span className=\"font-sans text-[13px] text-muted-foreground\">\n                              {source.chainName}\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"flex flex-col gap-0.5 items-end\">\n                          <span className=\"font-sans text-sm text-card-foreground\">\n                            {usdFormatter.format(amountUsd)}USD\n                          </span>\n                          <span className=\"font-sans text-[13px] text-muted-foreground\">\n                            {formatTokenBalance(parseFloat(source.amount), {\n                              decimals: source.tokenDecimals,\n                              symbol: source.tokenSymbol,\n                            })}\n                          </span>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </SummaryCard>\n\n              <SummaryCard\n                icon={<GasPumpIcon className=\"w-5 h-5 text-muted-foreground\" />}\n                title=\"Total fees\"\n                value={(confirmationDetails?.totalFeeUsd ?? 0).toFixed(2)}\n                valueSuffix=\"USD\"\n                showBreakdown={false}\n                loading={isLoading}\n                expanded={false}\n              />\n            </div>\n          </div>\n          {txError && widget.status === \"error\" && (\n            <ErrorBanner message={txError} />\n          )}\n          <Button\n            className=\"rounded-t-none\"\n            onClick={handleConfirmOrder}\n            disabled={isProcessing || isLoading}\n          >\n            {isProcessing\n              ? \"Fetching quote\"\n              : isLoading\n                ? \"Fetching quote\"\n                : \"Confirm and deposit\"}\n          </Button>\n        </div>\n      </CardContent>\n    </>\n  );\n};\n\nexport default ConfirmationContainer;\n",
      "type": "registry:component",
      "target": "components/deposit/components/confirmation-container.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/confirmation-loading.tsx",
      "content": "\"use client\";\n\nimport WidgetHeader from \"./widget-header\";\nimport { CardContent } from \"../../ui/card\";\nimport { Skeleton } from \"../../ui/skeleton\";\n\ninterface ConfirmationLoadingProps {\n  onClose?: () => void;\n}\n\nconst ConfirmationLoading = ({ onClose }: ConfirmationLoadingProps) => {\n  return (\n    <>\n      <WidgetHeader title=\"Deposit USDC\" onClose={onClose} />\n      <CardContent>\n        <div className=\"flex flex-col\">\n          <div className=\"bg-base rounded-t-lg border-t border-l border-r shadow-[0_1px_12px_0_rgba(91,91,91,0.05)] px-6 pt-10 pb-1 flex flex-col gap-6 animate-pulse\">\n            <div className=\"flex flex-col items-center gap-2\">\n              <Skeleton className=\"h-8 w-32\" />\n              <Skeleton className=\"h-4 w-24\" />\n            </div>\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-4 w-20\" />\n                <Skeleton className=\"h-12 w-full\" />\n              </div>\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-4 w-16\" />\n                <Skeleton className=\"h-8 w-24\" />\n              </div>\n            </div>\n          </div>\n          <Skeleton className=\"h-12 w-full rounded-t-none\" />\n        </div>\n      </CardContent>\n    </>\n  );\n};\n\nexport default ConfirmationLoading;\n",
      "type": "registry:component",
      "target": "components/deposit/components/confirmation-loading.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/error-banner.tsx",
      "content": "import { InfoIcon } from \"./icons\";\n\ninterface ErrorBannerProps {\n  message: string;\n  icon?: boolean;\n}\n\nexport function ErrorBanner({ message, icon = true }: ErrorBannerProps) {\n  return (\n    <div className=\"py-2 px-3 bg-destructive/10 rounded-lg flex items-center gap-2 justify-center\">\n      {icon && <InfoIcon className=\"h-5 w-5 text-destructive shrink-0\" />}\n      <span className=\"font-sans text-[14px] leading-[22px] text-destructive break-all\">\n        {message}\n      </span>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/error-banner.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/icons.tsx",
      "content": "import React from \"react\";\nimport { cn } from \"../utils\";\n\ninterface IconProps {\n  className?: string;\n  size?: number;\n  onClick?: () => void;\n}\n\nexport function EthereumIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-8 h-8\", className)}\n    >\n      <path\n        d=\"M16.0109 2L7.91016 16.2221L16.0109 21.3104L24.0923 16.1738L16.0109 2Z\"\n        strokeMiterlimit=\"10\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"stroke-current\"\n      />\n      <path\n        d=\"M16.0127 29.9996V23.8203\"\n        strokeMiterlimit=\"10\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"stroke-current\"\n      />\n      <path\n        d=\"M16.0109 29.9998L7.91016 18.7322L16.0109 23.8205L24.0923 18.6839L16.0109 29.9998Z\"\n        strokeMiterlimit=\"10\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"stroke-current\"\n      />\n      <path\n        d=\"M16.0109 12.4274L7.91016 16.2219L16.0109 21.3102L24.0923 16.1736L16.0109 12.4274Z\"\n        strokeMiterlimit=\"10\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"stroke-current\"\n      />\n      <path\n        d=\"M16.0127 2V21.3104\"\n        strokeMiterlimit=\"10\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"stroke-current\"\n      />\n      <path\n        d=\"M16.0109 2L7.91016 16.2221L16.0109 21.3104L24.0923 16.1738L16.0109 2Z\"\n        strokeMiterlimit=\"10\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"stroke-current\"\n      />\n    </svg>\n  );\n}\n\nexport function SolanaIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-8 h-8\", className)}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.44515 6.96352C9.56879 6.77806 9.77693 6.66666 9.99984 6.66666H24.6665C24.9124 6.66666 25.1382 6.80198 25.2542 7.01875C25.3702 7.23552 25.3576 7.49855 25.2212 7.70312L22.5545 11.7031C22.4309 11.8886 22.2228 12 21.9998 12H7.33317C7.08731 12 6.8614 11.8647 6.74539 11.6479C6.62937 11.4311 6.64209 11.1681 6.77848 10.9635L9.44515 6.96352ZM10.3566 7.99999L8.57885 10.6667H21.643L23.4208 7.99999H10.3566Z\"\n        className=\"fill-current\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.44515 20.2968C9.56879 20.1115 9.77693 20 9.99984 20H24.6665C24.9124 20 25.1382 20.1353 25.2542 20.3521C25.3702 20.5689 25.3576 20.8319 25.2212 21.0365L22.5545 25.0365C22.4309 25.2219 22.2228 25.3333 21.9998 25.3333H7.33317C7.08731 25.3333 6.8614 25.198 6.74539 24.9812C6.62937 24.7645 6.64209 24.5015 6.77848 24.2968L9.44515 20.2968ZM10.3566 21.3333L8.57885 24H21.643L23.4208 21.3333H10.3566Z\"\n        className=\"fill-current\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.44515 18.3698C9.56879 18.5552 9.77693 18.6666 9.99984 18.6666H24.6665C24.9124 18.6666 25.1382 18.5313 25.2542 18.3145C25.3702 18.0977 25.3576 17.8348 25.2212 17.6301L22.5545 13.6301C22.4309 13.4448 22.2228 13.3333 21.9998 13.3333H7.33317C7.08731 13.3333 6.8614 13.4686 6.74539 13.6854C6.62937 13.9022 6.64209 14.1652 6.77848 14.3698L9.44515 18.3698ZM10.3566 17.3333L8.57885 14.6666H21.643L23.4208 17.3333H10.3566Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function UnplugIcon({ className, size = 21 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 21 21\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-5 h-5\", className)}\n    >\n      <path\n        d=\"M12.531 11.47C12.4614 11.4002 12.3787 11.3449 12.2876 11.3072C12.1966 11.2694 12.099 11.25 12.0004 11.25C11.9019 11.25 11.8043 11.2694 11.7132 11.3072C11.6222 11.3449 11.5394 11.4002 11.4698 11.47L9.75042 13.1903L7.81073 11.2506L9.53104 9.53122C9.67177 9.39048 9.75083 9.19961 9.75083 9.00059C9.75083 8.80157 9.67177 8.61069 9.53104 8.46996C9.39031 8.32923 9.19944 8.25017 9.00042 8.25017C8.80139 8.25017 8.61052 8.32923 8.46979 8.46996L6.75042 10.1903L5.03104 8.46996C4.89031 8.32923 4.69944 8.25017 4.50042 8.25017C4.30139 8.25017 4.11052 8.32924 3.96979 8.46996C3.82906 8.6107 3.75 8.80157 3.75 9.00059C3.75 9.19961 3.82906 9.39048 3.96979 9.53122L4.5651 10.1256L2.37885 12.3109C2.10021 12.5895 1.87917 12.9202 1.72836 13.2843C1.57755 13.6483 1.49993 14.0384 1.49993 14.4325C1.49993 14.8265 1.57755 15.2167 1.72836 15.5807C1.87917 15.9447 2.10021 16.2754 2.37885 16.554L2.88323 17.0575L0.219792 19.72C0.150109 19.7896 0.094834 19.8724 0.057122 19.9634C0.01941 20.0545 0 20.152 0 20.2506C0 20.3491 0.01941 20.4467 0.057122 20.5378C0.094834 20.6288 0.150109 20.7115 0.219792 20.7812C0.360523 20.9219 0.551394 21.001 0.750417 21.001C0.848963 21.001 0.946544 20.9816 1.03759 20.9439C1.12863 20.9062 1.21136 20.8509 1.28104 20.7812L3.94354 18.1178L4.44698 18.6222C4.72556 18.9008 5.05631 19.1218 5.42033 19.2726C5.78435 19.4235 6.17452 19.5011 6.56854 19.5011C6.96256 19.5011 7.35273 19.4235 7.71675 19.2726C8.08077 19.1218 8.41152 18.9008 8.6901 18.6222L10.8754 16.4359L11.4698 17.0312C11.5395 17.1009 11.6222 17.1562 11.7132 17.1939C11.8043 17.2316 11.9019 17.251 12.0004 17.251C12.099 17.251 12.1965 17.2316 12.2876 17.1939C12.3786 17.1562 12.4614 17.1009 12.531 17.0312C12.6007 16.9615 12.656 16.8788 12.6937 16.7878C12.7314 16.6967 12.7508 16.5991 12.7508 16.5006C12.7508 16.402 12.7314 16.3045 12.6937 16.2134C12.656 16.1224 12.6007 16.0396 12.531 15.97L10.8107 14.2506L12.531 12.5312C12.6008 12.4616 12.6561 12.3788 12.6938 12.2878C12.7316 12.1967 12.751 12.0992 12.751 12.0006C12.751 11.902 12.7316 11.8044 12.6938 11.7134C12.6561 11.6223 12.6008 11.5396 12.531 11.47ZM7.62885 17.5637C7.34758 17.8448 6.9662 18.0027 6.56854 18.0027C6.17089 18.0027 5.78951 17.8448 5.50823 17.5637L3.4401 15.4928C3.15901 15.2115 3.00111 14.8301 3.00111 14.4325C3.00111 14.0348 3.15901 13.6534 3.4401 13.3722L5.62542 11.1859L9.8151 15.3756L7.62885 17.5637ZM20.781 0.219965C20.7114 0.150233 20.6287 0.0949133 20.5376 0.0571701C20.4466 0.0194269 20.349 0 20.2504 0C20.1519 0 20.0543 0.0194269 19.9632 0.0571701C19.8722 0.0949133 19.7894 0.150233 19.7198 0.219965L17.0573 2.8834L16.5539 2.37903C15.9906 1.81742 15.2277 1.50204 14.4323 1.50204C13.6369 1.50204 12.874 1.81742 12.3107 2.37903L10.1254 4.56528L9.53104 3.96996C9.39031 3.82923 9.19944 3.75017 9.00042 3.75017C8.80139 3.75017 8.61052 3.82923 8.46979 3.96996C8.32906 4.1107 8.25 4.30157 8.25 4.50059C8.25 4.69961 8.32906 4.89048 8.46979 5.03122L15.9698 12.5312C16.0395 12.6009 16.1222 12.6562 16.2132 12.6939C16.3043 12.7316 16.4019 12.751 16.5004 12.751C16.599 12.751 16.6965 12.7316 16.7876 12.6939C16.8786 12.6562 16.9614 12.6009 17.031 12.5312C17.1007 12.4615 17.156 12.3788 17.1937 12.2878C17.2314 12.1967 17.2508 12.0991 17.2508 12.0006C17.2508 11.902 17.2314 11.8045 17.1937 11.7134C17.156 11.6224 17.1007 11.5396 17.031 11.47L16.4357 10.8756L18.622 8.69028C18.9006 8.41169 19.1217 8.08095 19.2725 7.71692C19.4233 7.3529 19.5009 6.96274 19.5009 6.56872C19.5009 6.17469 19.4233 5.78453 19.2725 5.42051C19.1217 5.05648 18.9006 4.72574 18.622 4.44715L18.1176 3.94372L20.781 1.28121C20.8508 1.21156 20.9061 1.12884 20.9438 1.0378C20.9816 0.946747 21.001 0.849152 21.001 0.75059C21.001 0.652028 20.9816 0.554433 20.9438 0.463385C20.9061 0.372336 20.8508 0.28962 20.781 0.219965ZM17.5607 7.62621L15.3754 9.81528L11.1857 5.62559L13.372 3.44028C13.6533 3.15919 14.0346 3.00129 14.4323 3.00129C14.8299 3.00129 15.2113 3.15919 15.4926 3.44028L17.5607 5.50278C17.7008 5.64216 17.8119 5.80782 17.8877 5.99027C17.9635 6.17271 18.0025 6.36833 18.0025 6.5659C18.0025 6.76347 17.9635 6.9591 17.8877 7.14154C17.8119 7.32398 17.7008 7.48965 17.5607 7.62903V7.62621Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function PlugIcon({ className, size = 21 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 21 21\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-5 h-5\", className)}\n    >\n      <path\n        d=\"M20.781 0.219965C20.7114 0.150233 20.6287 0.0949133 20.5376 0.0571701C20.4466 0.0194269 20.349 0 20.2504 0C20.1519 0 20.0543 0.0194269 19.9632 0.0571701C19.8722 0.0949133 19.7894 0.150233 19.7198 0.219965L14.8073 5.1334L14.3039 4.62903C13.7406 4.06742 12.9777 3.75204 12.1823 3.75204C11.3869 3.75204 10.624 4.06742 10.0607 4.62903L7.87542 6.81528L7.28104 6.21996C7.14031 6.07923 6.94944 6.00017 6.75042 6.00017C6.55139 6.00017 6.36052 6.07923 6.21979 6.21996C6.07906 6.3607 6 6.55157 6 6.75059C6 6.94961 6.07906 7.14048 6.21979 7.28122L6.8151 7.87559L4.62885 10.0609C4.35021 10.3395 4.12917 10.6702 3.97836 11.0343C3.82755 11.3983 3.74993 11.7884 3.74993 12.1825C3.74993 12.5765 3.82755 12.9667 3.97836 13.3307C4.12917 13.6947 4.35021 14.0254 4.62885 14.304L5.13323 14.8075L0.219792 19.72C0.150109 19.7896 0.094834 19.8724 0.057122 19.9634C0.01941 20.0545 0 20.152 0 20.2506C0 20.3491 0.01941 20.4467 0.057122 20.5378C0.094834 20.6288 0.150109 20.7115 0.219792 20.7812C0.360523 20.9219 0.551394 21.001 0.750417 21.001C0.848963 21.001 0.946544 20.9816 1.03759 20.9439C1.12863 20.9062 1.21136 20.8509 1.28104 20.7812L6.19354 15.8678L6.69698 16.3722C6.97556 16.6508 7.30631 16.8718 7.67033 17.0226C8.03435 17.1735 8.42452 17.2511 8.81854 17.2511C9.21257 17.2511 9.60273 17.1735 9.96675 17.0226C10.3308 16.8718 10.6615 16.6508 10.9401 16.3722L13.1254 14.1859L13.7198 14.7812C13.7895 14.8509 13.8722 14.9062 13.9632 14.9439C14.0543 14.9816 14.1519 15.001 14.2504 15.001C14.349 15.001 14.4465 14.9816 14.5376 14.9439C14.6286 14.9062 14.7114 14.8509 14.781 14.7812C14.8507 14.7115 14.906 14.6288 14.9437 14.5378C14.9814 14.4467 15.0008 14.3491 15.0008 14.2506C15.0008 14.152 14.9814 14.0545 14.9437 13.9634C14.906 13.8724 14.8507 13.7896 14.781 13.72L14.1857 13.1256L16.372 10.9403C16.6506 10.6617 16.8717 10.3309 17.0225 9.96692C17.1733 9.6029 17.2509 9.21274 17.2509 8.81872C17.2509 8.42469 17.1733 8.03453 17.0225 7.67051C16.8717 7.30648 16.6506 6.97574 16.372 6.69715L15.8676 6.19372L20.781 1.28121C20.8508 1.21156 20.9061 1.12884 20.9438 1.0378C20.9816 0.946747 21.001 0.849152 21.001 0.75059C21.001 0.652028 20.9816 0.554433 20.9438 0.463385C20.9061 0.372336 20.8508 0.28962 20.781 0.219965ZM9.87885 15.3137C9.59758 15.5948 9.2162 15.7527 8.81854 15.7527C8.42089 15.7527 8.03951 15.5948 7.75823 15.3137L5.6901 13.2428C5.40901 12.9615 5.25111 12.5801 5.25111 12.1825C5.25111 11.7848 5.40901 11.4034 5.6901 11.1222L7.87542 8.9359L12.0651 13.1256L9.87885 15.3137ZM15.3107 9.88184L13.1254 12.0653L8.93573 7.87559L11.122 5.69028C11.4033 5.40919 11.7846 5.25129 12.1823 5.25129C12.5799 5.25129 12.9613 5.40919 13.2426 5.69028L15.3107 7.75278C15.4508 7.89216 15.5619 8.05782 15.6377 8.24026C15.7135 8.42271 15.7525 8.61833 15.7525 8.8159C15.7525 9.01347 15.7135 9.2091 15.6377 9.39154C15.5619 9.57398 15.4508 9.73965 15.3107 9.87903V9.88184ZM6.80385 1.78184C6.72926 1.5971 6.73111 1.3903 6.809 1.20692C6.88689 1.02354 7.03443 0.87862 7.21917 0.804027C7.40391 0.729435 7.61071 0.731286 7.79409 0.809172C7.97746 0.887058 8.12239 1.0346 8.19698 1.21934L8.94698 3.09434C8.98391 3.18581 9.00247 3.28367 9.00159 3.38231C9.0007 3.48096 8.9804 3.57846 8.94183 3.66926C8.90327 3.76006 8.8472 3.84237 8.77682 3.9115C8.70644 3.98063 8.62314 4.03522 8.53167 4.07215C8.44019 4.10909 8.34234 4.12764 8.2437 4.12676C8.14505 4.12588 8.04754 4.10557 7.95675 4.06701C7.86595 4.02844 7.78364 3.97237 7.71451 3.90199C7.64538 3.83162 7.59079 3.74831 7.55385 3.65684L6.80385 1.78184ZM0.803855 7.21934C0.840659 7.12777 0.895175 7.04436 0.964279 6.97389C1.03338 6.90343 1.11571 6.8473 1.20655 6.80871C1.29739 6.77013 1.39495 6.74986 1.49364 6.74905C1.59233 6.74825 1.69021 6.76693 1.78167 6.80403L3.65667 7.55403C3.74814 7.59096 3.83144 7.64555 3.90182 7.71468C3.9722 7.78381 4.02827 7.86612 4.06683 7.95692C4.1054 8.04772 4.1257 8.14522 4.12659 8.24387C4.12747 8.34251 4.10891 8.44037 4.07198 8.53184C4.03505 8.62331 3.98046 8.70662 3.91133 8.77699C3.8422 8.84737 3.75989 8.90344 3.66909 8.94201C3.57829 8.98057 3.48078 9.00088 3.38214 9.00176C3.28349 9.00264 3.18564 8.98409 3.09417 8.94715L1.21917 8.19715C1.12759 8.16035 1.04418 8.10583 0.973719 8.03673C0.903256 7.96763 0.847123 7.88529 0.808541 7.79446C0.769958 7.70362 0.749683 7.60606 0.748879 7.50737C0.748075 7.40867 0.766757 7.3108 0.803855 7.21934ZM20.197 13.7818C20.1604 13.8733 20.1062 13.9567 20.0374 14.0272C19.9686 14.0978 19.8866 14.1541 19.7961 14.1929C19.7056 14.2317 19.6083 14.2523 19.5097 14.2535C19.4112 14.2548 19.3135 14.2366 19.222 14.2L17.347 13.45C17.2553 13.4132 17.1718 13.3588 17.1012 13.2897C17.0306 13.2207 16.9742 13.1385 16.9354 13.0477C16.8966 12.9569 16.876 12.8593 16.8749 12.7606C16.8738 12.6618 16.8921 12.5638 16.9289 12.4722C16.9656 12.3805 17.02 12.297 17.0891 12.2264C17.1581 12.1557 17.2404 12.0994 17.3312 12.0606C17.422 12.0218 17.5195 12.0012 17.6183 12.0001C17.717 11.9989 17.815 12.0173 17.9067 12.054L19.7817 12.804C19.8732 12.8408 19.9567 12.8953 20.0271 12.9645C20.0976 13.0336 20.1537 13.1159 20.1923 13.2067C20.2309 13.2976 20.2512 13.3951 20.252 13.4938C20.2528 13.5925 20.2341 13.6904 20.197 13.7818ZM14.197 19.225C14.2335 19.3164 14.2517 19.4142 14.2505 19.5127C14.2493 19.6112 14.2287 19.7085 14.1898 19.7991C14.151 19.8896 14.0947 19.9716 14.0242 20.0404C13.9537 20.1092 13.8703 20.1634 13.7789 20.2C13.6874 20.2365 13.5896 20.2547 13.4911 20.2535C13.3926 20.2523 13.2953 20.2317 13.2048 20.1928C13.1142 20.154 13.0322 20.0977 12.9634 20.0272C12.8946 19.9567 12.8404 19.8733 12.8039 19.7818L12.0539 17.9068C11.9793 17.7221 11.9811 17.5153 12.059 17.3319C12.1369 17.1485 12.2844 17.0036 12.4692 16.929C12.6539 16.8544 12.8607 16.8563 13.0441 16.9342C13.2275 17.0121 13.3724 17.1596 13.447 17.3443L14.197 19.225Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function CloseIcon({ className, size = 24 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-6 h-6\", className)}\n    >\n      <path\n        d=\"M18.2998 4.875C18.5186 4.87504 18.7281 4.96244 18.8828 5.11719C19.0376 5.27193 19.125 5.48135 19.125 5.7002C19.125 5.91909 19.0376 6.1294 18.8828 6.28418L13.167 12L18.8828 17.7158C18.9594 17.7924 19.021 17.8834 19.0625 17.9834C19.104 18.0835 19.125 18.1914 19.125 18.2998C19.125 18.408 19.1039 18.5152 19.0625 18.6152C19.021 18.7154 18.9595 18.8062 18.8828 18.8828C18.8062 18.9595 18.7154 19.021 18.6152 19.0625C18.5152 19.1039 18.408 19.125 18.2998 19.125C18.1914 19.125 18.0835 19.104 17.9834 19.0625C17.8834 19.021 17.7924 18.9594 17.7158 18.8828L12 13.167L6.28418 18.8828C6.1294 19.0376 5.91909 19.125 5.7002 19.125C5.48135 19.125 5.27193 19.0376 5.11719 18.8828C4.96244 18.7281 4.87504 18.5186 4.875 18.2998C4.875 18.0809 4.9624 17.8706 5.11719 17.7158L10.833 12L5.11719 6.28418C4.9624 6.1294 4.875 5.91909 4.875 5.7002C4.87504 5.48135 4.96244 5.27193 5.11719 5.11719C5.27193 4.96244 5.48135 4.87504 5.7002 4.875C5.91909 4.875 6.1294 4.9624 6.28418 5.11719L12 10.833L17.7158 5.11719C17.8706 4.9624 18.0809 4.875 18.2998 4.875Z\"\n        strokeWidth=\"0.25\"\n        className=\"fill-current stroke-current\"\n      />\n    </svg>\n  );\n}\n\nexport function LeftChevronIcon({ className, size = 24, onClick }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-6 h-6\", className)}\n      onClick={onClick}\n    >\n      <path\n        d=\"M14.749 4.67499C14.9653 4.67499 15.1748 4.75533 15.3301 4.90057C15.4857 5.04608 15.5752 5.24564 15.5752 5.45526C15.5751 5.6647 15.4855 5.86357 15.3301 6.00897L8.92285 11.9992L15.3301 17.9904C15.4071 18.0624 15.4686 18.1491 15.5107 18.2443C15.5528 18.3394 15.5752 18.4416 15.5752 18.5451C15.5752 18.6486 15.5528 18.7508 15.5107 18.8459C15.4686 18.9411 15.4071 19.0278 15.3301 19.0998C15.2531 19.1717 15.1619 19.2283 15.0625 19.2668C14.963 19.3053 14.8562 19.3254 14.749 19.3254C14.642 19.3253 14.5358 19.3052 14.4365 19.2668C14.3371 19.2283 14.2459 19.1717 14.1689 19.0998L7.16992 12.5549C7.09287 12.4829 7.03146 12.3962 6.98926 12.301C6.9471 12.2058 6.92483 12.1037 6.9248 12.0002C6.9248 11.8965 6.94704 11.7937 6.98926 11.6984C7.03146 11.6034 7.09296 11.5174 7.16992 11.4455L14.1689 4.90057C14.3242 4.75544 14.5329 4.6751 14.749 4.67499Z\"\n        strokeWidth=\"0.25\"\n        className=\"fill-current stroke-current\"\n      />\n    </svg>\n  );\n}\n\nexport function MetaMaskIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-5 h-5\", className)}\n    >\n      <g clipPath=\"url(#clip0_240_115)\">\n        <path\n          d=\"M27.2939 28.1099L21.6942 26.3802L17.4714 28.9991L14.525 28.9977L10.2996 26.3802L4.70245 28.1099L3 22.1472L4.70263 15.5295L3 9.93451L4.70263 3L13.4485 8.4208H18.5478L27.2939 3L28.9965 9.93451L27.2939 15.5295L28.9965 22.1472L27.2939 28.1099Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M4.7041 3L13.4502 8.4246L13.1025 12.1474L4.7041 3ZM10.3014 22.1496L14.1496 25.1907L10.3014 26.38V22.1496ZM13.842 17.1218L13.1025 12.1501L8.36827 15.531L8.36571 15.5297V15.5322L8.38036 19.0122L10.3001 17.122L13.842 17.1218ZM27.2943 3L18.5482 8.4246L18.8948 12.1474L27.2943 3ZM21.6971 22.1496L17.8488 25.1907L21.6971 26.38V22.1496ZM23.6316 15.532V15.5295L23.6305 15.5308L18.8961 12.1501L18.1565 17.1218H21.6969L23.618 19.0118L23.6316 15.532Z\"\n          className=\"fill-current\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_240_115\">\n          <rect\n            width=\"26\"\n            height=\"26\"\n            fill=\"white\"\n            transform=\"translate(3 3)\"\n          />\n        </clipPath>\n      </defs>\n    </svg>\n  );\n}\n\nexport function PhantomIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-5 h-5\", className)}\n    >\n      <path\n        d=\"M5.31323 28C8.88633 28 11.5715 24.8015 13.174 22.274C12.9791 22.8332 12.8708 23.3923 12.8708 23.9292C12.8708 25.4054 13.6938 26.4566 15.3179 26.4566C17.5483 26.4566 19.9304 24.4436 21.1647 22.274C21.0781 22.5871 21.0348 22.8779 21.0348 23.1463C21.0348 24.1752 21.5978 24.8239 22.7456 24.8239C26.362 24.8239 30 18.2255 30 12.4548C30 7.95899 27.7912 4 22.2475 4C12.5027 4 2 16.2572 2 24.1752C2 27.2842 3.62413 28 5.31323 28ZM18.8909 11.9627C18.8909 10.8444 19.4973 10.0615 20.3851 10.0615C21.2513 10.0615 21.8577 10.8444 21.8577 11.9627C21.8577 13.0811 21.2513 13.8863 20.3851 13.8863C19.4973 13.8863 18.8909 13.0811 18.8909 11.9627ZM23.5251 11.9627C23.5251 10.8444 24.1315 10.0615 25.0193 10.0615C25.8855 10.0615 26.4919 10.8444 26.4919 11.9627C26.4919 13.0811 25.8855 13.8863 25.0193 13.8863C24.1315 13.8863 23.5251 13.0811 23.5251 11.9627Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function WalletIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        d=\"M24.4 10.2727H8.4C8.18783 10.2727 7.98434 10.1865 7.83431 10.0331C7.68429 9.87965 7.6 9.67154 7.6 9.45455C7.6 9.23755 7.68429 9.02944 7.83431 8.876C7.98434 8.72256 8.18783 8.63636 8.4 8.63636H22C22.2122 8.63636 22.4157 8.55016 22.5657 8.39672C22.7157 8.24328 22.8 8.03518 22.8 7.81818C22.8 7.60119 22.7157 7.39308 22.5657 7.23964C22.4157 7.0862 22.2122 7 22 7H8.4C7.76348 7 7.15303 7.2586 6.70294 7.71892C6.25286 8.17924 6 8.80356 6 9.45455V22.5455C6 23.1964 6.25286 23.8208 6.70294 24.2811C7.15303 24.7414 7.76348 25 8.4 25H24.4C24.8243 25 25.2313 24.8276 25.5314 24.5207C25.8314 24.2138 26 23.7976 26 23.3636V11.9091C26 11.4751 25.8314 11.0589 25.5314 10.752C25.2313 10.4451 24.8243 10.2727 24.4 10.2727ZM24.4 23.3636H8.4C8.18783 23.3636 7.98434 23.2774 7.83431 23.124C7.68429 22.9706 7.6 22.7625 7.6 22.5455V11.769C7.85688 11.8621 8.12746 11.9095 8.4 11.9091H24.4V23.3636ZM19.6 17.2273C19.6 16.9845 19.6704 16.7473 19.8022 16.5454C19.9341 16.3436 20.1215 16.1863 20.3408 16.0934C20.5601 16.0005 20.8013 15.9762 21.0341 16.0236C21.2669 16.0709 21.4807 16.1878 21.6485 16.3595C21.8164 16.5311 21.9306 16.7498 21.9769 16.9878C22.0232 17.2259 21.9995 17.4727 21.9087 17.6969C21.8178 17.9212 21.664 18.1129 21.4667 18.2477C21.2693 18.3826 21.0373 18.4545 20.8 18.4545C20.4817 18.4545 20.1765 18.3252 19.9515 18.0951C19.7264 17.8649 19.6 17.5528 19.6 17.2273Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function CoinIcon({ className, size = 24 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        d=\"M12 2.25C10.0716 2.25 8.18657 2.82183 6.58319 3.89317C4.97982 4.96451 3.73013 6.48726 2.99218 8.26884C2.25422 10.0504 2.06114 12.0108 2.43735 13.9021C2.81355 15.7934 3.74215 17.5307 5.10571 18.8943C6.46928 20.2579 8.20656 21.1865 10.0979 21.5627C11.9892 21.9389 13.9496 21.7458 15.7312 21.0078C17.5127 20.2699 19.0355 19.0202 20.1068 17.4168C21.1782 15.8134 21.75 13.9284 21.75 12C21.7473 9.41498 20.7192 6.93661 18.8913 5.10872C17.0634 3.28084 14.585 2.25273 12 2.25ZM12 16.5C11.11 16.5 10.24 16.2361 9.49994 15.7416C8.75992 15.2471 8.18314 14.5443 7.84255 13.7221C7.50195 12.8998 7.41284 11.995 7.58647 11.1221C7.7601 10.2492 8.18869 9.44736 8.81802 8.81802C9.44736 8.18868 10.2492 7.7601 11.1221 7.58647C11.995 7.41283 12.8998 7.50195 13.7221 7.84254C14.5443 8.18314 15.2472 8.75991 15.7416 9.49993C16.2361 10.24 16.5 11.11 16.5 12C16.4988 13.1931 16.0243 14.337 15.1806 15.1806C14.337 16.0243 13.1931 16.4988 12 16.5ZM15.6759 7.26281C14.8283 6.60026 13.8173 6.17916 12.75 6.04406V3.78469C14.4144 3.93462 15.9934 4.58873 17.2763 5.65969L15.6759 7.26281ZM11.25 6.04875C10.1827 6.18385 9.1717 6.60495 8.32407 7.2675L6.72375 5.6625C8.0066 4.59155 9.58563 3.93743 11.25 3.7875V6.04875ZM7.26282 8.32406C6.60027 9.1717 6.17917 10.1827 6.04407 11.25H3.78469C3.93462 9.58562 4.58874 8.00659 5.65969 6.72375L7.26282 8.32406ZM6.04875 12.75C6.18385 13.8173 6.60496 14.8283 7.2675 15.6759L5.6625 17.2762C4.59155 15.9934 3.93744 14.4144 3.7875 12.75H6.04875ZM8.32407 16.7372C9.17221 17.3981 10.1831 17.8175 11.25 17.9513V20.2153C9.58563 20.0654 8.0066 19.4113 6.72375 18.3403L8.32407 16.7372ZM12.75 17.9513C13.8169 17.8175 14.8278 17.3981 15.6759 16.7372L17.2763 18.3375C15.9934 19.4085 14.4144 20.0626 12.75 20.2125V17.9513ZM16.7372 15.6759C17.3981 14.8278 17.8175 13.8169 17.9513 12.75H20.2153C20.0654 14.4144 19.4113 15.9934 18.3403 17.2762L16.7372 15.6759ZM17.9513 11.25C17.8175 10.1831 17.3981 9.17221 16.7372 8.32406L18.3375 6.72375C19.4085 8.00659 20.0626 9.58562 20.2125 11.25H17.9513Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function UpDownArrows({ className, size = 16 }: IconProps) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={size}\n      height={size}\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      className={className}\n    >\n      <path\n        d=\"M7.41253 10.4055C7.45479 10.4477 7.48831 10.4979 7.51119 10.553C7.53406 10.6082 7.54583 10.6673 7.54583 10.7271C7.54583 10.7868 7.53406 10.846 7.51119 10.9011C7.48831 10.9563 7.45479 11.0064 7.41253 11.0486L5.59444 12.8667C5.55223 12.909 5.5021 12.9425 5.44692 12.9654C5.39174 12.9882 5.3326 13 5.27286 13C5.21313 13 5.15399 12.9882 5.09881 12.9654C5.04363 12.9425 4.9935 12.909 4.95129 12.8667L3.1332 11.0486C3.09097 11.0064 3.05747 10.9563 3.03462 10.9011C3.01176 10.8459 3 10.7868 3 10.7271C3 10.6674 3.01176 10.6082 3.03462 10.553C3.05747 10.4979 3.09097 10.4477 3.1332 10.4055C3.21849 10.3202 3.33416 10.2723 3.45478 10.2723C3.5145 10.2723 3.57363 10.2841 3.62881 10.3069C3.68399 10.3298 3.73412 10.3633 3.77635 10.4055L4.81834 11.448V3.45487C4.81834 3.33433 4.86623 3.21872 4.95147 3.13348C5.03671 3.04824 5.15232 3.00036 5.27286 3.00036C5.39341 3.00036 5.50902 3.04824 5.59426 3.13348C5.6795 3.21872 5.72739 3.33433 5.72739 3.45487V11.448L6.76938 10.4055C6.81159 10.3633 6.86172 10.3297 6.9169 10.3069C6.97208 10.284 7.03122 10.2722 7.09095 10.2722C7.15069 10.2722 7.20983 10.284 7.26501 10.3069C7.32019 10.3297 7.37032 10.3633 7.41253 10.4055ZM12.8668 4.95135L11.0487 3.1333C11.0065 3.09104 10.9564 3.05752 10.9012 3.03465C10.846 3.01177 10.7869 3 10.7271 3C10.6674 3 10.6083 3.01177 10.5531 3.03465C10.4979 3.05752 10.4478 3.09104 10.4056 3.1333L8.58747 4.95135C8.50218 5.03664 8.45427 5.15231 8.45427 5.27292C8.45427 5.39353 8.50218 5.50921 8.58747 5.59449C8.67276 5.67978 8.78843 5.72769 8.90904 5.72769C9.02966 5.72769 9.14533 5.67978 9.23062 5.59449L10.2726 4.55195V12.5451C10.2726 12.6657 10.3205 12.7813 10.4057 12.8665C10.491 12.9518 10.6066 12.9996 10.7271 12.9996C10.8477 12.9996 10.9633 12.9518 11.0485 12.8665C11.1338 12.7813 11.1817 12.6657 11.1817 12.5451V4.55195L12.2236 5.59449C12.3089 5.67978 12.4246 5.72769 12.5452 5.72769C12.6658 5.72769 12.7815 5.67978 12.8668 5.59449C12.9521 5.50921 13 5.39353 13 5.27292C13 5.15231 12.9521 5.03664 12.8668 4.95135Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n\nexport function RightChevronIcon({ className, size = 24 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        d=\"M16.7445 12.4631L9.74531 19.0082C9.68028 19.069 9.60308 19.1172 9.51811 19.1501C9.43315 19.183 9.34208 19.2 9.25012 19.2C9.15815 19.2 9.06708 19.183 8.98212 19.1501C8.89715 19.1172 8.81995 19.069 8.75492 19.0082C8.68989 18.9474 8.63831 18.8752 8.60311 18.7957C8.56792 18.7163 8.5498 18.6311 8.5498 18.5451C8.5498 18.4591 8.56792 18.374 8.60311 18.2945C8.63831 18.215 8.68989 18.1429 8.75492 18.082L15.2598 12L8.75492 5.91793C8.62359 5.79512 8.5498 5.62855 8.5498 5.45486C8.5498 5.28118 8.62359 5.11461 8.75492 4.9918C8.88625 4.86898 9.06438 4.79999 9.25012 4.79999C9.43585 4.79999 9.61398 4.86898 9.74531 4.9918L16.7445 11.5369C16.8096 11.5977 16.8612 11.6699 16.8965 11.7493C16.9317 11.8288 16.9498 11.914 16.9498 12C16.9498 12.086 16.9317 12.1712 16.8965 12.2506C16.8612 12.3301 16.8096 12.4023 16.7445 12.4631Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function ClockIcon({ className, size = 20 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-5 h-5\", className)}\n    >\n      <path\n        d=\"M10 3.125C8.51664 3.125 7.0666 3.56487 5.83323 4.38898C4.59986 5.21309 3.63856 6.38443 3.07091 7.75487C2.50325 9.12532 2.35472 10.6333 2.64411 12.0882C2.9335 13.543 3.64781 14.8794 4.6967 15.9283C5.7456 16.9772 7.08197 17.6915 8.53683 17.9809C9.99168 18.2703 11.4997 18.1218 12.8701 17.5541C14.2406 16.9864 15.4119 16.0251 16.236 14.7918C17.0601 13.5584 17.5 12.1084 17.5 10.625C17.4977 8.63657 16.7068 6.73024 15.3008 5.32421C13.8948 3.91818 11.9884 3.12727 10 3.125ZM10 16.875C8.76387 16.875 7.5555 16.5084 6.52769 15.8217C5.49988 15.1349 4.6988 14.1588 4.22576 13.0168C3.75271 11.8747 3.62894 10.6181 3.8701 9.40569C4.11125 8.19331 4.70651 7.07966 5.58059 6.20558C6.45466 5.3315 7.56831 4.73625 8.78069 4.49509C9.99307 4.25393 11.2497 4.37771 12.3918 4.85075C13.5338 5.3238 14.5099 6.12488 15.1967 7.15269C15.8834 8.18049 16.25 9.38887 16.25 10.625C16.2481 12.282 15.5891 13.8707 14.4174 15.0424C13.2457 16.2141 11.657 16.8731 10 16.875ZM13.5672 7.05781C13.6253 7.11586 13.6714 7.18479 13.7029 7.26066C13.7343 7.33654 13.7505 7.41787 13.7505 7.5C13.7505 7.58214 13.7343 7.66346 13.7029 7.73934C13.6714 7.81521 13.6253 7.88414 13.5672 7.94219L10.4422 11.0672C10.3841 11.1253 10.3152 11.1713 10.2393 11.2027C10.1634 11.2342 10.0821 11.2503 10 11.2503C9.91788 11.2503 9.83656 11.2342 9.76069 11.2027C9.68482 11.1713 9.61588 11.1253 9.55782 11.0672C9.49975 11.0091 9.45368 10.9402 9.42226 10.8643C9.39083 10.7884 9.37466 10.7071 9.37466 10.625C9.37466 10.5429 9.39083 10.4616 9.42226 10.3857C9.45368 10.3098 9.49975 10.2409 9.55782 10.1828L12.6828 7.05781C12.7409 6.9997 12.8098 6.9536 12.8857 6.92215C12.9615 6.8907 13.0429 6.87451 13.125 6.87451C13.2071 6.87451 13.2885 6.8907 13.3643 6.92215C13.4402 6.9536 13.5091 6.9997 13.5672 7.05781ZM7.5 1.25C7.5 1.08424 7.56585 0.925269 7.68306 0.808058C7.80027 0.690848 7.95924 0.625 8.125 0.625H11.875C12.0408 0.625 12.1997 0.690848 12.3169 0.808058C12.4342 0.925269 12.5 1.08424 12.5 1.25C12.5 1.41576 12.4342 1.57473 12.3169 1.69194C12.1997 1.80915 12.0408 1.875 11.875 1.875H8.125C7.95924 1.875 7.80027 1.80915 7.68306 1.69194C7.56585 1.57473 7.5 1.41576 7.5 1.25Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function ArrowBoxUpRightIcon({ className, size = 16 }: IconProps) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={size}\n      height={size}\n      viewBox=\"0 0 16 16\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M12.6671 2.40039H3.33372C3.08619 2.40039 2.84879 2.49872 2.67376 2.67376C2.49872 2.84879 2.40039 3.08619 2.40039 3.33372V12.6671C2.40039 12.9146 2.49872 13.152 2.67376 13.327C2.84879 13.5021 3.08619 13.6004 3.33372 13.6004H12.6671C12.9146 13.6004 13.152 13.5021 13.327 13.327C13.5021 13.152 13.6004 12.9146 13.6004 12.6671V3.33372C13.6004 3.08619 13.5021 2.84879 13.327 2.67376C13.152 2.49872 12.9146 2.40039 12.6671 2.40039ZM12.6671 12.6671H3.33372V3.33372H12.6671V12.6671ZM5.80356 10.1972C5.76017 10.1539 5.72575 10.1024 5.70226 10.0458C5.67878 9.98911 5.66669 9.92839 5.66669 9.86706C5.66669 9.80573 5.67878 9.745 5.70226 9.68835C5.72575 9.6317 5.76017 9.58023 5.80356 9.53689L8.74064 6.60039H7.06706C6.94329 6.60039 6.82459 6.55122 6.73707 6.46371C6.64956 6.37619 6.60039 6.25749 6.60039 6.13372C6.60039 6.00996 6.64956 5.89126 6.73707 5.80374C6.82459 5.71622 6.94329 5.66706 7.06706 5.66706H9.86706C9.99083 5.66706 10.1095 5.71622 10.197 5.80374C10.2846 5.89126 10.3337 6.00996 10.3337 6.13372V8.93372C10.3337 9.05749 10.2846 9.17619 10.197 9.26371C10.1095 9.35122 9.99083 9.40039 9.86706 9.40039C9.74329 9.40039 9.62459 9.35122 9.53707 9.26371C9.44956 9.17619 9.40039 9.05749 9.40039 8.93372V7.26014L6.46389 10.1972C6.42055 10.2406 6.36908 10.275 6.31243 10.2985C6.25578 10.322 6.19505 10.3341 6.13372 10.3341C6.0724 10.3341 6.01167 10.322 5.95502 10.2985C5.89837 10.275 5.8469 10.2406 5.80356 10.1972Z\" />\n    </svg>\n  );\n}\n\nexport function ChevronDownIcon({ className, size = 16 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-4 h-4\", className)}\n    >\n      <path\n        d=\"M15.8402 8.12125L10.3859 13.9539C10.3352 14.0082 10.2751 14.0512 10.2089 14.0805C10.1427 14.1099 10.0717 14.125 10 14.125C9.92832 14.125 9.85735 14.1099 9.79113 14.0805C9.72492 14.0512 9.66476 14.0082 9.61411 13.9539L4.15984 8.12125C4.0575 8.01181 4 7.86337 4 7.70859C4 7.55381 4.0575 7.40537 4.15984 7.29593C4.26218 7.18649 4.40099 7.125 4.54573 7.125C4.69047 7.125 4.82928 7.18649 4.93162 7.29593L10 12.7167L15.0684 7.29593C15.1191 7.24174 15.1792 7.19875 15.2454 7.16942C15.3116 7.14009 15.3826 7.125 15.4543 7.125C15.5259 7.125 15.5969 7.14009 15.6631 7.16942C15.7293 7.19875 15.7895 7.24174 15.8402 7.29593C15.8908 7.35012 15.931 7.41446 15.9585 7.48526C15.9859 7.55607 16 7.63195 16 7.70859C16 7.78523 15.9859 7.86112 15.9585 7.93192C15.931 8.00273 15.8908 8.06706 15.8402 8.12125Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function ChevronUpIcon({ className, size = 16 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-4 h-4\", className)}\n    >\n      <path\n        d=\"M15.8402 11.8787L10.3859 6.04609C10.3352 5.99175 10.2751 5.94882 10.2089 5.91946C10.1427 5.8901 10.0717 5.875 10 5.875C9.92832 5.875 9.85735 5.8901 9.79113 5.91946C9.72492 5.94882 9.66476 5.99175 9.61411 6.04609L4.15984 11.8787C4.0575 11.9882 4 12.1366 4 12.2914C4 12.4462 4.0575 12.5946 4.15984 12.7041C4.26218 12.8135 4.40099 12.875 4.54573 12.875C4.69047 12.875 4.82928 12.8135 4.93162 12.7041L10 7.28325L15.0684 12.7041C15.1191 12.7583 15.1792 12.8013 15.2454 12.8306C15.3116 12.8599 15.3826 12.875 15.4543 12.875C15.5259 12.875 15.5969 12.8599 15.6631 12.8306C15.7293 12.8013 15.7895 12.7583 15.8402 12.7041C15.8908 12.6499 15.931 12.5855 15.9585 12.5147C15.9859 12.4439 16 12.368 16 12.2914C16 12.2148 15.9859 12.1389 15.9585 12.0681C15.931 11.9973 15.8908 11.9329 15.8402 11.8787Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function GasPumpIcon({ className, size = 24 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-6 h-6\", className)}\n    >\n      <path\n        d=\"M22.5938 6.53063L20.7806 4.71938C20.6399 4.57864 20.449 4.49958 20.25 4.49958C20.051 4.49958 19.8601 4.57864 19.7194 4.71938C19.5786 4.86011 19.4996 5.05098 19.4996 5.25C19.4996 5.44902 19.5786 5.63989 19.7194 5.78062L21.5306 7.59375C21.6706 7.73383 21.7494 7.92356 21.75 8.12156V15.75C21.75 15.9489 21.671 16.1397 21.5303 16.2803C21.3897 16.421 21.1989 16.5 21 16.5C20.8011 16.5 20.6103 16.421 20.4697 16.2803C20.329 16.1397 20.25 15.9489 20.25 15.75V12C20.25 11.4033 20.0129 10.831 19.591 10.409C19.169 9.98705 18.5967 9.75 18 9.75H16.5V5.25C16.5 4.65326 16.2629 4.08097 15.841 3.65901C15.419 3.23705 14.8467 3 14.25 3H6.75C6.15326 3 5.58097 3.23705 5.15901 3.65901C4.73705 4.08097 4.5 4.65326 4.5 5.25V19.5H3C2.80109 19.5 2.61032 19.579 2.46967 19.7197C2.32902 19.8603 2.25 20.0511 2.25 20.25C2.25 20.4489 2.32902 20.6397 2.46967 20.7803C2.61032 20.921 2.80109 21 3 21H18C18.1989 21 18.3897 20.921 18.5303 20.7803C18.671 20.6397 18.75 20.4489 18.75 20.25C18.75 20.0511 18.671 19.8603 18.5303 19.7197C18.3897 19.579 18.1989 19.5 18 19.5H16.5V11.25H18C18.1989 11.25 18.3897 11.329 18.5303 11.4697C18.671 11.6103 18.75 11.8011 18.75 12V15.75C18.75 16.3467 18.9871 16.919 19.409 17.341C19.831 17.7629 20.4033 18 21 18C21.5967 18 22.169 17.7629 22.591 17.341C23.0129 16.919 23.25 16.3467 23.25 15.75V8.12156C23.2511 7.82618 23.1937 7.5335 23.0811 7.26043C22.9684 6.98736 22.8028 6.73931 22.5938 6.53063ZM6 19.5V5.25C6 5.05109 6.07902 4.86032 6.21967 4.71967C6.36032 4.57902 6.55109 4.5 6.75 4.5H14.25C14.4489 4.5 14.6397 4.57902 14.7803 4.71967C14.921 4.86032 15 5.05109 15 5.25V19.5H6ZM13.5 10.5C13.5 10.6989 13.421 10.8897 13.2803 11.0303C13.1397 11.171 12.9489 11.25 12.75 11.25H8.25C8.05109 11.25 7.86032 11.171 7.71967 11.0303C7.57902 10.8897 7.5 10.6989 7.5 10.5C7.5 10.3011 7.57902 10.1103 7.71967 9.96967C7.86032 9.82902 8.05109 9.75 8.25 9.75H12.75C12.9489 9.75 13.1397 9.82902 13.2803 9.96967C13.421 10.1103 13.5 10.3011 13.5 10.5Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function CheckIcon({ className, size = 24 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-6 h-6\", className)}\n    >\n      <path\n        d=\"M21.531 7.28104L9.53104 19.281C9.46139 19.3508 9.37867 19.4061 9.28762 19.4438C9.19657 19.4816 9.09898 19.501 9.00042 19.501C8.90186 19.501 8.80426 19.4816 8.71321 19.4438C8.62216 19.4061 8.53945 19.3508 8.46979 19.281L3.21979 14.031C3.07906 13.8903 3 13.6994 3 13.5004C3 13.3014 3.07906 13.1105 3.21979 12.9698C3.36052 12.8291 3.55139 12.75 3.75042 12.75C3.94944 12.75 4.14031 12.8291 4.28104 12.9698L9.00042 17.6901L20.4698 6.21979C20.6105 6.07906 20.8014 6 21.0004 6C21.1994 6 21.3903 6.07906 21.531 6.21979C21.6718 6.36052 21.7508 6.55139 21.7508 6.75042C21.7508 6.94944 21.6718 7.14031 21.531 7.28104Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n\nexport function AvailLogo({ className }: IconProps) {\n  return (\n    <svg\n      height=\"72\"\n      viewBox=\"0 0 222 72\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"h-4\", className)}\n    >\n      <g clipPath=\"url(#clip0_841_1619)\">\n        <path\n          d=\"M56.1227 60.2154L63.14 63.6446C64.8833 64.4965 66.9926 63.7389 67.68 61.9245C69.6891 56.6209 71.2689 50.2845 71.8041 43.7609C72.4151 36.3148 71.6599 28.7013 68.7035 22.1133L68.6994 22.1151C68.5679 21.8312 68.4344 21.5482 68.2987 21.266C67.2815 19.3146 65.3761 16.9213 62.5702 15.3377C59.4075 13.5528 55.0139 12.7449 49.2484 14.9046C48.0252 15.3627 46.78 15.9548 45.5312 16.6611C47.0997 19.3296 48.2234 22.9285 48.3126 27.6741C48.3933 31.9631 47.6975 36.0247 46.6315 39.6434L57.1558 43.5509C59.2936 44.3446 60.6933 46.4579 60.2941 48.7031C59.7324 51.8619 58.7428 54.9363 57.3594 57.8508C56.9853 58.6389 56.574 59.4301 56.1227 60.2154Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M21.8652 57.3691C22.7281 57.1092 23.6393 56.7336 24.5957 56.2111C28.6457 53.9983 31.7087 50.385 33.8862 46.8404C35.3391 44.4753 36.4214 42.1024 37.1526 40.12C37.443 39.3327 38.3118 38.9057 39.0985 39.1977L55.9179 45.4425C57.392 45.9898 58.3207 47.4719 58.0029 49.0119C57.5233 51.3355 56.6845 54.1121 55.3586 56.9056C53.2786 61.2875 50.0374 65.6346 45.1875 68.3823C41.1801 70.6528 37.0816 71.824 33.2503 72C29.0759 71.2937 26.3373 69.4818 24.5926 67.062C22.7454 64.5001 21.9241 61.1334 21.8652 57.3691Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M32.0031 0.322354C42.3172 -0.88462 49.9809 1.39728 55.798 5.50473C58.8889 7.68718 61.4846 10.4037 63.6861 13.4328L63.6624 13.4194C59.9076 11.3004 54.828 10.4605 48.4728 12.841C39.9413 16.0368 30.744 25.0421 25.8474 34.2257C22.6714 40.1824 19.5394 49.3163 19.6578 57.3778C19.7171 61.4186 20.595 65.2918 22.8011 68.3514C23.5691 69.4166 24.4875 70.3684 25.5672 71.1872C17.7107 69.2328 7.82516 63.791 2.49764 51.2475C-2.15156 40.3011 0.0590149 28.184 6.08264 18.4449C12.1155 8.69106 21.8578 1.50958 32.0031 0.322354Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M212.111 10.5879H221.111V60.5879H212.111V10.5879Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M197.251 23.3786H206.971V60.5879H197.251V23.3786ZM197.111 10.5879H207.111V19.343H197.111V10.5879Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M166.724 49.1879C166.724 50.6546 167.266 51.7657 168.349 52.5212C169.478 53.2323 170.989 53.5879 172.885 53.5879C175.909 53.5879 178.323 52.7434 180.129 51.0546C181.934 49.3657 182.837 47.1212 182.837 44.3212V42.5879L172.479 44.5212C170.403 44.9212 168.913 45.499 168.011 46.2546C167.153 46.9657 166.724 47.9434 166.724 49.1879ZM157.111 50.4546C157.111 47.3879 158.149 45.0101 160.225 43.3212C162.347 41.5879 165.551 40.3434 169.839 39.5879L182.837 37.2546V36.9879C182.837 34.5434 182.16 32.7212 180.806 31.5212C179.452 30.3212 177.556 29.7212 175.119 29.7212C172.637 29.7212 170.741 30.3212 169.432 31.5212C168.169 32.7212 167.401 34.4101 167.131 36.5879H157.585C157.991 32.0101 159.774 28.5434 162.933 26.1879C166.093 23.7879 170.177 22.5879 175.187 22.5879C180.557 22.5879 184.71 23.899 187.643 26.5212C190.622 29.099 192.111 32.8323 192.111 37.7212V59.7212H183.378L183.175 54.3879C182.047 56.1657 180.264 57.6546 177.827 58.8546C175.435 60.0101 172.659 60.5879 169.5 60.5879C167.83 60.5879 166.228 60.3879 164.694 59.9879C163.204 59.5879 161.895 58.9879 160.767 58.1879C159.639 57.3434 158.736 56.299 158.059 55.0546C157.427 53.7657 157.111 52.2323 157.111 50.4546Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M119.111 23.5879H128.997L138.544 52.0861L148.158 23.5879H158.111L144.57 60.5879H132.585L119.111 23.5879Z\"\n          className=\"fill-current\"\n        />\n        <path\n          d=\"M93.7245 49.1879C93.7245 50.6546 94.2661 51.7657 95.3492 52.5212C96.4775 53.2323 97.9895 53.5879 99.885 53.5879C102.909 53.5879 105.323 52.7434 107.129 51.0546C108.934 49.3657 109.837 47.1212 109.837 44.3212V42.5879L99.4788 44.5212C97.4028 44.9212 95.9134 45.499 95.0107 46.2546C94.1532 46.9657 93.7245 47.9434 93.7245 49.1879ZM84.1113 50.4546C84.1113 47.3879 85.1494 45.0101 87.2254 43.3212C89.3467 41.5879 92.551 40.3434 96.8386 39.5879L109.837 37.2546V36.9879C109.837 34.5434 109.16 32.7212 107.806 31.5212C106.452 30.3212 104.556 29.7212 102.119 29.7212C99.6368 29.7212 97.7412 30.3212 96.4324 31.5212C95.1687 32.7212 94.4015 34.4101 94.1307 36.5879H84.5852C84.9914 32.0101 86.7741 28.5434 89.9334 26.1879C93.0926 23.7879 97.1771 22.5879 102.187 22.5879C107.557 22.5879 111.71 23.899 114.643 26.5212C117.622 29.099 119.111 32.8323 119.111 37.7212V59.7212H110.378L110.175 54.3879C109.047 56.1657 107.264 57.6546 104.827 58.8546C102.435 60.0101 99.6594 60.5879 96.5001 60.5879C94.8302 60.5879 93.228 60.3879 91.6935 59.9879C90.2042 59.5879 88.8953 58.9879 87.767 58.1879C86.6387 57.3434 85.7361 56.299 85.0591 55.0546C84.4273 53.7657 84.1113 52.2323 84.1113 50.4546Z\"\n          className=\"fill-current\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_841_1619\">\n          <rect width=\"221.111\" height=\"71.9995\" fill=\"white\" />\n        </clipPath>\n      </defs>\n    </svg>\n  );\n}\n\nexport function QrIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-8 h-8\", className)}\n    >\n      <path\n        d=\"M13.5455 7H8.63636C8.20237 7 7.78616 7.1724 7.47928 7.47928C7.1724 7.78616 7 8.20237 7 8.63636V13.5455C7 13.9794 7.1724 14.3957 7.47928 14.7025C7.78616 15.0094 8.20237 15.1818 8.63636 15.1818H13.5455C13.9794 15.1818 14.3957 15.0094 14.7025 14.7025C15.0094 14.3957 15.1818 13.9794 15.1818 13.5455V8.63636C15.1818 8.20237 15.0094 7.78616 14.7025 7.47928C14.3957 7.1724 13.9794 7 13.5455 7ZM13.5455 13.5455H8.63636V8.63636H13.5455V13.5455ZM13.5455 16.8182H8.63636C8.20237 16.8182 7.78616 16.9906 7.47928 17.2975C7.1724 17.6043 7 18.0206 7 18.4545V23.3636C7 23.7976 7.1724 24.2138 7.47928 24.5207C7.78616 24.8276 8.20237 25 8.63636 25H13.5455C13.9794 25 14.3957 24.8276 14.7025 24.5207C15.0094 24.2138 15.1818 23.7976 15.1818 23.3636V18.4545C15.1818 18.0206 15.0094 17.6043 14.7025 17.2975C14.3957 16.9906 13.9794 16.8182 13.5455 16.8182ZM13.5455 23.3636H8.63636V18.4545H13.5455V23.3636ZM23.3636 7H18.4545C18.0206 7 17.6043 7.1724 17.2975 7.47928C16.9906 7.78616 16.8182 8.20237 16.8182 8.63636V13.5455C16.8182 13.9794 16.9906 14.3957 17.2975 14.7025C17.6043 15.0094 18.0206 15.1818 18.4545 15.1818H23.3636C23.7976 15.1818 24.2138 15.0094 24.5207 14.7025C24.8276 14.3957 25 13.9794 25 13.5455V8.63636C25 8.20237 24.8276 7.78616 24.5207 7.47928C24.2138 7.1724 23.7976 7 23.3636 7ZM23.3636 13.5455H18.4545V8.63636H23.3636V13.5455ZM16.8182 20.9091V17.6364C16.8182 17.4194 16.9044 17.2113 17.0578 17.0578C17.2113 16.9044 17.4194 16.8182 17.6364 16.8182C17.8534 16.8182 18.0615 16.9044 18.2149 17.0578C18.3683 17.2113 18.4545 17.4194 18.4545 17.6364V20.9091C18.4545 21.1261 18.3683 21.3342 18.2149 21.4876C18.0615 21.6411 17.8534 21.7273 17.6364 21.7273C17.4194 21.7273 17.2113 21.6411 17.0578 21.4876C16.9044 21.3342 16.8182 21.1261 16.8182 20.9091ZM25 19.2727C25 19.4897 24.9138 19.6978 24.7604 19.8513C24.6069 20.0047 24.3988 20.0909 24.1818 20.0909H21.7273V24.1818C21.7273 24.3988 21.6411 24.6069 21.4876 24.7604C21.3342 24.9138 21.1261 25 20.9091 25H17.6364C17.4194 25 17.2113 24.9138 17.0578 24.7604C16.9044 24.6069 16.8182 24.3988 16.8182 24.1818C16.8182 23.9648 16.9044 23.7567 17.0578 23.6033C17.2113 23.4498 17.4194 23.3636 17.6364 23.3636H20.0909V17.6364C20.0909 17.4194 20.1771 17.2113 20.3305 17.0578C20.484 16.9044 20.6921 16.8182 20.9091 16.8182C21.1261 16.8182 21.3342 16.9044 21.4876 17.0578C21.6411 17.2113 21.7273 17.4194 21.7273 17.6364V18.4545H24.1818C24.3988 18.4545 24.6069 18.5407 24.7604 18.6942C24.9138 18.8476 25 19.0557 25 19.2727ZM25 22.5455V24.1818C25 24.3988 24.9138 24.6069 24.7604 24.7604C24.6069 24.9138 24.3988 25 24.1818 25C23.9648 25 23.7567 24.9138 23.6033 24.7604C23.4498 24.6069 23.3636 24.3988 23.3636 24.1818V22.5455C23.3636 22.3285 23.4498 22.1204 23.6033 21.9669C23.7567 21.8135 23.9648 21.7273 24.1818 21.7273C24.3988 21.7273 24.6069 21.8135 24.7604 21.9669C24.9138 22.1204 25 22.3285 25 22.5455Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n\nexport function FiatIcon({ className, size = 32 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"w-8 h-8\", className)}\n    >\n      <path\n        d=\"M26.2857 7H5.71429C5.25963 7 4.82359 7.18964 4.5021 7.52721C4.18061 7.86477 4 8.32261 4 8.8V23.2C4 23.6774 4.18061 24.1352 4.5021 24.4728C4.82359 24.8104 5.25963 25 5.71429 25H26.2857C26.7404 25 27.1764 24.8104 27.4979 24.4728C27.8194 24.1352 28 23.6774 28 23.2V8.8C28 8.32261 27.8194 7.86477 27.4979 7.52721C27.1764 7.18964 26.7404 7 26.2857 7ZM26.2857 8.8V11.5H5.71429V8.8H26.2857ZM26.2857 23.2H5.71429V13.3H26.2857V23.2ZM24.5714 20.5C24.5714 20.7387 24.4811 20.9676 24.3204 21.1364C24.1596 21.3052 23.9416 21.4 23.7143 21.4H20.2857C20.0584 21.4 19.8404 21.3052 19.6796 21.1364C19.5189 20.9676 19.4286 20.7387 19.4286 20.5C19.4286 20.2613 19.5189 20.0324 19.6796 19.8636C19.8404 19.6948 20.0584 19.6 20.2857 19.6H23.7143C23.9416 19.6 24.1596 19.6948 24.3204 19.8636C24.4811 20.0324 24.5714 20.2613 24.5714 20.5ZM17.7143 20.5C17.7143 20.7387 17.624 20.9676 17.4632 21.1364C17.3025 21.3052 17.0845 21.4 16.8571 21.4H15.1429C14.9155 21.4 14.6975 21.3052 14.5368 21.1364C14.376 20.9676 14.2857 20.7387 14.2857 20.5C14.2857 20.2613 14.376 20.0324 14.5368 19.8636C14.6975 19.6948 14.9155 19.6 15.1429 19.6H16.8571C17.0845 19.6 17.3025 19.6948 17.4632 19.8636C17.624 20.0324 17.7143 20.2613 17.7143 20.5Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n\nexport function InfoIcon({ className, size = 20 }: IconProps) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={cn(\"h-5 w-5\", className)}\n    >\n      <path\n        d=\"M10 1.875C8.39303 1.875 6.82214 2.35152 5.486 3.24431C4.14985 4.1371 3.10844 5.40605 2.49348 6.8907C1.87852 8.37535 1.71762 10.009 2.03112 11.5851C2.34463 13.1612 3.11846 14.6089 4.25476 15.7452C5.39106 16.8815 6.8388 17.6554 8.4149 17.9689C9.99099 18.2824 11.6247 18.1215 13.1093 17.5065C14.594 16.8916 15.8629 15.8502 16.7557 14.514C17.6485 13.1779 18.125 11.607 18.125 10C18.1227 7.84581 17.266 5.78051 15.7427 4.25727C14.2195 2.73403 12.1542 1.87727 10 1.875ZM10 16.875C8.64026 16.875 7.31105 16.4718 6.18046 15.7164C5.04987 14.9609 4.16868 13.8872 3.64833 12.6309C3.12798 11.3747 2.99183 9.99237 3.2571 8.6587C3.52238 7.32503 4.17716 6.09687 5.13864 5.13864C6.10013 4.18015 7.32828 3.52537 8.66195 3.2601C9.99562 2.99483 11.3779 3.13097 12.6342 3.65132C13.8904 4.17168 14.9641 5.05286 15.7196 6.18345C16.475 7.31404 16.875 8.64326 16.875 10C16.8729 11.8227 16.1479 13.5702 14.8591 14.8591C13.5702 16.1479 11.8227 16.8729 10 16.875ZM11.25 13.75C11.25 13.9158 11.1842 14.0747 11.0669 14.1919C10.9497 14.3092 10.7908 14.375 10.625 14.375C10.2935 14.375 9.97554 14.2433 9.74112 14.0089C9.5067 13.7745 9.375 13.4565 9.375 13.125V10C9.20924 10 9.05027 9.93415 8.93306 9.81694C8.81585 9.69973 8.75 9.54076 8.75 9.375C8.75 9.20924 8.81585 9.05027 8.93306 8.93306C9.05027 8.81585 9.20924 8.75 9.375 8.75C9.70652 8.75 10.0245 8.8817 10.2589 9.11612C10.4933 9.35054 10.625 9.66848 10.625 10V13.125C10.7908 13.125 10.9497 13.1908 11.0669 13.3081C11.1842 13.4253 11.25 13.5842 11.25 13.75ZM8.75 6.5625C8.75 6.37708 8.80499 6.19582 8.908 6.04165C9.01101 5.88748 9.15743 5.76732 9.32873 5.69636C9.50004 5.62541 9.68854 5.60684 9.8704 5.64301C10.0523 5.67919 10.2193 5.76848 10.3504 5.89959C10.4815 6.0307 10.5708 6.19775 10.607 6.3796C10.6432 6.56146 10.6246 6.74996 10.5536 6.92127C10.4827 7.09257 10.3625 7.23899 10.2083 7.342C10.0542 7.44502 9.87292 7.5 9.6875 7.5C9.43886 7.5 9.20039 7.40123 9.02459 7.22541C8.84877 7.04959 8.75 6.81114 8.75 6.5625Z\"\n        className=\"fill-current\"\n      />\n    </svg>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/icons.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/index.ts",
      "content": "// Screen components\nexport { default as AmountContainer } from \"./amount-container\";\nexport { default as ConfirmationContainer } from \"./confirmation-container\";\nexport { default as ConfirmationLoading } from \"./confirmation-loading\";\nexport { default as TransactionStatusContainer } from \"./transaction-status-container\";\nexport { default as TransactionCompleteContainer } from \"./transaction-complete-container\";\nexport { default as TransactionFailedContainer } from \"./transaction-failed-container\";\nexport { default as AssetSelectionContainer } from \"./asset-selection-container\";\n\n// Shared components\nexport { default as WidgetHeader } from \"./widget-header\";\nexport { default as TokenRow } from \"./token-row\";\nexport { ReceiveAmountDisplay } from \"./receive-amount-display\";\nexport { AmountDisplay } from \"./amount-display\";\n",
      "type": "registry:component",
      "target": "components/deposit/components/index.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/components/pay-using.tsx",
      "content": "import { useMemo, useState, useEffect, useRef } from \"react\";\nimport ButtonCard from \"./button-card\";\nimport { RightChevronIcon, CoinIcon } from \"./icons\";\nimport { Skeleton } from \"../../ui/skeleton\";\nimport { LOADING_SKELETON_DELAY_MS } from \"../constants/widget\";\n\ninterface PayUsingProps {\n  onClick?: () => void;\n  selectedChainIds: Set<string>;\n  amount?: string;\n  swapBalance: Array<{\n    symbol: string;\n    decimals: number;\n    icon?: string;\n    breakdown?: Array<{\n      chain: { id: number; name: string; logo?: string };\n      balance: string;\n      balanceInFiat?: number;\n      contractAddress?: `0x${string}`;\n    }>;\n  }> | null;\n}\n\nfunction PayUsing({\n  onClick,\n  selectedChainIds,\n  amount,\n  swapBalance,\n}: PayUsingProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const previousAmountRef = useRef<string | undefined>(undefined);\n  const hasAmount = Boolean(amount && amount.trim() !== \"\" && amount !== \"0\");\n\n  useEffect(() => {\n    const hadAmount = Boolean(\n      previousAmountRef.current && previousAmountRef.current.trim() !== \"\",\n    );\n\n    if (hasAmount && !hadAmount) {\n      setIsLoading(true);\n      const timer = setTimeout(() => {\n        setIsLoading(false);\n      }, LOADING_SKELETON_DELAY_MS);\n      return () => clearTimeout(timer);\n    }\n\n    previousAmountRef.current = amount;\n  }, [amount, hasAmount]);\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { subtitle, selectedCount, totalUsdValue } = useMemo(() => {\n    const tokenCounts: Record<string, number> = {};\n    let total = 0;\n\n    if (swapBalance) {\n      swapBalance.forEach((asset) => {\n        const selectedChains =\n          asset.breakdown?.filter((c) =>\n            selectedChainIds.has(`${c.contractAddress}-${c.chain.id}`),\n          ) ?? [];\n        if (selectedChains.length > 0) {\n          tokenCounts[asset.symbol] = selectedChains.length;\n          selectedChains.forEach((c) => {\n            total += c.balanceInFiat ?? 0;\n          });\n        }\n      });\n    }\n\n    const symbols = Object.keys(tokenCounts);\n    const count = Object.values(tokenCounts).reduce((a, b) => a + b, 0);\n\n    let text: string;\n    if (count === 0) {\n      text = \"No tokens selected\";\n    } else if (symbols.length <= 2) {\n      text = symbols.join(\", \");\n    } else {\n      text = `${symbols.slice(0, 2).join(\", \")} +${symbols.length - 2} more`;\n    }\n\n    return {\n      subtitle: text,\n      selectedCount: count,\n      totalUsdValue: total,\n    };\n  }, [selectedChainIds, swapBalance]);\n\n  const renderSubtitle = () => {\n    if (!hasAmount) {\n      return (\n        <span className=\"text-[13px] leading-4.5 text-muted-foreground font-sans\">\n          Auto-selected based on amount\n        </span>\n      );\n    }\n\n    if (isLoading) {\n      return <Skeleton className=\"h-4 w-32 bg-muted\" />;\n    }\n\n    return (\n      <span className=\"text-[13px] leading-4.5 text-muted-foreground font-sans\">\n        {subtitle}\n      </span>\n    );\n  };\n\n  const showEditControls = hasAmount && !isLoading;\n\n  return (\n    <ButtonCard\n      title=\"Pay using\"\n      subtitle={renderSubtitle()}\n      icon={<CoinIcon className=\"w-6 h-6 text-muted-foreground\" />}\n      rightIcon={\n        showEditControls ? (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-muted-foreground text-sm leading-4.5 transition-colors duration-200 group-hover/button-card:text-card-foreground\">\n              Edit\n            </span>\n            <RightChevronIcon\n              size={20}\n              className=\"text-muted-foreground transition-colors duration-200 group-hover/button-card:text-card-foreground\"\n            />\n          </div>\n        ) : undefined\n      }\n      onClick={showEditControls ? onClick : undefined}\n      disabled={!showEditControls}\n      roundedBottom={false}\n    />\n  );\n}\n\nexport default PayUsing;\n",
      "type": "registry:component",
      "target": "components/deposit/components/pay-using.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/percentage-selector.tsx",
      "content": "\"use client\";\n\nconst PERCENTAGE_OPTIONS = [\n  { label: \"25%\", value: 0.25 },\n  { label: \"50%\", value: 0.5 },\n  { label: \"75%\", value: 0.75 },\n  { label: \"MAX\", value: 1 },\n] as const;\n\ninterface PercentageButtonProps {\n  label: string;\n  onClick: () => void;\n  isFirst?: boolean;\n  isLast?: boolean;\n}\n\nfunction PercentageButton({\n  label,\n  onClick,\n  isFirst,\n  isLast,\n}: PercentageButtonProps) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={`py-2 bg-card max-w-[60px] h-[34px] flex items-center justify-center w-full px-4 font-sans text-sm leading-4.5 hover:bg-muted transition-colors cursor-pointer ${\n        !isLast ? \"border-r border-border\" : \"\"\n      } ${isFirst ? \"rounded-l-lg\" : \"\"} ${isLast ? \"rounded-r-lg\" : \"\"}`}\n    >\n      {label}\n    </button>\n  );\n}\n\nexport interface PercentageSelectorProps {\n  onPercentageClick: (percentage: number) => void;\n}\n\nexport function PercentageSelector({\n  onPercentageClick,\n}: PercentageSelectorProps) {\n  return (\n    <div className=\"relative mt-[42px]\">\n      <div className=\"h-px w-full bg-border\" />\n      <div className=\"absolute flex top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-base h-9 rounded-lg border\">\n        {PERCENTAGE_OPTIONS.map((option, index) => (\n          <PercentageButton\n            key={option.label}\n            label={option.label}\n            onClick={() => onPercentageClick(option.value)}\n            isFirst={index === 0}\n            isLast={index === PERCENTAGE_OPTIONS.length - 1}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/percentage-selector.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/receive-amount-display.tsx",
      "content": "import { TokenIcon } from \"./token-icon\";\nimport { ClockIcon } from \"./icons\";\nimport { DEPOSIT_WIDGET_ASSETS } from \"../constants/assets\";\nimport { Skeleton } from \"../../ui/skeleton\";\nimport { usdFormatter } from \"../../common\";\n\ninterface ReceiveAmountDisplayProps {\n  label?: string;\n  amount: string;\n  timeLabel?: string;\n  showUsdValue?: boolean;\n  showClockIcon?: boolean;\n  loading?: boolean;\n  destinationTokenLogo?: string;\n  depositTargetLogo?: string;\n}\n\nexport function ReceiveAmountDisplay({\n  label = \"You receive\",\n  amount,\n  timeLabel,\n  showUsdValue = true,\n  showClockIcon = true,\n  loading = false,\n  destinationTokenLogo,\n  depositTargetLogo,\n}: ReceiveAmountDisplayProps) {\n  return (\n    <div className=\"w-full flex flex-col items-center gap-2\">\n      <span className=\"font-sans text-sm leading-4.5 text-muted-foreground\">\n        {label}\n      </span>\n      <div className=\"w-full flex items-center justify-center gap-3\">\n        <TokenIcon\n          tokenSrc={destinationTokenLogo || DEPOSIT_WIDGET_ASSETS.tokens.USDC}\n          protocolSrc={\n            depositTargetLogo || DEPOSIT_WIDGET_ASSETS.protocols.aave\n          }\n          tokenAlt={destinationTokenLogo}\n        />\n        {loading ? (\n          <Skeleton className=\"h-10 w-24\" />\n        ) : (\n          <h3 className=\"font-display text-[32px] tracking-[0.64px] font-medium\">\n            {amount}\n          </h3>\n        )}\n      </div>\n      {(showUsdValue || showClockIcon) && (\n        <div className=\"font-sans flex items-center gap-x-1 text-sm leading-4.5 text-muted-foreground mt-1\">\n          {loading ? (\n            <Skeleton className=\"h-4 w-20\" />\n          ) : (\n            <div className=\"flex items-center gap-x-1\">\n              {showUsdValue && `${usdFormatter.format(parseFloat(amount))} in`}\n              {showClockIcon && (\n                <span className=\"flex items-center gap-x-1\">\n                  {timeLabel}\n                  <ClockIcon className=\"w-4 h-4\" />\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/receive-amount-display.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/summary-card.tsx",
      "content": "import { ChevronDownIcon, ChevronUpIcon } from \"./icons\";\nimport { Skeleton } from \"../../ui/skeleton\";\nimport { usdFormatter } from \"../../common\";\n\ninterface SummaryCardProps {\n  icon: React.ReactNode;\n  title: string;\n  subtitle?: string;\n  value: string;\n  valueSuffix?: string;\n  showBreakdown?: boolean;\n  loading?: boolean;\n  expanded?: boolean;\n  onToggleExpand?: () => void;\n  children?: React.ReactNode;\n}\n\nfunction SummaryCard({\n  icon,\n  title,\n  subtitle,\n  value,\n  valueSuffix,\n  showBreakdown,\n  loading = false,\n  expanded = false,\n  onToggleExpand,\n  children,\n}: SummaryCardProps) {\n  return (\n    <div className=\"border-t border-border py-5\">\n      <div className=\"flex justify-between\">\n        <div className=\"flex gap-4 items-center\">\n          {icon}\n          <div className=\"flex-col flex gap-2\">\n            <span className=\"font-sans text-sm leading-4.5 text-card-foreground\">\n              {title}\n            </span>\n            {subtitle && (\n              <span className=\"font-sans text-[13px] leading-4.5 text-muted-foreground\">\n                {subtitle}\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"flex flex-col gap-2 items-end\">\n          <div className=\"flex gap-1 items-end\">\n            {loading ? (\n              <Skeleton className=\"h-5 w-16\" />\n            ) : (\n              <>\n                <span className=\"font-display text-card-foreground tracking-[0.36px] leading-4.5 font-medium\">\n                  {valueSuffix === \"USD\"\n                    ? usdFormatter.format(parseFloat(value))\n                    : value}\n                </span>\n                {valueSuffix && (\n                  <span className=\"text-muted-foreground text-[13px] leading-4.5\">\n                    {valueSuffix}\n                  </span>\n                )}\n              </>\n            )}\n          </div>\n          {showBreakdown && (\n            <button\n              className=\"flex gap-0.5 cursor-pointer\"\n              onClick={onToggleExpand}\n            >\n              <span className=\"font-sans text-[13px] underline leading-4.5 text-muted-foreground underline-offset-2\">\n                View details\n              </span>\n              {expanded ? (\n                <ChevronUpIcon size={16} className=\"text-muted-foreground\" />\n              ) : (\n                <ChevronDownIcon size={16} className=\"text-muted-foreground\" />\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n      {expanded && children && (\n        <div className=\"mt-4 p-4 bg-background/30\">{children}</div>\n      )}\n    </div>\n  );\n}\n\nexport default SummaryCard;\n",
      "type": "registry:component",
      "target": "components/deposit/components/summary-card.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/token-icon.tsx",
      "content": "import Image from \"next/image\";\nimport { cn } from \"../utils\";\n\ntype TokenIconSize = \"sm\" | \"md\" | \"lg\";\n\nconst SIZE_MAP: Record<TokenIconSize, { token: number; protocol: number }> = {\n  sm: { token: 24, protocol: 16 },\n  md: { token: 32, protocol: 16 },\n  lg: { token: 40, protocol: 20 },\n};\n\ninterface TokenIconProps {\n  tokenSrc: string;\n  protocolSrc?: string;\n  tokenAlt?: string;\n  protocolAlt?: string;\n  size?: TokenIconSize;\n  className?: string;\n}\n\nexport function TokenIcon({\n  tokenSrc,\n  protocolSrc,\n  tokenAlt = \"Token\",\n  protocolAlt = \"Protocol\",\n  size = \"sm\",\n  className,\n}: TokenIconProps) {\n  const dimensions = SIZE_MAP[size];\n\n  return (\n    <div className={cn(\"relative inline-flex\", className)}>\n      <img\n        src={tokenSrc}\n        alt={tokenAlt}\n        width={dimensions.token}\n        height={dimensions.token}\n        className=\"rounded-full object-cover\"\n      />\n      {protocolSrc && (\n        <img\n          src={protocolSrc}\n          alt={protocolAlt}\n          width={dimensions.protocol}\n          height={dimensions.protocol}\n          className=\"absolute -bottom-0.5 -right-0.5 translate-x-1/5 translate-y-1/5 rounded-full border-2 border-base object-cover\"\n        />\n      )}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/token-icon.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/token-row.tsx",
      "content": "\"use client\";\n\nimport Image from \"next/image\";\nimport { ChevronDownIcon } from \"./icons\";\nimport type { Token } from \"../types\";\nimport { getTokenCheckState } from \"../utils/asset-helpers\";\nimport { Checkbox } from \"../../ui/checkbox\";\nimport { usdFormatter } from \"../../common\";\nimport { formatTokenBalance } from \"@avail-project/nexus-core\";\nimport { TOKEN_IMAGES } from \"../constants/assets\";\nimport {\n  CHAIN_ITEM_HEIGHT_PX,\n  VERTICAL_LINE_TOP_OFFSET_PX,\n} from \"../constants/widget\";\n\ninterface TokenRowProps {\n  token: Token;\n  selectedChainIds: Set<string>;\n  isExpanded: boolean;\n  onToggleExpand: () => void;\n  onToggleToken: () => void;\n  onToggleChain: (chainId: string) => void;\n  isFirst?: boolean;\n  isLast?: boolean;\n}\n\nexport function TokenRow({\n  token,\n  selectedChainIds,\n  isExpanded,\n  onToggleExpand,\n  onToggleToken,\n  onToggleChain,\n  isFirst = false,\n  isLast = false,\n}: TokenRowProps) {\n  const hasMultipleChains = token.chains.length > 1;\n  const tokenCheckState = getTokenCheckState(token, selectedChainIds);\n\n  return (\n    <div\n      className={`border-b bg-base relative ${isFirst ? \"rounded-t-lg\" : \"\"} ${\n        isLast ? \"rounded-b-lg border-b-0\" : \"\"\n      }`}\n    >\n      {/* Main token row */}\n      <div\n        className={`${\n          isExpanded ? \"pt-5 px-5 pb-4\" : \"pt-5 px-5 pb-5\"\n        } flex justify-between items-center cursor-pointer`}\n        onClick={hasMultipleChains ? onToggleExpand : undefined}\n      >\n        <div className=\"flex gap-6 items-center\">\n          <Checkbox\n            checked={tokenCheckState}\n            onCheckedChange={onToggleToken}\n            onClick={(e: any) => e.stopPropagation()}\n          />\n          <div className=\"flex items-center gap-3\">\n            <img\n              src={\n                Object.keys(TOKEN_IMAGES).includes(token.symbol)\n                  ? TOKEN_IMAGES[token.symbol]\n                  : token.logo\n              }\n              alt={token.symbol}\n              width={24}\n              height={24}\n              className=\"rounded-full\"\n            />\n            <div className=\"flex flex-col gap-1\">\n              <span className=\"font-display font-medium text-sm leading-4.5 text-card-foreground\">\n                {token.symbol}\n              </span>\n              <span className=\"font-sans text-[13px] text-muted-foreground leading-4.5\">\n                {token.chainsLabel}\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex gap-4 items-center\">\n          <div className=\"flex flex-col gap-1 items-end\">\n            <span className=\"text-[13px] leading-4.5 text-card-foreground\">\n              {token.usdValue}\n            </span>\n            <span className=\"text-[13px] leading-4.5 text-muted-foreground\">\n              {token.amount}\n            </span>\n          </div>\n          {hasMultipleChains ? (\n            <ChevronDownIcon\n              className={`text-muted-foreground transition-transform duration-200 ${\n                isExpanded ? \"rotate-180\" : \"\"\n              }`}\n            />\n          ) : (\n            <div className=\"w-4 h-4\"></div>\n          )}\n        </div>\n      </div>\n\n      {/* Expanded chain list */}\n      {isExpanded && hasMultipleChains && (\n        <div className=\"pl-5 pb-4 w-full\">\n          <div className=\"w-full\">\n            {/* Vertical line */}\n            <div\n              className=\"bg-border shrink-0 absolute left-[26px] w-0.5\"\n              style={{\n                top: `${VERTICAL_LINE_TOP_OFFSET_PX}px`,\n                height: `${token.chains.length * CHAIN_ITEM_HEIGHT_PX + 4}px`,\n              }}\n            />\n            {/* Chain items */}\n            <div className=\"flex flex-col\">\n              {token.chains.map((chain) => (\n                <div\n                  key={chain.id}\n                  className=\"flex items-center\"\n                  style={{ height: `${CHAIN_ITEM_HEIGHT_PX}px` }}\n                >\n                  {/* Horizontal line */}\n                  <div className=\"bg-border shrink-0 ml-1.5 w-[37px] h-0.5\" />\n                  {/* Chain content */}\n                  <div className=\"flex items-center justify-between flex-1 pr-5\">\n                    <div className=\"flex items-center gap-3\">\n                      <Checkbox\n                        checked={selectedChainIds.has(chain.id)}\n                        onCheckedChange={() => onToggleChain(chain.id)}\n                      />\n                      <span className=\"font-sans text-sm leading-4.5 text-card-foreground\">\n                        {chain.name}\n                      </span>\n                    </div>\n                    <div className=\"flex flex-col gap-1 items-end mr-8\">\n                      <span className=\"text-[13px] leading-4.5 text-muted-foreground\">\n                        {usdFormatter.format(chain.usdValue)}\n                      </span>\n                      <span className=\"text-[13px] leading-4.5 text-muted-foreground\">\n                        {formatTokenBalance(chain.amount, {\n                          decimals: token.decimals,\n                          symbol: token.symbol,\n                        })}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default TokenRow;\n",
      "type": "registry:component",
      "target": "components/deposit/components/token-row.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/transaction-complete-container.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport WidgetHeader from \"./widget-header\";\nimport { ReceiveAmountDisplay } from \"./receive-amount-display\";\nimport type { DepositWidgetContextValue } from \"../types\";\nimport { ArrowBoxUpRightIcon, ChevronDownIcon, ChevronUpIcon } from \"./icons\";\nimport { CardContent, CardFooter } from \"../../ui/card\";\nimport { Button } from \"../../ui/button\";\nimport { usdFormatter } from \"../../common\";\n\nfunction formatTimer(seconds: number): string {\n  const secs = Math.round(seconds);\n  return `${secs}s`;\n}\n\nfunction truncateHash(hash: string): string {\n  if (hash.length <= 13) return hash;\n  return `${hash.slice(0, 6)}...${hash.slice(-4)}`;\n}\n\ninterface TransactionCompleteContainerProps {\n  widget: DepositWidgetContextValue;\n  heading?: string;\n  onClose?: () => void;\n}\n\nconst TransactionCompleteContainer = ({\n  widget,\n  heading,\n  onClose,\n}: TransactionCompleteContainerProps) => {\n  const [showSourceDetails, setShowSourceDetails] = useState(false);\n\n  const handleNewDeposit = () => {\n    widget.reset();\n    widget.goToStep(\"amount\");\n  };\n\n  const handleClose = () => {\n    widget.reset();\n    onClose?.();\n  };\n\n  // Use user's requested amount\n  const receiveAmountUsd =\n    widget.confirmationDetails?.receiveAmountAfterSwapUsd?.toFixed(2) ?? \"0\";\n  const completionTime = formatTimer(widget.timer);\n\n  const hasSourceSwaps = widget.sourceSwaps.length > 0;\n\n  // Build deposit transaction URL\n  const depositTxUrl =\n    widget.destination.explorerUrl && widget.depositTxHash\n      ? `${widget.destination.explorerUrl}/tx/${widget.depositTxHash}`\n      : null;\n\n  return (\n    <>\n      <WidgetHeader\n        title={heading ?? \"\"}\n        onClose={onClose}\n        depositTargetLogo={widget?.destination?.depositTargetLogo}\n      />\n      <CardContent>\n        <div className=\"flex flex-col\">\n          <div className=\"bg-base rounded-t-lg border-t border-l border-r border-border shadow-[0_1px_12px_0_rgba(91,91,91,0.05)] px-6 pt-6 pb-1 flex flex-col items-center gap-5\">\n            <ReceiveAmountDisplay\n              label=\"You received\"\n              amount={receiveAmountUsd}\n              timeLabel={completionTime}\n            />\n            <span className=\"font-sans text-sm w-full text-center leading-4.5 text-muted-foreground\">\n              Transaction successful\n            </span>\n            <div className=\"w-full\">\n              <div className=\"border-t py-5 flex flex-col gap-5\">\n                {/* Collected on sources section - only show when swap was not skipped */}\n                {!widget.skipSwap && (\n                  <div className=\"flex flex-col gap-2\">\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"font-sans text-sm leading-4.5 text-card-foreground\">\n                        Collected on sources\n                      </span>\n                      <button\n                        className=\"font-sans flex gap-0.5 text-muted-foreground text-sm leading-4.5 underline cursor-pointer items-center\"\n                        onClick={() => setShowSourceDetails(!showSourceDetails)}\n                      >\n                        {showSourceDetails ? (\n                          <>\n                            {\" \"}\n                            Hide details\n                            <ChevronUpIcon\n                              size={16}\n                              className=\"text-muted-foreground\"\n                            />\n                          </>\n                        ) : (\n                          <>\n                            {\" \"}\n                            View details\n                            <ChevronDownIcon\n                              size={16}\n                              className=\"text-muted-foreground\"\n                            />\n                          </>\n                        )}\n                      </button>\n                    </div>\n                    <div\n                      className={`grid transition-all duration-300 ease-out ${\n                        showSourceDetails\n                          ? \"grid-rows-[1fr] opacity-100\"\n                          : \"grid-rows-[0fr] opacity-0\"\n                      }`}\n                    >\n                      <div className=\"overflow-hidden\">\n                        <div className=\"flex gap-3 flex-wrap pt-2 pb-3\">\n                          {hasSourceSwaps\n                            ? // Show individual source chain links\n                              widget.sourceSwaps.map((swap, index) => (\n                                <a\n                                  key={`${swap.chainId}-${index}`}\n                                  href={swap.explorerUrl}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  className=\"font-sans flex gap-1 items-center text-muted-foreground text-sm leading-4.5 underline transition-all\"\n                                  style={{\n                                    animationDelay: showSourceDetails\n                                      ? `${index * 50}ms`\n                                      : \"0ms\",\n                                  }}\n                                >\n                                  {swap.chainName}\n                                  <ArrowBoxUpRightIcon\n                                    size={16}\n                                    className=\"text-muted-foreground transition-colors\"\n                                  />\n                                </a>\n                              ))\n                            : // No source swaps - show Nexus intent URL\n                              widget.nexusIntentUrl && (\n                                <a\n                                  href={widget.nexusIntentUrl}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  className=\"font-sans flex gap-1 items-center text-muted-foreground text-sm leading-4.5 underline transition-all\"\n                                >\n                                  View on Nexus Explorer\n                                  <ArrowBoxUpRightIcon\n                                    size={16}\n                                    className=\"text-muted-foreground transition-colors\"\n                                  />\n                                </a>\n                              )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Deposit transaction */}\n                {depositTxUrl && (\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"font-sans text-sm leading-4.5 text-card-foreground\">\n                      Deposit transaction\n                    </span>\n                    <a\n                      href={depositTxUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"font-sans flex gap-0.5 text-muted-foreground text-sm leading-4.5 underline cursor-pointer\"\n                    >\n                      {truncateHash(widget.depositTxHash ?? \"\")}\n                      <ArrowBoxUpRightIcon\n                        size={16}\n                        className=\"text-muted-foreground\"\n                      />\n                    </a>\n                  </div>\n                )}\n              </div>\n\n              {/* Fees section */}\n              <div className=\"border-t py-5 flex flex-col gap-3\">\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"flex flex-col gap-1.5\">\n                    <span className=\"font-sans text-sm leading-4.5 text-card-foreground\">\n                      Total fees\n                    </span>\n                  </div>\n                  <span className=\"font-sans text-muted-foreground text-sm leading-4.5\">\n                    {usdFormatter.format(\n                      widget.feeBreakdown.gasUsd +\n                        (widget?.confirmationDetails?.totalFeeUsd ?? 0),\n                    )}\n                    USD\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex w-full\">\n            <Button\n              className=\"w-1/2 rounded-t-none rounded-br-none\"\n              onClick={handleNewDeposit}\n            >\n              New Deposit\n            </Button>\n            <Button\n              className=\"w-1/2 rounded-t-none rounded-bl-none\"\n              variant=\"secondary\"\n              onClick={handleClose}\n            >\n              Close\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n      <CardFooter />\n    </>\n  );\n};\n\nexport default TransactionCompleteContainer;\n",
      "type": "registry:component",
      "target": "components/deposit/components/transaction-complete-container.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/transaction-failed-container.tsx",
      "content": "\"use client\";\n\nimport { CardContent, CardFooter } from \"../../ui/card\";\nimport { Button } from \"../../ui/button\";\nimport WidgetHeader from \"./widget-header\";\nimport { ReceiveAmountDisplay } from \"./receive-amount-display\";\nimport type { DepositWidgetContextValue } from \"../types\";\n\ninterface TransactionFailedContainerProps {\n  widget: DepositWidgetContextValue;\n  heading?: string;\n  onClose?: () => void;\n}\n\nconst TransactionFailedContainer = ({\n  widget,\n  heading,\n  onClose,\n}: TransactionFailedContainerProps) => {\n  const handleRetry = () => {\n    widget.setTxError(null);\n    widget.reset();\n    widget.goToStep(\"amount\");\n  };\n\n  const handleClose = () => {\n    widget.reset();\n    onClose?.();\n  };\n\n  return (\n    <>\n      <WidgetHeader\n        title={heading ?? \"\"}\n        onClose={onClose}\n        depositTargetLogo={widget?.destination?.depositTargetLogo}\n      />\n      <CardContent>\n        <div className=\"flex flex-col\">\n          <div className=\"bg-base rounded-t-lg border-t border-l border-r border-border shadow-[0_1px_12px_0_rgba(91,91,91,0.05)] px-6 pt-6 pb-6 flex flex-col items-center gap-5\">\n            <ReceiveAmountDisplay\n              label=\"Transaction failed\"\n              amount=\"-$0.00\"\n              timeLabel=\"\"\n              showClockIcon={false}\n              showUsdValue={false}\n            />\n            <div className=\"w-full bg-destructive/10 border border-destructive/20 rounded-lg px-4 py-4 overflow-hidden\">\n              <p className=\"font-sans text-sm leading-5 text-destructive break-all\">\n                {widget?.txError ??\n                  `It's not you, it's us. Everything seems to be in order from your\n                side, our engineers might have broken something.`}\n              </p>\n              <p className=\"font-sans text-sm leading-5 text-destructive mt-3\">\n                Retry in a bit?\n              </p>\n            </div>\n          </div>\n          <div className=\"flex w-full\">\n            <Button\n              className=\"w-1/2 rounded-t-none rounded-br-none\"\n              onClick={handleRetry}\n            >\n              Retry\n            </Button>\n            <Button\n              className=\"w-1/2 rounded-t-none rounded-bl-none\"\n              variant=\"secondary\"\n              onClick={handleClose}\n            >\n              Close\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n      <CardFooter />\n    </>\n  );\n};\n\nexport default TransactionFailedContainer;\n",
      "type": "registry:component",
      "target": "components/deposit/components/transaction-failed-container.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/transaction-status-container.tsx",
      "content": "\"use client\";\n\nimport { CardContent, CardFooter } from \"../../ui/card\";\nimport WidgetHeader from \"./widget-header\";\nimport { AmountDisplay } from \"./amount-display\";\nimport { TransactionSteps, type SimplifiedStep } from \"./transaction-steps\";\nimport type { DepositWidgetContextValue } from \"../types\";\nimport { useMemo } from \"react\";\nimport { usdFormatter } from \"../../common\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\n\ninterface TransactionStatusContainerProps {\n  widget: DepositWidgetContextValue;\n  heading?: string;\n  onClose?: () => void;\n}\n\nfunction TransferIndicator({ isProcessing }: { isProcessing: boolean }) {\n  const baseClasses = \"w-2 h-2 transition-all duration-300\";\n\n  if (isProcessing) {\n    return (\n      <>\n        <div\n          className={`${baseClasses} bg-primary animate-transfer-wave`}\n          style={{ animationDelay: \"0ms\" }}\n        />\n        <div\n          className={`${baseClasses} bg-primary animate-transfer-wave`}\n          style={{ animationDelay: \"100ms\" }}\n        />\n        <div\n          className={`${baseClasses} bg-primary animate-transfer-wave`}\n          style={{ animationDelay: \"200ms\" }}\n        />\n        <div\n          className={`${baseClasses} bg-primary animate-transfer-wave`}\n          style={{ animationDelay: \"300ms\" }}\n        />\n        <div\n          className={`${baseClasses} bg-primary animate-transfer-wave`}\n          style={{ animationDelay: \"400ms\" }}\n        />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div className={`${baseClasses} bg-primary/10`} />\n      <div className={`${baseClasses} bg-primary/50`} />\n      <div className={`${baseClasses} bg-primary`} />\n      <div className={`${baseClasses} bg-primary/50`} />\n      <div className={`${baseClasses} bg-primary/10`} />\n    </>\n  );\n}\n\nconst TransactionStatusContainer = ({\n  widget,\n  heading,\n  onClose,\n}: TransactionStatusContainerProps) => {\n  const { steps, confirmationDetails, activeIntent, isProcessing } = widget;\n\n  const receiveAmount = confirmationDetails?.receiveAmountAfterSwap ?? \"0\";\n  const receiveTokenSymbol = confirmationDetails?.receiveTokenSymbol ?? \"USDC\";\n  const destinationChainName =\n    confirmationDetails?.destinationChainName ??\n    activeIntent?.intent?.destination?.chain?.name ??\n    \"destination\";\n  const sourceCount = widget.skipSwap\n    ? 0 // No source assets when using existing balance\n    : (activeIntent?.intent?.sources?.length ?? 0);\n  const spendAmountUsd = widget?.confirmationDetails?.amountSpent ?? 0;\n\n  // Derive simplified steps from actual SDK events\n  const simplifiedSteps = useMemo((): SimplifiedStep[] => {\n    // When swap is skipped, only show deposit transaction step\n    if (widget.skipSwap) {\n      return [\n        {\n          id: \"deposit-transaction\",\n          label: \"Deposit transaction\",\n          completed: widget.isSuccess,\n        },\n      ];\n    }\n\n    const hasRffId = steps.some((s) => s.step.type === \"RFF_ID\" && s.completed);\n    // Use SOURCE_SWAP_HASH for \"Collecting on Source\" step\n    const hasSourceSwapHash = steps.some(\n      (s) => s.step.type === \"DESTINATION_SWAP_HASH\" && s.completed,\n    );\n    // Deposit transaction only completes when the entire transaction succeeds\n    const isTransactionComplete = widget.isSuccess;\n\n    return [\n      {\n        id: \"intent-verification\",\n        label: \"Intent Verification\",\n        completed: hasRffId,\n      },\n      {\n        id: \"collecting-on-source\",\n        label: \"Collecting on Source\",\n        completed: hasSourceSwapHash,\n      },\n      {\n        id: \"deposit-transaction\",\n        label: \"Deposit transaction\",\n        completed: isTransactionComplete,\n      },\n    ];\n  }, [steps, widget.isSuccess, widget.skipSwap]);\n\n  // Calculate progress based on completed steps\n  const progress = useMemo(() => {\n    const completedCount = simplifiedSteps.filter((s) => s.completed).length;\n    const totalSteps = simplifiedSteps.length;\n    return Math.round((completedCount / totalSteps) * 100);\n  }, [simplifiedSteps]);\n\n  const getStatusMessage = () => {\n    if (widget.isError && widget.txError) {\n      return <span className=\"text-destructive\">{widget.txError}</span>;\n    }\n    if (widget.isSuccess) return \"Transaction complete\";\n    if (widget.isProcessing) return \"Processing transaction...\";\n    return \"Verifying intent\";\n  };\n\n  return (\n    <>\n      <WidgetHeader\n        title={heading ?? \"\"}\n        onClose={onClose}\n        depositTargetLogo={widget?.destination?.depositTargetLogo}\n      />\n      <CardContent>\n        <div className=\"flex flex-col bg-base rounded-lg border border-border shadow-[0_1px_12px_0_rgba(91,91,91,0.05)] pt-8 pb-7\">\n          <div className=\"flex w-full mt-2 items-end justify-center\">\n            <div className=\"flex justify-between items-center w-full px-3 gap-x-3\">\n              <AmountDisplay\n                amount={usdFormatter.format(spendAmountUsd)}\n                suffix=\"USD\"\n                label={\n                  widget.skipSwap\n                    ? \"Existing balance\"\n                    : `${sourceCount} asset${sourceCount !== 1 ? \"s\" : \"\"}`\n                }\n              />\n              <div className=\"flex w-16 gap-1.5 items-center justify-center\">\n                <TransferIndicator isProcessing={isProcessing} />\n              </div>\n              <AmountDisplay\n                amount={receiveAmount.split(\" \")[0]}\n                suffix={receiveTokenSymbol}\n                label={`on ${destinationChainName}`}\n              />\n            </div>\n          </div>\n          <div\n            className=\"w-full h-10 relative\"\n            style={{\n              background:\n                \"linear-gradient(0deg, rgba(0, 107, 244, 0.15) 0%, rgba(255, 255, 255, 0.00) 90.79%)\",\n            }}\n          >\n            <div\n              className=\"absolute bottom-0 left-0 h-1 bg-primary animate-progress\"\n              style={{\n                width: `${progress}%`,\n              }}\n            />\n          </div>\n          <div className=\"py-5 mt-1 font-sans text-sm leading-4.5 text-muted-foreground text-center\">\n            {getStatusMessage()}\n          </div>\n          <TransactionSteps steps={simplifiedSteps} />\n        </div>\n      </CardContent>\n      <CardFooter />\n    </>\n  );\n};\n\nexport default TransactionStatusContainer;\n",
      "type": "registry:component",
      "target": "components/deposit/components/transaction-status-container.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/transaction-steps.tsx",
      "content": "\"use client\";\n\nimport { AnimatedSpinner } from \"../../ui/animated-spinner\";\nimport { CheckIcon } from \"./icons\";\n\nexport interface SimplifiedStep {\n  id: string;\n  label: string;\n  completed: boolean;\n  /** If true, this step will be grouped with the next step (no separator, only gap) */\n  groupWithNext?: boolean;\n}\n\ninterface TransactionStepsProps {\n  steps: SimplifiedStep[];\n}\n\ntype StepStatus = \"completed\" | \"in-progress\" | \"pending\";\n\nfunction getStepStatus(\n  steps: SimplifiedStep[],\n  stepIndex: number,\n): StepStatus {\n  const step = steps[stepIndex];\n  if (step?.completed) return \"completed\";\n\n  // Find the first incomplete step\n  const firstIncompleteIndex = steps.findIndex((s) => !s.completed);\n  if (stepIndex === firstIncompleteIndex) return \"in-progress\";\n\n  return \"pending\";\n}\n\nexport function TransactionSteps({ steps }: TransactionStepsProps) {\n  // Group steps based on groupWithNext property\n  const groupedSteps: SimplifiedStep[][] = [];\n  let currentGroup: SimplifiedStep[] = [];\n\n  steps.forEach((step) => {\n    currentGroup.push(step);\n    if (!step.groupWithNext) {\n      groupedSteps.push(currentGroup);\n      currentGroup = [];\n    }\n  });\n  if (currentGroup.length > 0) {\n    groupedSteps.push(currentGroup);\n  }\n\n  return (\n    <div className=\"flex flex-col px-6\">\n      {groupedSteps.map((group, groupIndex) => {\n        const isLastGroup = groupIndex === groupedSteps.length - 1;\n\n        return (\n          <div\n            key={group[0].id}\n            className={`${\n              isLastGroup ? \"pt-5\" : \"py-5\"\n            } flex flex-col gap-5 border-t`}\n          >\n            {group.map((step) => {\n              const stepIndex = steps.findIndex((s) => s.id === step.id);\n              const status = getStepStatus(steps, stepIndex);\n\n              return (\n                <div key={step.id} className=\"flex gap-4\">\n                  <div className=\"h-5 w-5 flex items-center justify-center\">\n                    {status === \"completed\" && (\n                      <CheckIcon className=\"text-primary\" />\n                    )}\n                    {status === \"in-progress\" && (\n                      <AnimatedSpinner className=\"h-6 w-6 text-primary\" />\n                    )}\n                    {status === \"pending\" && (\n                      <div className=\"h-5 w-5 rounded-full border-2 border-muted-foreground/30\" />\n                    )}\n                  </div>\n                  <span className=\"font-sans text-card-foreground leading-5\">\n                    {step.label}\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/deposit/components/transaction-steps.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/components/widget-header.tsx",
      "content": "\"use client\";\n\nimport Image from \"next/image\";\nimport { CloseIcon, LeftChevronIcon } from \"./icons\";\n\ninterface WidgetHeaderProps {\n  title: string;\n  depositTargetLogo?: string;\n  onBack?: () => void;\n  onClose?: () => void;\n}\n\nconst WidgetHeader = ({\n  title,\n  onBack,\n  onClose,\n  depositTargetLogo,\n}: WidgetHeaderProps) => {\n  return (\n    <div className=\"flex items-center justify-between px-6 pb-3\">\n      {onBack ? (\n        <button\n          onClick={onBack}\n          className=\"h-5 w-5 flex items-center justify-center group/back\"\n        >\n          <LeftChevronIcon className=\"h-5 w-5 text-muted-foreground group-hover/back:text-foreground\" />\n        </button>\n      ) : depositTargetLogo ? (\n        <img\n          src={depositTargetLogo}\n          width={20}\n          height={20}\n          className=\"h-5 w-5\"\n        />\n      ) : (\n        <div className=\"size-5 bg-background/20 rounded-full\"></div>\n      )}\n      <h2 className=\"font-display text-center text-[15px] font-medium tracking-[0.3px]\">\n        {title}\n      </h2>\n      <button\n        onClick={onClose}\n        className=\"h-5 w-5 flex items-center justify-center group/close\"\n      >\n        <CloseIcon className=\"h-5 w-5 text-muted-foreground group-hover/close:text-foreground transition-colors\" />\n      </button>\n    </div>\n  );\n};\n\nexport default WidgetHeader;\n",
      "type": "registry:component",
      "target": "components/deposit/components/widget-header.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/constants/assets.ts",
      "content": "/**\n * Asset paths for the deposit widget.\n * Centralized for easy updates when migrating to nexus-elements registry.\n */\nexport const DEPOSIT_WIDGET_ASSETS = {\n  tokens: {\n    USDC: \"/usdc.svg\",\n    ETH: \"/ethereum.svg\",\n  },\n  protocols: {\n    aave: \"/aave.svg\",\n  },\n  wallets: {\n    metamask: \"/metamask.svg\",\n    phantom: \"/phantom.svg\",\n  },\n  // features now use React icon components instead of SVG files\n} as const;\n\nexport const TOKEN_IMAGES: Record<string, string> = {\n  USDC: \"https://coin-images.coingecko.com/coins/images/6319/large/usdc.png\",\n  USDT: \"https://coin-images.coingecko.com/coins/images/35023/large/USDT.png\",\n  \"USD0\":\n    \"https://coin-images.coingecko.com/coins/images/35023/large/USDT.png\",\n  WETH: \"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880\",\n  USDS: \"https://assets.coingecko.com/coins/images/39926/standard/usds.webp?1726666683\",\n  SOPH: \"https://assets.coingecko.com/coins/images/38680/large/sophon_logo_200.png\",\n  KAIA: \"https://assets.coingecko.com/asset_platforms/images/9672/large/kaia.png\",\n  BNB: \"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png\",\n  // Add ETH as fallback for any ETH-related tokens\n  ETH: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png?1696501628\",\n  // Add common token fallbacks\n  POL: \"https://coin-images.coingecko.com/coins/images/32440/standard/polygon.png\",\n  AVAX: \"https://assets.coingecko.com/coins/images/12559/standard/Avalanche_Circle_RedWhite_Trans.png\",\n  FUEL: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png\",\n  HYPE: \"https://assets.coingecko.com/asset_platforms/images/243/large/hyperliquid.png\",\n  // Popular swap tokens\n  DAI: \"https://coin-images.coingecko.com/coins/images/9956/large/Badge_Dai.png?1696509996\",\n  UNI: \"https://coin-images.coingecko.com/coins/images/12504/large/uni.jpg?1696512319\",\n  AAVE: \"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png?1696512452\",\n  LDO: \"https://coin-images.coingecko.com/coins/images/13573/large/Lido_DAO.png?1696513326\",\n  PEPE: \"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg?1696528776\",\n  OP: \"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png?1696524385\",\n  ZRO: \"https://coin-images.coingecko.com/coins/images/28206/large/ftxG9_TJ_400x400.jpeg?1696527208\",\n  OM: \"https://assets.coingecko.com/coins/images/12151/standard/OM_Token.png?1696511991\",\n  KAITO:\n    \"https://assets.coingecko.com/coins/images/54411/standard/Qm4DW488_400x400.jpg\",\n};\n",
      "type": "registry:component",
      "target": "components/deposit/constants/assets.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/constants/widget.ts",
      "content": "/**\n * Widget configuration constants.\n * Centralized magic numbers for maintainability.\n */\n\n// UI Thresholds\nexport const SCROLL_THRESHOLD_PX = 50;\nexport const PROGRESS_BAR_ANIMATION_DELAY_MS = 50;\nexport const PROGRESS_BAR_EXIT_DURATION_MS = 300;\n\n// Timing\nexport const LOADING_SKELETON_DELAY_MS = 600;\nexport const CHARACTER_ANIMATION_DURATION_MS = 400;\nexport const SHINE_ANIMATION_DURATION_MS = 500;\nexport const SIMULATION_POLL_INTERVAL_MS = 15000;\n\n// Safety & Calculations\nexport const BALANCE_SAFETY_MARGIN = 0.92; // Keep 8% as safety buffer\nexport const DEFAULT_TOKEN_DECIMALS = 6;\n\n// Layout\nexport const CHAIN_ITEM_HEIGHT_PX = 49;\nexport const VERTICAL_LINE_TOP_OFFSET_PX = 48;\nexport const MAX_INPUT_WIDTH_PX = 300;\n\n// Asset Selection\nexport const STABLECOIN_SYMBOLS = [\"USDC\", \"USDT\", \"DAI\", \"TUSD\", \"USDP\"] as const;\n\n// Animation classes (for reference, actual classes defined in CSS)\nexport const ANIMATION_CLASSES = {\n  slideInFromRight: \"animate-slide-in-from-right\",\n  slideInFromLeft: \"animate-slide-in-from-left\",\n  digitIn: \"animate-digit-in\",\n  glareShine: \"animate-glare-shine\",\n  transferWave: \"animate-transfer-wave\",\n  progress: \"animate-progress\",\n} as const;\n",
      "type": "registry:component",
      "target": "components/deposit/constants/widget.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/hooks/use-asset-selection.ts",
      "content": "\"use client\";\n\nimport { useState, useCallback, useEffect } from \"react\";\nimport type { AssetSelectionState } from \"../types\";\nimport type { UserAsset } from \"@avail-project/nexus-core\";\n\n/**\n * Creates fresh initial asset selection state\n */\nexport const createInitialAssetSelection = (): AssetSelectionState => ({\n  selectedChainIds: new Set<string>(),\n  filter: \"all\",\n  expandedTokens: new Set(),\n});\n\n/**\n * Hook for managing asset selection state in the deposit widget.\n * Handles selection of tokens/chains for cross-chain swaps.\n */\nexport function useAssetSelection(swapBalance: UserAsset[] | null) {\n  const [assetSelection, setAssetSelectionState] =\n    useState<AssetSelectionState>(createInitialAssetSelection);\n\n  // Extract primitive value for effect dependency (rerender-dependencies)\n  const selectedChainIdsCount = assetSelection.selectedChainIds.size;\n\n  // Auto-select all assets when swapBalance first loads\n  useEffect(() => {\n    if (swapBalance && selectedChainIdsCount === 0) {\n      const allChainIds = new Set<string>();\n      swapBalance.forEach((asset) => {\n        if (asset.breakdown) {\n          asset.breakdown.forEach((b) => {\n            if (b.chain && b.balance) {\n              allChainIds.add(`${b.contractAddress}-${b.chain.id}`);\n            }\n          });\n        }\n      });\n      if (allChainIds.size > 0) {\n        setAssetSelectionState({\n          selectedChainIds: allChainIds,\n          filter: \"all\",\n          expandedTokens: new Set(),\n        });\n      }\n    }\n  }, [swapBalance, selectedChainIdsCount]);\n\n  const setAssetSelection = useCallback(\n    (update: Partial<AssetSelectionState>) => {\n      setAssetSelectionState((prev) => ({ ...prev, ...update }));\n    },\n    []\n  );\n\n  const resetAssetSelection = useCallback(() => {\n    setAssetSelectionState(createInitialAssetSelection());\n  }, []);\n\n  return {\n    assetSelection,\n    setAssetSelection,\n    resetAssetSelection,\n  };\n}\n",
      "type": "registry:component",
      "target": "components/deposit/hooks/use-asset-selection.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/hooks/use-deposit-computed.ts",
      "content": "\"use client\";\n\nimport { useMemo } from \"react\";\nimport type { DestinationConfig, AssetSelectionState } from \"../types\";\nimport type {\n  OnSwapIntentHookData,\n  UserAsset,\n} from \"@avail-project/nexus-core\";\nimport { CHAIN_METADATA } from \"@avail-project/nexus-core\";\nimport { usdFormatter } from \"../../common\";\nimport type { SwapSkippedData } from \"./use-deposit-state\";\n\ninterface UseDepositComputedProps {\n  swapBalance: UserAsset[] | null;\n  assetSelection: AssetSelectionState;\n  activeIntent: OnSwapIntentHookData | null;\n  destination: DestinationConfig;\n  inputAmount: string | undefined;\n  exchangeRate: Record<string, number> | null;\n  getFiatValue: (amount: number, symbol: string) => number;\n  actualGasFeeUsd: number | null;\n  swapSkippedData: SwapSkippedData | null;\n  skipSwap: boolean;\n  nexusSDK: any;\n}\n\n/**\n * Available asset item from swap balance\n */\nexport interface AvailableAsset {\n  chainId: number;\n  tokenAddress: `0x${string}`;\n  decimals: number;\n  symbol: string;\n  balance: string;\n  balanceInFiat?: number;\n  tokenLogo?: string;\n  chainLogo?: string;\n  chainName?: string;\n}\n\n/**\n * Hook for computing derived values from deposit widget state.\n * Separates computation logic from main hook for better maintainability.\n */\nexport function useDepositComputed(props: UseDepositComputedProps) {\n  const {\n    swapBalance,\n    assetSelection,\n    activeIntent,\n    destination,\n    inputAmount,\n    exchangeRate,\n    getFiatValue,\n    actualGasFeeUsd,\n    swapSkippedData,\n    skipSwap,\n    nexusSDK,\n  } = props;\n\n  /**\n   * Flatten swap balance into a sorted list of available assets\n   */\n  const availableAssets = useMemo<AvailableAsset[]>(() => {\n    if (!swapBalance) return [];\n    const items: AvailableAsset[] = [];\n\n    for (const asset of swapBalance) {\n      if (!asset?.breakdown?.length) continue;\n      for (const breakdown of asset.breakdown) {\n        if (!breakdown?.chain?.id || !breakdown.balance) continue;\n        const numericBalance = Number.parseFloat(breakdown.balance);\n        if (!Number.isFinite(numericBalance) || numericBalance <= 0) continue;\n\n        items.push({\n          chainId: breakdown.chain.id,\n          tokenAddress: breakdown.contractAddress as `0x${string}`,\n          decimals: breakdown.decimals ?? asset.decimals,\n          symbol: asset.symbol,\n          balance: breakdown.balance,\n          balanceInFiat: breakdown.balanceInFiat,\n          tokenLogo: asset.icon,\n          chainLogo: breakdown.chain.logo,\n          chainName: breakdown.chain.name,\n        });\n      }\n    }\n    return items.toSorted(\n      (a, b) => (b.balanceInFiat ?? 0) - (a.balanceInFiat ?? 0)\n    );\n  }, [swapBalance]);\n\n  /**\n   * Total USD value of selected assets\n   */\n  const totalSelectedBalance = useMemo(\n    () =>\n      availableAssets.reduce((sum, asset) => {\n        const key = `${asset.tokenAddress}-${asset.chainId}`;\n        if (assetSelection.selectedChainIds.has(key)) {\n          return sum + (asset.balanceInFiat ?? 0);\n        }\n        return sum;\n      }, 0),\n    [availableAssets, assetSelection.selectedChainIds]\n  );\n\n  /**\n   * Total balance across all assets\n   */\n  const totalBalance = useMemo(() => {\n    const balance =\n      swapBalance?.reduce(\n        (acc, balance) => acc + parseFloat(balance.balance),\n        0\n      ) ?? 0;\n    const usdBalance =\n      swapBalance?.reduce((acc, balance) => acc + balance.balanceInFiat, 0) ??\n      0;\n    return { balance, usdBalance };\n  }, [swapBalance]);\n\n  /**\n   * User's existing balance on destination chain\n   */\n  const destinationBalance = useMemo(() => {\n    if (!nexusSDK || !swapBalance || !destination) return undefined;\n    return swapBalance\n      ?.find((token) => token.symbol === destination.tokenSymbol)\n      ?.breakdown?.find((chain) => chain.chain?.id === destination.chainId);\n  }, [swapBalance, nexusSDK, destination]);\n\n  /**\n   * Confirmation screen details computed from intent or skipped swap data\n   */\n  const confirmationDetails = useMemo(() => {\n    // Handle swap skipped case - compute from swapSkippedData\n    if (swapSkippedData && skipSwap) {\n      const { destination: destData, gas } = swapSkippedData;\n\n      // Format the token amount from raw units\n      const rawAmount = Number.parseFloat(destData.amount);\n      const tokenAmount = rawAmount / Math.pow(10, destData.token.decimals);\n      const receiveAmountUsd = getFiatValue(tokenAmount, destData.token.symbol);\n\n      // Format for display\n      const receiveAmountAfterSwap = `${tokenAmount.toFixed(2)} ${destData.token.symbol}`;\n\n      // Gas fee calculation from swapSkippedData\n      const estimatedFeeWei = Number.parseFloat(gas.estimatedFee);\n      const estimatedFeeEth = estimatedFeeWei / 1e18;\n      const gasFeeUsd = getFiatValue(\n        estimatedFeeEth,\n        destination.gasTokenSymbol ?? \"ETH\"\n      );\n\n      return {\n        sourceLabel: destination.label ?? \"Deposit\",\n        sources: [],\n        gasTokenSymbol: destination.gasTokenSymbol,\n        estimatedTime: destination.estimatedTime ?? \"~30s\",\n        amountSpent: receiveAmountUsd,\n        totalFeeUsd: gasFeeUsd,\n        receiveTokenSymbol: destData.token.symbol,\n        receiveAmountAfterSwapUsd: receiveAmountUsd,\n        receiveAmountAfterSwap,\n        receiveTokenLogo: destination.tokenLogo,\n        receiveTokenChain: destData.chain.id,\n        destinationChainName: destData.chain.name,\n      };\n    }\n\n    if (!activeIntent || !nexusSDK) return null;\n\n    // Use user's requested amount (from input), not SDK's optimized bridge amount\n    const receiveAmountUsd = inputAmount\n      ? parseFloat(inputAmount.replace(/,/g, \"\"))\n      : 0;\n\n    // Convert USD amount to token amount for display\n    const tokenExchangeRate = exchangeRate?.[destination.tokenSymbol] ?? 1;\n    const receiveTokenAmount = receiveAmountUsd / tokenExchangeRate;\n\n    const receiveAmountAfterSwap = nexusSDK.utils.formatTokenBalance(\n      receiveTokenAmount.toString(),\n      {\n        symbol: destination.tokenSymbol,\n        decimals: destination.tokenDecimals,\n      }\n    );\n\n    // Build sources array from intent sources\n    const sources: Array<{\n      chainId: number;\n      tokenAddress: `0x${string}`;\n      decimals: number;\n      symbol: string;\n      balance: string;\n      balanceInFiat?: number;\n      tokenLogo?: string;\n      chainLogo?: string;\n      chainName?: string;\n      isDestinationBalance?: boolean;\n    }> = [];\n\n    activeIntent.intent.sources.forEach((source) => {\n      const matchingAsset = availableAssets.find(\n        (asset) =>\n          asset.chainId === source.chain.id &&\n          asset.symbol === source.token.symbol\n      );\n      if (matchingAsset) {\n        const sourceAmountUsd = getFiatValue(\n          Number.parseFloat(source.amount),\n          source.token.symbol\n        );\n        sources.push({\n          ...matchingAsset,\n          balance: source.amount,\n          balanceInFiat: sourceAmountUsd,\n          isDestinationBalance: false,\n        });\n      }\n    });\n\n    // Calculate total spent from cross-chain sources\n    const totalAmountSpentUsd = activeIntent.intent.sources?.reduce(\n      (acc, source) => {\n        const amount = Number.parseFloat(source.amount);\n        const usdAmount = getFiatValue(amount, source.token.symbol);\n        return acc + usdAmount;\n      },\n      0\n    );\n\n    // Get the actual amount arriving on destination (AFTER fees)\n    const destinationAmount = Number.parseFloat(\n      activeIntent.intent.destination?.amount ?? \"0\"\n    );\n    const destinationAmountUsd = getFiatValue(\n      destinationAmount,\n      activeIntent.intent.destination?.token?.symbol ?? destination.tokenSymbol\n    );\n\n    // Calculate bridge/protocol fees\n    const totalFeeUsd = Math.max(0, totalAmountSpentUsd - destinationAmountUsd);\n\n    // Calculate destination balance used\n    const usedFromDestinationUsd = Math.max(\n      0,\n      receiveAmountUsd - destinationAmountUsd\n    );\n\n    if (usedFromDestinationUsd > 0.01 && destinationBalance) {\n      const usedTokenAmount = usedFromDestinationUsd / tokenExchangeRate;\n      const chainMeta =\n        CHAIN_METADATA[destination.chainId as keyof typeof CHAIN_METADATA];\n\n      sources.push({\n        chainId: destination.chainId,\n        tokenAddress: destination.tokenAddress,\n        decimals: destination.tokenDecimals,\n        symbol: destination.tokenSymbol,\n        balance: usedTokenAmount.toString(),\n        balanceInFiat: usedFromDestinationUsd,\n        tokenLogo: destination.tokenLogo,\n        chainLogo: chainMeta?.logo,\n        chainName: chainMeta?.name,\n        isDestinationBalance: true,\n      });\n    }\n\n    const actualAmountSpent = totalAmountSpentUsd + usedFromDestinationUsd;\n\n    return {\n      sourceLabel: destination.label ?? \"Deposit\",\n      sources,\n      gasTokenSymbol: destination.gasTokenSymbol,\n      estimatedTime: destination.estimatedTime ?? \"~30s\",\n      amountSpent: actualAmountSpent,\n      totalFeeUsd,\n      receiveTokenSymbol: destination.tokenSymbol,\n      receiveAmountAfterSwapUsd: receiveAmountUsd,\n      receiveAmountAfterSwap,\n      receiveTokenLogo: destination.tokenLogo,\n      receiveTokenChain: destination.chainId,\n      destinationChainName: activeIntent.intent.destination?.chain?.name,\n    };\n  }, [\n    activeIntent,\n    nexusSDK,\n    destination,\n    availableAssets,\n    inputAmount,\n    exchangeRate,\n    getFiatValue,\n    destinationBalance,\n    swapSkippedData,\n    skipSwap,\n  ]);\n\n  /**\n   * Gas fee breakdown for display\n   */\n  const feeBreakdown = useMemo(() => {\n    // Use actual gas fee from receipt if available\n    if (actualGasFeeUsd !== null) {\n      const gasFormatted = usdFormatter.format(actualGasFeeUsd);\n      return {\n        totalGasFee: actualGasFeeUsd,\n        gasUsd: actualGasFeeUsd,\n        gasFormatted,\n      };\n    }\n\n    // Use gas from swapSkippedData when swap is skipped\n    if (swapSkippedData && skipSwap) {\n      const { gas } = swapSkippedData;\n      const estimatedFeeWei = Number.parseFloat(gas.estimatedFee);\n      const estimatedFeeEth = estimatedFeeWei / 1e18;\n      const gasUsd = getFiatValue(\n        estimatedFeeEth,\n        destination.gasTokenSymbol ?? \"ETH\"\n      );\n      const gasFormatted = usdFormatter.format(gasUsd);\n      return { totalGasFee: gasUsd, gasUsd, gasFormatted };\n    }\n\n    // Otherwise use estimated gas from intent\n    if (!activeIntent?.intent?.destination?.gas) {\n      return { totalGasFee: 0, gasUsd: 0, gasFormatted: \"0\" };\n    }\n\n    const gas = (activeIntent.intent.destination as any).gas;\n    const gasAmount = parseFloat(gas.amount);\n    const gasSymbol = gas.token?.symbol ?? destination.gasTokenSymbol;\n    const gasUsd = getFiatValue(gasAmount, gasSymbol);\n    const gasFormatted = usdFormatter.format(gasUsd);\n\n    return { totalGasFee: gasUsd, gasUsd, gasFormatted };\n  }, [\n    activeIntent,\n    getFiatValue,\n    actualGasFeeUsd,\n    swapSkippedData,\n    skipSwap,\n    destination.gasTokenSymbol,\n  ]);\n\n  return {\n    availableAssets,\n    totalSelectedBalance,\n    totalBalance,\n    destinationBalance,\n    confirmationDetails,\n    feeBreakdown,\n  };\n}\n",
      "type": "registry:component",
      "target": "components/deposit/hooks/use-deposit-computed.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/hooks/use-deposit-state.ts",
      "content": "\"use client\";\n\nimport { useReducer } from \"react\";\nimport type {\n  WidgetStep,\n  TransactionStatus,\n  DepositInputs,\n  NavigationDirection,\n} from \"../types\";\nimport type { OnSwapIntentHookData } from \"@avail-project/nexus-core\";\n\n/**\n * Source swap info collected during transaction execution\n */\nexport interface SourceSwapInfo {\n  chainId: number;\n  chainName: string;\n  explorerUrl: string;\n}\n\n/**\n * Data from SDK when swap is skipped (using existing destination balance)\n */\nexport interface SwapSkippedData {\n  destination: {\n    amount: string;\n    chain: { id: number; name: string };\n    token: {\n      contractAddress: `0x${string}`;\n      decimals: number;\n      symbol: string;\n    };\n  };\n  input: {\n    amount: string;\n    token: {\n      contractAddress: `0x${string}`;\n      decimals: number;\n      symbol: string;\n    };\n  };\n  gas: {\n    required: string;\n    price: string;\n    estimatedFee: string;\n  };\n}\n\n/**\n * Core deposit widget state\n */\nexport interface DepositState {\n  step: WidgetStep;\n  inputs: DepositInputs;\n  status: TransactionStatus;\n  explorerUrls: {\n    sourceExplorerUrl: string | null;\n    destinationExplorerUrl: string | null;\n  };\n  sourceSwaps: SourceSwapInfo[];\n  nexusIntentUrl: string | null;\n  depositTxHash: string | null;\n  actualGasFeeUsd: number | null;\n  error: string | null;\n  lastResult: unknown;\n  navigationDirection: NavigationDirection;\n  simulation: {\n    swapIntent: OnSwapIntentHookData;\n  } | null;\n  simulationLoading: boolean;\n  receiveAmount: string | null;\n  skipSwap: boolean;\n  intentReady: boolean;\n  swapSkippedData: SwapSkippedData | null;\n}\n\n/**\n * Action types for state reducer\n */\nexport type DepositAction =\n  | {\n      type: \"setStep\";\n      payload: { step: WidgetStep; direction: NavigationDirection };\n    }\n  | { type: \"setInputs\"; payload: Partial<DepositInputs> }\n  | { type: \"setStatus\"; payload: TransactionStatus }\n  | {\n      type: \"setExplorerUrls\";\n      payload: Partial<DepositState[\"explorerUrls\"]>;\n    }\n  | { type: \"setError\"; payload: string | null }\n  | { type: \"setLastResult\"; payload: unknown }\n  | {\n      type: \"setSimulation\";\n      payload: {\n        swapIntent: OnSwapIntentHookData;\n      };\n    }\n  | { type: \"setSimulationLoading\"; payload: boolean }\n  | { type: \"setReceiveAmount\"; payload: string | null }\n  | { type: \"setSkipSwap\"; payload: boolean }\n  | { type: \"setIntentReady\"; payload: boolean }\n  | { type: \"setSwapSkippedData\"; payload: SwapSkippedData | null }\n  | { type: \"addSourceSwap\"; payload: SourceSwapInfo }\n  | { type: \"setNexusIntentUrl\"; payload: string | null }\n  | { type: \"setDepositTxHash\"; payload: string | null }\n  | { type: \"setActualGasFeeUsd\"; payload: number | null }\n  | { type: \"reset\" };\n\n/**\n * Step history for back navigation\n */\nexport const STEP_HISTORY: Record<WidgetStep, WidgetStep | null> = {\n  amount: null,\n  confirmation: \"amount\",\n  \"transaction-status\": null,\n  \"transaction-complete\": null,\n  \"transaction-failed\": null,\n  \"asset-selection\": \"amount\",\n} as const;\n\n/**\n * Creates fresh initial state\n */\nexport const createInitialState = (): DepositState => ({\n  step: \"amount\",\n  inputs: {\n    amount: undefined,\n    selectedToken: \"USDC\",\n  },\n  status: \"idle\",\n  explorerUrls: {\n    sourceExplorerUrl: null,\n    destinationExplorerUrl: null,\n  },\n  sourceSwaps: [],\n  nexusIntentUrl: null,\n  depositTxHash: null,\n  actualGasFeeUsd: null,\n  error: null,\n  lastResult: null,\n  navigationDirection: null,\n  simulation: null,\n  simulationLoading: false,\n  receiveAmount: null,\n  skipSwap: false,\n  intentReady: false,\n  swapSkippedData: null,\n});\n\n/**\n * State reducer for deposit widget\n */\nfunction depositReducer(state: DepositState, action: DepositAction): DepositState {\n  switch (action.type) {\n    case \"setStep\":\n      return {\n        ...state,\n        step: action.payload.step,\n        navigationDirection: action.payload.direction,\n      };\n    case \"setInputs\": {\n      const newInputs = { ...state.inputs, ...action.payload };\n      let newStatus = state.status;\n      if (\n        state.status === \"idle\" &&\n        newInputs.amount &&\n        Number.parseFloat(newInputs.amount) > 0\n      ) {\n        newStatus = \"previewing\";\n      }\n      if (\n        state.status === \"previewing\" &&\n        (!newInputs.amount || Number.parseFloat(newInputs.amount) <= 0)\n      ) {\n        newStatus = \"idle\";\n      }\n      // Clear error when user changes inputs\n      return { ...state, inputs: newInputs, status: newStatus, error: null };\n    }\n    case \"setStatus\":\n      return { ...state, status: action.payload };\n    case \"setExplorerUrls\":\n      return {\n        ...state,\n        explorerUrls: { ...state.explorerUrls, ...action.payload },\n      };\n    case \"setError\":\n      return { ...state, error: action.payload };\n    case \"setLastResult\":\n      return { ...state, lastResult: action.payload };\n    case \"setSimulation\":\n      return {\n        ...state,\n        simulation: action.payload,\n      };\n    case \"setSimulationLoading\":\n      return { ...state, simulationLoading: action.payload };\n    case \"setReceiveAmount\":\n      return { ...state, receiveAmount: action.payload };\n    case \"setSkipSwap\":\n      return { ...state, skipSwap: action.payload };\n    case \"setIntentReady\":\n      return { ...state, intentReady: action.payload };\n    case \"setSwapSkippedData\":\n      return { ...state, swapSkippedData: action.payload };\n    case \"addSourceSwap\":\n      return { ...state, sourceSwaps: [...state.sourceSwaps, action.payload] };\n    case \"setNexusIntentUrl\":\n      return { ...state, nexusIntentUrl: action.payload };\n    case \"setDepositTxHash\":\n      return { ...state, depositTxHash: action.payload };\n    case \"setActualGasFeeUsd\":\n      return { ...state, actualGasFeeUsd: action.payload };\n    case \"reset\":\n      return createInitialState();\n    default:\n      return state;\n  }\n}\n\n/**\n * Hook for managing deposit widget state via reducer\n */\nexport function useDepositState() {\n  const [state, dispatch] = useReducer(\n    depositReducer,\n    undefined,\n    createInitialState\n  );\n\n  return { state, dispatch };\n}\n",
      "type": "registry:component",
      "target": "components/deposit/hooks/use-deposit-state.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/hooks/use-deposit-widget.ts",
      "content": "\"use client\";\n\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport type {\n  WidgetStep,\n  DepositWidgetContextValue,\n  DepositInputs,\n  DestinationConfig,\n} from \"../types\";\nimport {\n  NEXUS_EVENTS,\n  CHAIN_METADATA,\n  type SwapStepType,\n  type ExecuteParams,\n  type SwapAndExecuteParams,\n  type SwapAndExecuteResult,\n  parseUnits,\n} from \"@avail-project/nexus-core\";\nimport {\n  SWAP_EXPECTED_STEPS,\n  useNexusError,\n  usePolling,\n  useStopwatch,\n  useTransactionSteps,\n} from \"../../common\";\nimport { type Address, type Hex, formatEther } from \"viem\";\nimport { useAccount } from \"wagmi\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\nimport { SIMULATION_POLL_INTERVAL_MS } from \"../constants/widget\";\n\n// Import extracted hooks\nimport {\n  useDepositState,\n  STEP_HISTORY,\n  type SwapSkippedData,\n} from \"./use-deposit-state\";\nimport { useAssetSelection } from \"./use-asset-selection\";\nimport { useDepositComputed } from \"./use-deposit-computed\";\n\ninterface UseDepositProps {\n  executeDeposit: (\n    tokenSymbol: string,\n    tokenAddress: `0x${string}`,\n    amount: bigint,\n    chainId: number,\n    user: Address,\n  ) => Omit<ExecuteParams, \"toChainId\">;\n  destination: DestinationConfig;\n  onSuccess?: () => void;\n  onError?: (error: string) => void;\n}\n\n/**\n * Main deposit widget hook that orchestrates state, SDK integration,\n * and computed values via smaller focused hooks.\n */\nexport function useDepositWidget(\n  props: UseDepositProps,\n): DepositWidgetContextValue {\n  const { executeDeposit, destination, onSuccess, onError } = props;\n\n  // External dependencies\n  const {\n    nexusSDK,\n    swapIntent,\n    swapBalance,\n    fetchSwapBalance,\n    getFiatValue,\n    exchangeRate,\n  } = useNexus();\n  const { address } = useAccount();\n  const handleNexusError = useNexusError();\n\n  // Core state management\n  const { state, dispatch } = useDepositState();\n  const [pollingEnabled, setPollingEnabled] = useState(false);\n\n  // Asset selection state\n  const { assetSelection, setAssetSelection, resetAssetSelection } =\n    useAssetSelection(swapBalance);\n\n  // Refs for tracking\n  const hasAutoSelected = useRef(false);\n  const initialSimulationDone = useRef(false);\n  const determiningSwapComplete = useRef(false);\n  const lastSimulationTime = useRef(0);\n\n  // Transaction steps tracking\n  const {\n    seed,\n    onStepComplete,\n    reset: resetSteps,\n    steps,\n  } = useTransactionSteps<SwapStepType>();\n\n  // Stopwatch for timing\n  const stopwatch = useStopwatch({\n    running:\n      state.status === \"executing\" ||\n      (state.status === \"previewing\" && determiningSwapComplete.current),\n    intervalMs: 100,\n  });\n\n  // Derived state\n  const isProcessing = state.status === \"executing\";\n  const isSuccess = state.status === \"success\";\n  const isError = state.status === \"error\";\n  const activeIntent = state.simulation?.swapIntent ?? swapIntent.current;\n\n  // Computed values\n  const {\n    availableAssets,\n    totalSelectedBalance,\n    totalBalance,\n    confirmationDetails,\n    feeBreakdown,\n  } = useDepositComputed({\n    swapBalance,\n    assetSelection,\n    activeIntent,\n    destination,\n    inputAmount: state.inputs.amount,\n    exchangeRate,\n    getFiatValue,\n    actualGasFeeUsd: state.actualGasFeeUsd,\n    swapSkippedData: state.swapSkippedData,\n    skipSwap: state.skipSwap,\n    nexusSDK,\n  });\n\n  // Action callbacks\n  const setInputs = useCallback(\n    (next: Partial<DepositInputs>) => {\n      dispatch({ type: \"setInputs\", payload: next });\n    },\n    [dispatch],\n  );\n\n  const setTxError = useCallback(\n    (error: string | null) => {\n      dispatch({ type: \"setError\", payload: error });\n    },\n    [dispatch],\n  );\n\n  /**\n   * Start the swap and execute flow with the SDK\n   */\n  const start = useCallback(\n    (inputs: SwapAndExecuteParams) => {\n      if (!nexusSDK || !inputs || isProcessing) return;\n\n      seed(SWAP_EXPECTED_STEPS);\n\n      // Build source list from selected assets\n      const fromSources: Array<{ tokenAddress: Hex; chainId: number }> = [];\n      assetSelection.selectedChainIds.forEach((key) => {\n        const lastDashIndex = key.lastIndexOf(\"-\");\n        const tokenAddress = key.substring(0, lastDashIndex) as Hex;\n        const chainId = parseInt(key.substring(lastDashIndex + 1), 10);\n        fromSources.push({ tokenAddress, chainId });\n      });\n\n      const inputsWithSources = {\n        ...inputs,\n        fromSources: fromSources.length > 0 ? fromSources : undefined,\n      };\n\n      nexusSDK\n        .swapAndExecute(inputsWithSources, {\n          onEvent: (event) => {\n            if (event.name === NEXUS_EVENTS.SWAP_STEP_COMPLETE) {\n              const step = event.args as SwapStepType & {\n                completed?: boolean;\n                data?: SwapSkippedData;\n              };\n\n              // Handle SWAP_SKIPPED - go directly to transaction-status\n              if (step?.type === \"SWAP_SKIPPED\") {\n                dispatch({ type: \"setSkipSwap\", payload: true });\n                dispatch({\n                  type: \"setSwapSkippedData\",\n                  payload: step.data ?? null,\n                });\n                dispatch({ type: \"setStatus\", payload: \"executing\" });\n                dispatch({\n                  type: \"setStep\",\n                  payload: { step: \"transaction-status\", direction: \"forward\" },\n                });\n                stopwatch.start();\n              }\n\n              if (step?.type === \"DETERMINING_SWAP\" && step?.completed) {\n                determiningSwapComplete.current = true;\n                stopwatch.start();\n                dispatch({ type: \"setIntentReady\", payload: true });\n              }\n              onStepComplete(step);\n            }\n          },\n        })\n        .then((data: SwapAndExecuteResult) => {\n          // Extract source swaps from the result\n          const sourceSwapsFromResult = data.swapResult?.sourceSwaps ?? [];\n          sourceSwapsFromResult.forEach((sourceSwap) => {\n            const chainMeta =\n              CHAIN_METADATA[sourceSwap.chainId as keyof typeof CHAIN_METADATA];\n            const baseUrl = chainMeta?.blockExplorerUrls?.[0] ?? \"\";\n            const explorerUrl = baseUrl\n              ? `${baseUrl}/tx/${sourceSwap.txHash}`\n              : \"\";\n            dispatch({\n              type: \"addSourceSwap\",\n              payload: {\n                chainId: sourceSwap.chainId,\n                chainName: chainMeta?.name ?? `Chain ${sourceSwap.chainId}`,\n                explorerUrl,\n              },\n            });\n          });\n\n          // Set explorer URLs from the result\n          if (sourceSwapsFromResult.length > 0) {\n            const firstSourceSwap = sourceSwapsFromResult[0];\n            const chainMeta =\n              CHAIN_METADATA[\n                firstSourceSwap.chainId as keyof typeof CHAIN_METADATA\n              ];\n            const baseUrl = chainMeta?.blockExplorerUrls?.[0] ?? \"\";\n            const sourceExplorerUrl = baseUrl\n              ? `${baseUrl}/tx/${firstSourceSwap.txHash}`\n              : \"\";\n            dispatch({\n              type: \"setExplorerUrls\",\n              payload: { sourceExplorerUrl },\n            });\n          }\n\n          // Destination explorer URL\n          const destChainMeta =\n            CHAIN_METADATA[destination.chainId as keyof typeof CHAIN_METADATA];\n          const destBaseUrl = destChainMeta?.blockExplorerUrls?.[0] ?? \"\";\n          const destinationExplorerUrl =\n            data.swapResult?.explorerURL ??\n            (data.executeResponse?.txHash && destBaseUrl\n              ? `${destBaseUrl}/tx/${data.executeResponse.txHash}`\n              : null);\n\n          if (destinationExplorerUrl) {\n            dispatch({\n              type: \"setExplorerUrls\",\n              payload: { destinationExplorerUrl },\n            });\n          }\n\n          // Store Nexus intent URL and deposit tx hash\n          dispatch({\n            type: \"setNexusIntentUrl\",\n            payload: data.swapResult?.explorerURL ?? null,\n          });\n          dispatch({\n            type: \"setDepositTxHash\",\n            payload: data.executeResponse?.txHash ?? null,\n          });\n\n          // Calculate actual gas fee from receipt\n          const receipt = data.executeResponse?.receipt;\n          if (receipt?.gasUsed && receipt?.effectiveGasPrice) {\n            const gasUsed = BigInt(receipt.gasUsed);\n            const effectiveGasPrice = BigInt(receipt.effectiveGasPrice);\n            const gasCostWei = gasUsed * effectiveGasPrice;\n            const gasCostNative = parseFloat(formatEther(gasCostWei));\n            const gasTokenSymbol = destination.gasTokenSymbol ?? \"ETH\";\n            const gasCostUsd = getFiatValue(gasCostNative, gasTokenSymbol);\n            dispatch({\n              type: \"setActualGasFeeUsd\",\n              payload: gasCostUsd,\n            });\n          }\n\n          dispatch({\n            type: \"setReceiveAmount\",\n            payload: swapIntent.current?.intent?.destination?.amount ?? \"\",\n          });\n          onSuccess?.();\n          dispatch({ type: \"setStatus\", payload: \"success\" });\n          dispatch({\n            type: \"setStep\",\n            payload: { step: \"transaction-complete\", direction: \"forward\" },\n          });\n        })\n        .catch((error) => {\n          const { message } = handleNexusError(error);\n          dispatch({ type: \"setError\", payload: message });\n          dispatch({ type: \"setStatus\", payload: \"error\" });\n\n          if (initialSimulationDone.current) {\n            dispatch({\n              type: \"setStep\",\n              payload: { step: \"transaction-failed\", direction: \"forward\" },\n            });\n          } else {\n            dispatch({\n              type: \"setStep\",\n              payload: { step: \"amount\", direction: \"backward\" },\n            });\n          }\n          onError?.(message);\n        })\n        .finally(async () => {\n          await fetchSwapBalance();\n        });\n    },\n    [\n      nexusSDK,\n      isProcessing,\n      seed,\n      onStepComplete,\n      swapIntent,\n      onSuccess,\n      onError,\n      handleNexusError,\n      assetSelection.selectedChainIds,\n      destination,\n      getFiatValue,\n      dispatch,\n      stopwatch,\n    ],\n  );\n\n  /**\n   * Handle amount input continue - starts simulation\n   */\n  const handleAmountContinue = useCallback(\n    (totalAmountUsd: number) => {\n      if (!nexusSDK || !address || !exchangeRate) return;\n\n      // Reset state and refs for a fresh simulation\n      dispatch({ type: \"setIntentReady\", payload: false });\n      initialSimulationDone.current = false;\n      determiningSwapComplete.current = false;\n      swapIntent.current = null;\n\n      const tokenAmount =\n        totalAmountUsd / (exchangeRate[destination.tokenSymbol] ?? 1);\n      const tokenAmountStr = tokenAmount.toFixed(destination.tokenDecimals);\n      const parsed = parseUnits(tokenAmountStr, destination.tokenDecimals);\n\n      const executeParams = executeDeposit(\n        destination.tokenSymbol,\n        destination.tokenAddress,\n        parsed,\n        destination.chainId,\n        address,\n      );\n\n      const newInputs: SwapAndExecuteParams = {\n        toChainId: destination.chainId,\n        toTokenAddress: destination.tokenAddress,\n        toAmount: parsed,\n        execute: {\n          to: executeParams.to,\n          value: executeParams.value,\n          data: executeParams.data,\n          tokenApproval: executeParams.tokenApproval as {\n            token: `0x${string}`;\n            amount: bigint;\n            spender: Hex;\n          },\n          gas: BigInt(200_000),\n        },\n      };\n\n      dispatch({\n        type: \"setInputs\",\n        payload: { amount: totalAmountUsd.toString() },\n      });\n      dispatch({ type: \"setStatus\", payload: \"simulation-loading\" });\n      dispatch({ type: \"setSimulationLoading\", payload: true });\n      start(newInputs);\n    },\n    [\n      nexusSDK,\n      address,\n      exchangeRate,\n      destination,\n      executeDeposit,\n      start,\n      swapIntent,\n      dispatch,\n    ],\n  );\n\n  /**\n   * Handle order confirmation - allow intent to execute\n   */\n  const handleConfirmOrder = useCallback(() => {\n    if (!activeIntent) return;\n    dispatch({ type: \"setStatus\", payload: \"executing\" });\n    dispatch({\n      type: \"setStep\",\n      payload: { step: \"transaction-status\", direction: \"forward\" },\n    });\n    activeIntent.allow();\n  }, [activeIntent, dispatch]);\n\n  /**\n   * Navigate to a specific step\n   */\n  const goToStep = useCallback(\n    (newStep: WidgetStep) => {\n      dispatch({\n        type: \"setStep\",\n        payload: { step: newStep, direction: \"forward\" },\n      });\n      if (state.step === \"amount\" && newStep === \"confirmation\") {\n        const amount = state.inputs.amount;\n        if (amount) {\n          const totalAmountUsd = parseFloat(amount.replace(/,/g, \"\"));\n          if (totalAmountUsd > 0) {\n            handleAmountContinue(totalAmountUsd);\n            return;\n          }\n        }\n      }\n    },\n    [state.step, state.inputs.amount, handleAmountContinue, dispatch],\n  );\n\n  /**\n   * Navigate back to previous step\n   */\n  const goBack = useCallback(async () => {\n    const previousStep = STEP_HISTORY[state.step];\n    if (previousStep) {\n      dispatch({ type: \"setError\", payload: null });\n      dispatch({\n        type: \"setStep\",\n        payload: { step: previousStep, direction: \"backward\" },\n      });\n      swapIntent.current = null;\n      initialSimulationDone.current = false;\n      lastSimulationTime.current = 0;\n      setPollingEnabled(false);\n      stopwatch.stop();\n      stopwatch.reset();\n      await fetchSwapBalance();\n    }\n  }, [state.step, swapIntent, stopwatch, dispatch]);\n\n  /**\n   * Reset widget to initial state\n   */\n  const reset = useCallback(async () => {\n    dispatch({ type: \"reset\" });\n    resetAssetSelection();\n    resetSteps();\n    swapIntent.current = null;\n    initialSimulationDone.current = false;\n    lastSimulationTime.current = 0;\n    setPollingEnabled(false);\n    stopwatch.stop();\n    stopwatch.reset();\n    await fetchSwapBalance();\n  }, [resetSteps, swapIntent, stopwatch, dispatch, resetAssetSelection]);\n\n  /**\n   * Refresh simulation data\n   */\n  const refreshSimulation = useCallback(async () => {\n    const timeSinceLastSimulation = Date.now() - lastSimulationTime.current;\n    if (timeSinceLastSimulation < 5000) {\n      return;\n    }\n\n    try {\n      dispatch({ type: \"setSimulationLoading\", payload: true });\n      const updated = await swapIntent.current?.refresh();\n      if (updated) {\n        swapIntent.current!.intent = updated;\n        dispatch({\n          type: \"setSimulation\",\n          payload: {\n            swapIntent: swapIntent.current!,\n          },\n        });\n      }\n    } catch (e) {\n      console.error(e);\n    } finally {\n      dispatch({ type: \"setSimulationLoading\", payload: false });\n      stopwatch.reset();\n      lastSimulationTime.current = Date.now();\n    }\n  }, [stopwatch, swapIntent, dispatch]);\n\n  const startTransaction = useCallback(() => {\n    if (isProcessing) return;\n    dispatch({ type: \"setError\", payload: null });\n  }, [isProcessing, dispatch]);\n\n  // Effect: Handle swap intent when it arrives\n  useEffect(() => {\n    if (!state.intentReady || initialSimulationDone.current) {\n      return;\n    }\n\n    if (!swapIntent.current) {\n      return;\n    }\n\n    initialSimulationDone.current = true;\n    dispatch({\n      type: \"setSimulation\",\n      payload: { swapIntent: swapIntent.current! },\n    });\n    dispatch({ type: \"setSimulationLoading\", payload: false });\n    dispatch({ type: \"setStatus\", payload: \"previewing\" });\n    lastSimulationTime.current = Date.now();\n    setPollingEnabled(true);\n  }, [state.intentReady, swapIntent, dispatch]);\n\n  // Effect: Fetch swap balance on mount\n  useEffect(() => {\n    if (!nexusSDK) return;\n\n    if (!swapBalance) {\n      void fetchSwapBalance();\n      return;\n    }\n\n    if (!hasAutoSelected.current && availableAssets.length > 0) {\n      hasAutoSelected.current = true;\n    }\n  }, [nexusSDK, swapBalance, availableAssets, fetchSwapBalance]);\n\n  // Polling for simulation refresh\n  usePolling(\n    pollingEnabled &&\n      state.status === \"previewing\" &&\n      Boolean(swapIntent.current) &&\n      !state.simulationLoading,\n    async () => {\n      await refreshSimulation();\n    },\n    SIMULATION_POLL_INTERVAL_MS,\n  );\n\n  // Return the full context value\n  return {\n    step: state.step,\n    inputs: state.inputs,\n    setInputs,\n    status: state.status,\n    explorerUrls: state.explorerUrls,\n    sourceSwaps: state.sourceSwaps,\n    nexusIntentUrl: state.nexusIntentUrl,\n    depositTxHash: state.depositTxHash,\n    destination,\n    isProcessing,\n    isSuccess,\n    isError,\n    txError: state.error,\n    setTxError,\n    goToStep,\n    goBack,\n    reset,\n    navigationDirection: state.navigationDirection,\n    startTransaction,\n    lastResult: state.lastResult,\n    assetSelection,\n    setAssetSelection,\n    swapBalance,\n    activeIntent,\n    confirmationDetails,\n    feeBreakdown,\n    steps,\n    timer: stopwatch.seconds,\n    handleConfirmOrder,\n    handleAmountContinue,\n    totalSelectedBalance,\n    skipSwap: state.skipSwap,\n    simulationLoading: state.simulationLoading,\n    totalBalance,\n  };\n}\n",
      "type": "registry:component",
      "target": "components/deposit/hooks/use-deposit-widget.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/nexus-deposit.tsx",
      "content": "\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { cn } from \"./utils\";\nimport { useDepositWidget } from \"./hooks/use-deposit-widget\";\nimport {\n  AmountContainer,\n  ConfirmationContainer,\n  TransactionStatusContainer,\n  TransactionCompleteContainer,\n  TransactionFailedContainer,\n  AssetSelectionContainer,\n} from \"./components\";\nimport type {\n  WidgetStep,\n  DepositWidgetProps,\n  NavigationDirection,\n} from \"./types\";\nimport { Card } from \"../ui/card\";\nimport { Dialog, DialogContent, DialogTrigger } from \"../ui/dialog\";\nimport { Button } from \"../ui/button\";\nimport { WidgetErrorBoundary } from \"../common\";\n\nconst ANIMATION_CLASSES: Record<NonNullable<NavigationDirection>, string> = {\n  forward: \"animate-slide-in-from-right\",\n  backward: \"animate-slide-in-from-left\",\n};\n\nconst getAnimationClass = (direction: NavigationDirection): string =>\n  direction ? ANIMATION_CLASSES[direction] : \"\";\n\ntype ScreenRenderer = (\n  widget: ReturnType<typeof useDepositWidget>,\n  heading?: string,\n  onClose?: () => void,\n) => React.ReactNode;\n\nconst SCREENS: Record<WidgetStep, ScreenRenderer> = {\n  amount: (widget, heading, onClose) => (\n    <AmountContainer widget={widget} heading={heading} onClose={onClose} />\n  ),\n  confirmation: (widget, heading, onClose) => (\n    <ConfirmationContainer\n      widget={widget}\n      heading={heading}\n      onClose={onClose}\n    />\n  ),\n  \"transaction-status\": (widget, heading, onClose) => (\n    <TransactionStatusContainer\n      widget={widget}\n      heading={heading}\n      onClose={onClose}\n    />\n  ),\n  \"transaction-complete\": (widget, heading, onClose) => (\n    <TransactionCompleteContainer\n      widget={widget}\n      heading={heading}\n      onClose={onClose}\n    />\n  ),\n  \"transaction-failed\": (widget, heading, onClose) => (\n    <TransactionFailedContainer\n      widget={widget}\n      heading={heading}\n      onClose={onClose}\n    />\n  ),\n  \"asset-selection\": (widget, heading, onClose) => (\n    <AssetSelectionContainer\n      widget={widget}\n      heading={\"Pay using\"}\n      onClose={onClose}\n    />\n  ),\n};\n\nconst NexusDeposit = ({\n  heading = \"Deposit USDC\",\n  embed = false,\n  className,\n  onClose,\n  onSuccess,\n  onError,\n  executeDeposit,\n  destination,\n  open: controlledOpen,\n  onOpenChange,\n  defaultOpen = false,\n}: DepositWidgetProps) => {\n  const widget = useDepositWidget({\n    executeDeposit,\n    destination,\n    onSuccess,\n    onError,\n  });\n  const [internalOpen, setInternalOpen] = useState(defaultOpen);\n\n  // Use controlled or uncontrolled open state\n  const isControlled = controlledOpen !== undefined;\n  const isOpen = isControlled ? controlledOpen : internalOpen;\n\n  const handleOpenChange = useCallback(\n    (open: boolean) => {\n      if (!isControlled) {\n        setInternalOpen(open);\n      }\n      onOpenChange?.(open);\n      if (!open) {\n        onClose?.();\n        widget.reset();\n      }\n    },\n    [isControlled, onOpenChange, onClose],\n  );\n\n  const handleClose = useCallback(() => {\n    handleOpenChange(false);\n  }, [handleOpenChange]);\n\n  const animationClass = getAnimationClass(widget.navigationDirection);\n\n  // Embed mode: render as inline Card\n  if (embed) {\n    return (\n      <Card\n        className={cn(\n          \"relative w-full max-w-md overflow-hidden transition-[height] duration-200 ease-out\",\n          className,\n        )}\n      >\n        <WidgetErrorBoundary widgetName=\"Deposit\" onReset={widget.reset}>\n          <div key={widget.step} className={animationClass}>\n            {SCREENS[widget.step](widget, heading)}\n          </div>\n        </WidgetErrorBoundary>\n      </Card>\n    );\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleOpenChange}>\n      <DialogTrigger>\n        <Button variant=\"outline\" size=\"sm\">\n          Deposit\n        </Button>\n      </DialogTrigger>\n      <DialogContent\n        className={cn(\"px-0 max-w-md!\", className)}\n        showCloseButton={false}\n      >\n        <WidgetErrorBoundary widgetName=\"Deposit\" onReset={widget.reset}>\n          <div\n            key={widget.step}\n            className={cn(\"flex flex-col gap-4\", animationClass)}\n          >\n            {SCREENS[widget.step](widget, heading, handleClose)}\n          </div>\n        </WidgetErrorBoundary>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default NexusDeposit;\n\n// Re-export types and hooks for consumers\nexport type {\n  WidgetStep,\n  DepositWidgetContextValue,\n  DepositWidgetProps,\n  BaseDepositWidgetProps,\n  DestinationConfig,\n  ExecuteDepositParams,\n  ExecuteDepositResult,\n  UseDepositWidgetProps,\n  TransactionStatus,\n  AssetFilterType,\n  DepositInputs,\n  AssetSelectionState,\n} from \"./types\";\nexport { useDepositWidget } from \"./hooks/use-deposit-widget\";\n",
      "type": "registry:component",
      "target": "components/deposit/nexus-deposit.tsx"
    },
    {
      "path": "registry/nexus-elements/deposit/types.ts",
      "content": "import type {\n  SUPPORTED_CHAINS_IDS,\n  ExecuteParams,\n  OnSwapIntentHookData,\n  SwapStepType,\n  UserAsset,\n} from \"@avail-project/nexus-core\";\nimport type { Address } from \"viem\";\n\nexport type WidgetStep =\n  | \"amount\"\n  | \"confirmation\"\n  | \"transaction-status\"\n  | \"transaction-complete\"\n  | \"transaction-failed\"\n  | \"asset-selection\";\n\nexport type TransactionStatus =\n  | \"idle\"\n  | \"previewing\"\n  | \"simulation-loading\"\n  | \"executing\"\n  | \"success\"\n  | \"error\";\n\nexport type NavigationDirection = \"forward\" | \"backward\" | null;\n\nexport type AssetFilterType = \"all\" | \"stablecoins\" | \"native\" | \"custom\";\n\nexport type TokenCategory = \"stablecoin\" | \"native\" | \"memecoin\";\n\nexport interface ChainItem {\n  id: string;\n  tokenAddress: `0x${string}`;\n  chainId: number;\n  name: string;\n  usdValue: number;\n  amount: number;\n}\n\nexport interface Token {\n  id: string;\n  symbol: string;\n  decimals: number;\n  chainsLabel: string;\n  usdValue: string;\n  amount: string;\n  logo: string;\n  category: TokenCategory;\n  chains: ChainItem[];\n}\n\nexport interface DepositInputs {\n  amount?: string;\n  selectedToken: string;\n  toChainId?: number;\n  toTokenAddress?: `0x${string}`;\n  toAmount?: bigint;\n}\n\nexport interface AssetSelectionState {\n  selectedChainIds: Set<string>;\n  filter: AssetFilterType;\n  expandedTokens: Set<string>;\n}\n\nexport interface DestinationConfig {\n  chainId: SUPPORTED_CHAINS_IDS;\n  depositTargetLogo?: string;\n  tokenAddress: `0x${string}`;\n  tokenSymbol: string;\n  tokenDecimals: number;\n  tokenLogo?: string;\n  label?: string;\n  estimatedTime?: string;\n  gasTokenSymbol?: string;\n  explorerUrl?: string;\n}\n\nexport interface ExecuteDepositParams {\n  tokenSymbol: string;\n  tokenAddress: string;\n  amount: bigint;\n  chainId: number;\n  user: Address;\n}\n\nexport type ExecuteDepositResult = Omit<ExecuteParams, \"toChainId\">;\n\nexport interface UseDepositWidgetProps {\n  executeDeposit: (\n    tokenSymbol: string,\n    tokenAddress: `0x${string}`,\n    amount: bigint,\n    chainId: number,\n    user: Address,\n  ) => Omit<ExecuteParams, \"toChainId\">;\n  destination: DestinationConfig;\n  onSuccess?: () => void;\n  onError?: (error: string) => void;\n}\n\nexport interface DepositWidgetContextValue {\n  // Core state\n  step: WidgetStep;\n  inputs: DepositInputs;\n  status: TransactionStatus;\n\n  // Input management\n  setInputs: (inputs: Partial<DepositInputs>) => void;\n\n  // Explorer URLs\n  explorerUrls: {\n    sourceExplorerUrl: string | null;\n    destinationExplorerUrl: string | null;\n  };\n\n  // Source swap transactions (from BRIDGE_DEPOSIT events)\n  sourceSwaps: Array<{\n    chainId: number;\n    chainName: string;\n    explorerUrl: string;\n  }>;\n\n  // Transaction result data\n  nexusIntentUrl: string | null;\n  depositTxHash: string | null;\n\n  // Destination config (for building explorer URLs)\n  destination: DestinationConfig;\n\n  // Derived state\n  isProcessing: boolean;\n  isSuccess: boolean;\n  isError: boolean;\n\n  // Error handling\n  txError: string | null;\n  setTxError: (error: string | null) => void;\n\n  // Navigation\n  goToStep: (step: WidgetStep) => void;\n  goBack: () => void;\n  reset: () => void;\n  navigationDirection: NavigationDirection;\n\n  // Transaction actions\n  startTransaction: () => void;\n\n  // Results\n  lastResult: unknown;\n\n  // Asset selection\n  assetSelection: AssetSelectionState;\n  setAssetSelection: (selection: Partial<AssetSelectionState>) => void;\n\n  // SDK integration\n  swapBalance: UserAsset[] | null;\n  activeIntent: OnSwapIntentHookData | null;\n  confirmationDetails: {\n    sourceLabel: string;\n    sources: Array<\n      | {\n          chainId: number;\n          tokenAddress: `0x${string}`;\n          decimals: number;\n          symbol: string;\n          balance: string;\n          balanceInFiat?: number;\n          tokenLogo?: string;\n          chainLogo?: string;\n          chainName?: string;\n          isDestinationBalance?: boolean;\n        }\n      | undefined\n    >;\n    gasTokenSymbol?: string;\n    estimatedTime?: string;\n    amountSpent: number;\n    totalFeeUsd: number;\n    receiveTokenSymbol: string;\n    receiveAmountAfterSwap: string;\n    receiveAmountAfterSwapUsd: number;\n    receiveTokenLogo?: string;\n    receiveTokenChain: number;\n    destinationChainName?: string;\n  } | null;\n  feeBreakdown: {\n    totalGasFee: number;\n    gasUsd: number;\n    gasFormatted: string;\n  };\n  steps: Array<{\n    id: number;\n    completed: boolean;\n    step: SwapStepType;\n  }>;\n  timer: number;\n  handleConfirmOrder: () => void;\n  handleAmountContinue: (totalAmountUsd: number) => void;\n  totalSelectedBalance: number;\n  skipSwap: boolean;\n  simulationLoading: boolean;\n  totalBalance:\n    | {\n        balance: number;\n        usdBalance: number;\n      }\n    | undefined;\n}\n\nexport interface BaseDepositWidgetProps {\n  onSuccess?: () => void;\n  onError?: (error: string) => void;\n}\n\nexport interface DepositWidgetProps\n  extends UseDepositWidgetProps,\n    BaseDepositWidgetProps {\n  heading?: string;\n  embed?: boolean;\n  className?: string;\n  onClose?: () => void;\n  /** Control the dialog open state (non-embed mode only) */\n  open?: boolean;\n  /** Callback when dialog open state changes (non-embed mode only) */\n  onOpenChange?: (open: boolean) => void;\n  /** Default open state for uncontrolled usage (non-embed mode only) */\n  defaultOpen?: boolean;\n}\n",
      "type": "registry:component",
      "target": "components/deposit/types.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/utils/asset-helpers.ts",
      "content": "import type { Token, AssetFilterType } from \"../types\";\nimport { STABLECOIN_SYMBOLS } from \"../constants/widget\";\nimport { CHAIN_METADATA } from \"@avail-project/nexus-core\";\n\nexport function isStablecoin(symbol: string): boolean {\n  return STABLECOIN_SYMBOLS.includes(\n    symbol as (typeof STABLECOIN_SYMBOLS)[number],\n  );\n}\n\nexport function isNative(symbol: string): boolean {\n  return Object.values(CHAIN_METADATA).some(\n    (chain) => chain.nativeCurrency.symbol === symbol,\n  );\n}\n\n/**\n * Get checkbox state for a token based on selected chains\n */\nexport function getTokenCheckState(\n  token: Token,\n  selectedChainIds: Set<string>,\n): boolean | \"indeterminate\" {\n  const selectedChainCount = token.chains.filter((c) =>\n    selectedChainIds.has(c.id),\n  ).length;\n\n  if (selectedChainCount === 0) return false;\n  if (selectedChainCount === token.chains.length) return true;\n  return \"indeterminate\";\n}\n\n/**\n * Check if current selection matches a preset filter\n * Returns the matching filter type or \"custom\"\n */\nexport function checkIfMatchesPreset(\n  tokens: Token[],\n  selectedChainIds: Set<string>,\n): AssetFilterType {\n  if (selectedChainIds.size === 0) return \"custom\";\n\n  const allIds = new Set<string>();\n  const stableIds = new Set<string>();\n  const nativeIds = new Set<string>();\n\n  tokens.forEach((token) => {\n    token.chains.forEach((chain) => {\n      allIds.add(chain.id);\n      if (isStablecoin(token.symbol)) {\n        stableIds.add(chain.id);\n      }\n      if (isNative(token.symbol)) {\n        nativeIds.add(chain.id);\n      }\n    });\n  });\n\n  const setsEqual = (a: Set<string>, b: Set<string>) =>\n    a.size === b.size && [...a].every((id) => b.has(id));\n\n  if (setsEqual(selectedChainIds, allIds)) return \"all\";\n  if (setsEqual(selectedChainIds, stableIds)) return \"stablecoins\";\n  if (setsEqual(selectedChainIds, nativeIds)) return \"native\";\n  return \"custom\";\n}\n\n/**\n * Get chain IDs for a preset filter\n */\nexport function getChainIdsForFilter(\n  tokens: Token[],\n  filter: \"all\" | \"stablecoins\" | \"native\",\n): Set<string> {\n  const ids = new Set<string>();\n  tokens.forEach((token) => {\n    const shouldInclude =\n      filter === \"all\" ||\n      (filter === \"stablecoins\" && isStablecoin(token.symbol)) ||\n      (filter === \"native\" && isNative(token.symbol));\n\n    if (shouldInclude) {\n      token.chains.forEach((chain) => ids.add(chain.id));\n    }\n  });\n  return ids;\n}\n\n/**\n * Calculate total USD value for selected chain IDs\n */\nexport function calculateSelectedAmount(\n  tokens: Token[],\n  selectedChainIds: Set<string>,\n): number {\n  let total = 0;\n  tokens.forEach((token) => {\n    token.chains.forEach((chain) => {\n      if (selectedChainIds.has(chain.id)) {\n        total += chain.usdValue;\n      }\n    });\n  });\n  return total;\n}\n",
      "type": "registry:component",
      "target": "components/deposit/utils/asset-helpers.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/utils/index.ts",
      "content": "export { getTokenCheckState, checkIfMatchesPreset, getChainIdsForFilter, calculateSelectedAmount, isStablecoin, isNative } from \"./asset-helpers\";\n",
      "type": "registry:component",
      "target": "components/deposit/utils/index.ts"
    },
    {
      "path": "registry/nexus-elements/deposit/utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Parse currency input by removing $ and commas, keeping only numbers and decimal\n */\nexport function parseCurrencyInput(input: string): string {\n  return input.replace(/[^0-9.]/g, \"\");\n}",
      "type": "registry:component",
      "target": "components/deposit/utils.ts"
    },
    {
      "path": "registry/nexus-elements/common/components/ErrorBoundary.tsx",
      "content": "\"use client\";\n\nimport { Component, type ErrorInfo, type ReactNode } from \"react\";\n\ninterface ErrorBoundaryProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\n/**\n * Error boundary component that catches JavaScript errors in child components.\n * Displays a fallback UI instead of crashing the entire widget.\n *\n * @example\n * <ErrorBoundary\n *   fallback={<div>Something went wrong</div>}\n *   onError={(error) => console.error(error)}\n * >\n *   <MyComponent />\n * </ErrorBoundary>\n */\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    console.error(\"ErrorBoundary caught an error:\", error, errorInfo);\n    this.props.onError?.(error, errorInfo);\n  }\n\n  render(): ReactNode {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"flex flex-col items-center justify-center p-6 text-center\">\n          <div className=\"text-destructive font-medium mb-2\">\n            Something went wrong\n          </div>\n          <p className=\"text-muted-foreground text-sm mb-4\">\n            An unexpected error occurred. Please try again.\n          </p>\n          <button\n            onClick={() => this.setState({ hasError: false, error: null })}\n            className=\"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90 transition-colors\"\n          >\n            Try again\n          </button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n/**\n * A more specific error boundary for widget containers with reset capability.\n */\ninterface WidgetErrorBoundaryProps extends ErrorBoundaryProps {\n  widgetName?: string;\n  onReset?: () => void;\n}\n\nexport class WidgetErrorBoundary extends Component<\n  WidgetErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  constructor(props: WidgetErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    console.error(\n      `WidgetErrorBoundary [${this.props.widgetName ?? \"Unknown\"}]:`,\n      error,\n      errorInfo\n    );\n    this.props.onError?.(error, errorInfo);\n  }\n\n  handleReset = (): void => {\n    this.props.onReset?.();\n    this.setState({ hasError: false, error: null });\n  };\n\n  render(): ReactNode {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"flex flex-col items-center justify-center p-6 text-center bg-destructive/5 rounded-lg border border-destructive/20\">\n          <div className=\"text-destructive font-medium mb-2\">\n            {this.props.widgetName\n              ? `${this.props.widgetName} encountered an error`\n              : \"Widget error\"}\n          </div>\n          <p className=\"text-muted-foreground text-sm mb-4\">\n            {this.state.error?.message || \"An unexpected error occurred.\"}\n          </p>\n          <button\n            onClick={this.handleReset}\n            className=\"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90 transition-colors\"\n          >\n            Reset widget\n          </button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n",
      "type": "registry:component",
      "target": "components/common/components/ErrorBoundary.tsx"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useDebouncedCallback.ts",
      "content": "import { useEffect, useMemo, useRef } from \"react\";\nimport { useStableCallback } from \"./useStableCallback\";\n\ntype AnyFn = (...args: any[]) => any;\n\nexport interface Debounced<T extends AnyFn> {\n  (...args: Parameters<T>): void;\n  cancel: () => void;\n  flush: () => void;\n}\n\n/**\n * Returns a debounced function that delays invoking `fn` until after `delay`\n * milliseconds have elapsed since the last call.\n */\nexport function useDebouncedCallback<T extends AnyFn>(\n  fn: T,\n  delay: number\n): Debounced<T> {\n  const latest = useStableCallback(fn);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n  const lastArgsRef = useRef<Parameters<T> | null>(null);\n\n  const cancel = () => {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  const flush = () => {\n    if (timerRef.current && lastArgsRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n       \n      latest(...lastArgsRef.current);\n      lastArgsRef.current = null;\n    }\n  };\n\n  // cancel when delay changes/unmounts\n  useEffect(() => cancel, [delay]);\n\n  return useMemo(() => {\n    const debounced = ((...args: Parameters<T>) => {\n      lastArgsRef.current = args;\n      cancel();\n      timerRef.current = setTimeout(() => {\n         \n        latest(...lastArgsRef.current!);\n        lastArgsRef.current = null;\n        timerRef.current = null;\n      }, delay);\n    }) as Debounced<T>;\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    return debounced;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [delay, latest]);\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useDebouncedCallback.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useDebouncedValue.ts",
      "content": "import { useEffect, useState } from \"react\";\nimport { useDebouncedCallback } from \"./useDebouncedCallback\";\n\n/**\n * Derives a debounced value from an input value and delay.\n */\nexport function useDebouncedValue<T>(value: T, delay: number): T {\n  const [debounced, setDebounced] = useState<T>(value);\n  const setter = useDebouncedCallback((v: T) => setDebounced(v), delay);\n\n  useEffect(() => {\n    setter(value);\n    return setter.cancel;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value, delay]);\n\n  return debounced;\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useDebouncedValue.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useInterval.ts",
      "content": "import { useEffect, useRef } from \"react\";\nimport { useStableCallback } from \"./useStableCallback\";\n\ninterface UseIntervalOptions {\n  enabled?: boolean;\n  immediate?: boolean;\n}\n\n/**\n * Declarative setInterval with pause/resume and latest-callback semantics.\n * Pass delay=null to pause.\n */\nexport function useInterval(\n  callback: () => void,\n  delay: number | null,\n  options: UseIntervalOptions = {}\n) {\n  const { enabled = true, immediate = false } = options;\n  const savedCallback = useStableCallback(callback);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    if (!enabled || delay == null) return;\n    if (immediate) {\n      savedCallback();\n    }\n    intervalRef.current = setInterval(savedCallback, delay);\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, [delay, enabled, immediate, savedCallback]);\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useInterval.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useLatest.ts",
      "content": "import { useRef, useLayoutEffect } from \"react\";\n\n/**\n * Returns a ref that always contains the latest value.\n * Useful for accessing current values in callbacks without causing re-renders.\n *\n * @example\n * const countRef = useLatest(count);\n * const handleClick = useCallback(() => {\n *   console.log(countRef.current); // Always the latest count\n * }, []); // No dependency needed!\n */\nexport function useLatest<T>(value: T): React.MutableRefObject<T> {\n  const ref = useRef<T>(value);\n\n  // Use useLayoutEffect to update synchronously before any effects run\n  useLayoutEffect(() => {\n    ref.current = value;\n  });\n\n  return ref;\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useLatest.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useNexusError.ts",
      "content": "import { NexusError } from \"@avail-project/nexus-core\";\n\nfunction handler(err: unknown) {\n  if (err instanceof NexusError) {\n    return {\n      code: err?.code,\n      message: err?.message,\n      context: err?.data?.context,\n      details: err?.data?.details,\n    };\n  } else {\n    console.error(\"Unexpected error:\", err);\n    return {\n      code: \"unexpected_error\",\n      message: \"Oops! Something went wrong. Please try again.\",\n      context: undefined,\n      details: undefined,\n    };\n  }\n}\nexport function useNexusError() {\n  return handler;\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useNexusError.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/usePolling.ts",
      "content": "import { useRef } from \"react\";\nimport { useInterval } from \"./useInterval\";\nimport { useStableCallback } from \"./useStableCallback\";\n\n/**\n * Declarative polling with in-flight protection (no overlap).\n * When enabled becomes true, an immediate run is executed,\n * followed by interval-based runs.\n */\nexport function usePolling(\n  enabled: boolean,\n  fn: () => Promise<void> | void,\n  intervalMs: number\n) {\n  const inFlightRef = useRef(false);\n  const wrapped = useStableCallback(async () => {\n    if (inFlightRef.current) return;\n    try {\n      inFlightRef.current = true;\n      await fn();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      inFlightRef.current = false;\n    }\n  });\n\n  useInterval(wrapped, enabled ? intervalMs : null, {\n    enabled,\n    immediate: enabled,\n  });\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/usePolling.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useStableCallback.ts",
      "content": "import { useCallback, useRef } from \"react\";\n\n/**\n * Returns a stable function identity that always calls the latest implementation.\n * Useful when passing callbacks to memoized children without re-creating handlers.\n */\nexport function useStableCallback<Args extends readonly unknown[], Return>(\n  fn: (...args: Args) => Return\n): (...args: Args) => Return {\n  const fnRef = useRef<(...args: Args) => Return>(fn);\n  fnRef.current = fn;\n\n   \n  const stable = useCallback(\n    ((...args: Args) => {\n      return fnRef.current(...args);\n    }) as (...args: Args) => Return,\n    []\n  );\n\n  return stable;\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useStableCallback.ts"
    },
    {
      "path": "registry/nexus-elements/common/hooks/useStopwatch.ts",
      "content": "import { useEffect, useRef, useState } from \"react\";\n\ninterface UseStopwatchOptions {\n  running?: boolean;\n  intervalMs?: number;\n}\n\n/**\n * Simple stopwatch that increments elapsed seconds while running.\n * Designed to replace scattered timer effects.\n */\nexport function useStopwatch(options: UseStopwatchOptions = {}) {\n  const { running = false, intervalMs = 100 } = options;\n  const [elapsedSeconds, setElapsedSeconds] = useState(0);\n  const timerRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const reset = () => {\n    setElapsedSeconds(0);\n  };\n\n  const stop = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  const start = () => {\n    if (timerRef.current) return;\n    timerRef.current = setInterval(() => {\n      // 1s == 1000ms; we add fractional seconds per tick\n      setElapsedSeconds((prev) => prev + intervalMs / 1000);\n    }, intervalMs);\n  };\n\n  useEffect(() => {\n    if (running) {\n      start();\n    } else {\n      stop();\n    }\n    return stop;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [running, intervalMs]);\n\n  return {\n    seconds: elapsedSeconds,\n    start,\n    stop,\n    reset,\n    running: Boolean(timerRef.current),\n  };\n}\n",
      "type": "registry:component",
      "target": "components/common/hooks/useStopwatch.ts"
    },
    {
      "path": "registry/nexus-elements/common/index.ts",
      "content": "export * from \"./hooks/useStopwatch\";\nexport * from \"./hooks/usePolling\";\nexport * from \"./hooks/useInterval\";\nexport * from \"./hooks/useStableCallback\";\nexport * from \"./hooks/useLatest\";\nexport * from \"./hooks/useDebouncedValue\";\nexport * from \"./hooks/useDebouncedCallback\";\nexport * from \"./hooks/useNexusError\";\nexport * from \"./tx/types\";\nexport * from \"./tx/steps\";\nexport * from \"./tx/useTransactionSteps\";\nexport * from \"./utils/constant\";\nexport * from \"./components/ErrorBoundary\";\n",
      "type": "registry:component",
      "target": "components/common/index.ts"
    },
    {
      "path": "registry/nexus-elements/common/tx/steps.ts",
      "content": "import type { SwapStepType } from \"@avail-project/nexus-core\";\nimport type { GenericStep } from \"./types\";\nimport { getStepKey } from \"./types\";\n\n/**\n * Predefined expected steps for swaps to seed UI before events arrive.\n * Kept here to avoid duplication across exact-in and exact-out hooks.\n */\nexport const SWAP_EXPECTED_STEPS: SwapStepType[] = [\n  { type: \"SWAP_START\", typeID: \"SWAP_START\" } as SwapStepType,\n  { type: \"DETERMINING_SWAP\", typeID: \"DETERMINING_SWAP\" } as SwapStepType,\n  {\n    type: \"CREATE_PERMIT_FOR_SOURCE_SWAP\",\n    typeID:\n      \"CREATE_PERMIT_FOR_SOURCE_SWAP\" as unknown as SwapStepType[\"typeID\"],\n  } as SwapStepType,\n  {\n    type: \"SOURCE_SWAP_BATCH_TX\",\n    typeID: \"SOURCE_SWAP_BATCH_TX\",\n  } as SwapStepType,\n  {\n    type: \"SOURCE_SWAP_HASH\",\n    typeID: \"SOURCE_SWAP_HASH\" as unknown as SwapStepType[\"typeID\"],\n  } as SwapStepType,\n  { type: \"RFF_ID\", typeID: \"RFF_ID\" } as SwapStepType,\n  {\n    type: \"DESTINATION_SWAP_BATCH_TX\",\n    typeID: \"DESTINATION_SWAP_BATCH_TX\",\n  } as SwapStepType,\n  {\n    type: \"DESTINATION_SWAP_HASH\",\n    typeID: \"DESTINATION_SWAP_HASH\" as unknown as SwapStepType[\"typeID\"],\n  } as SwapStepType,\n  { type: \"SWAP_COMPLETE\", typeID: \"SWAP_COMPLETE\" } as SwapStepType,\n];\n\nexport function seedSteps<T>(expected: T[]): Array<GenericStep<T>> {\n  return expected.map((st, index) => ({\n    id: index,\n    completed: false,\n    step: st,\n  }));\n}\n\nexport function computeAllCompleted<T>(steps: Array<GenericStep<T>>): boolean {\n  return steps.length > 0 && steps.every((s) => s.completed);\n}\n\n/**\n * Replace the current list of steps with a new list, preserving completion\n * for any steps that were already marked completed (matched by key).\n */\nexport function mergeStepsList<T>(\n  prev: Array<GenericStep<T>>,\n  list: T[]\n): Array<GenericStep<T>> {\n  const completedKeys = new Set<string>();\n  for (const prevStep of prev) {\n    if (prevStep.completed) {\n      completedKeys.add(getStepKey(prevStep.step));\n    }\n  }\n  const next: Array<GenericStep<T>> = [];\n  for (let index = 0; index < list.length; index++) {\n    const step = list[index];\n    const key = getStepKey(step);\n    next.push({\n      id: index,\n      completed: completedKeys.has(key),\n      step,\n    });\n  }\n  return next;\n}\n\n/**\n * Mark a step complete in-place; if the step doesn't yet exist, append it.\n */\nexport function mergeStepComplete<T>(\n  prev: Array<GenericStep<T>>,\n  step: T\n): Array<GenericStep<T>> {\n  const key = getStepKey(step);\n  const updated: Array<GenericStep<T>> = [];\n  let found = false;\n  for (const s of prev) {\n    if (getStepKey(s.step) === key) {\n      updated.push({ ...s, completed: true, step: { ...s.step, ...step } });\n      found = true;\n    } else {\n      updated.push(s);\n    }\n  }\n  if (!found) {\n    updated.push({\n      id: updated.length,\n      completed: true,\n      step,\n    });\n  }\n  return updated;\n}\n",
      "type": "registry:component",
      "target": "components/common/tx/steps.ts"
    },
    {
      "path": "registry/nexus-elements/common/tx/types.ts",
      "content": "export type TransactionStatus =\n  | \"idle\"\n  | \"preview\"\n  | \"awaiting-approval\"\n  | \"executing\"\n  | \"success\"\n  | \"error\";\n\nexport type GenericStep<TStep> = {\n  id: number;\n  completed: boolean;\n  step: TStep;\n};\n\n/**\n * Normalizes a step to a stable key. Prefers typeID, then type, otherwise JSON.\n */\nexport function getStepKey(step: any): string {\n  if (!step) return \"\";\n  if (typeof step.typeID === \"string\" && step.typeID.length > 0) {\n    return step.typeID;\n  }\n  if (typeof step.type === \"string\" && step.type.length > 0) {\n    return step.type;\n  }\n  try {\n    return JSON.stringify(step);\n  } catch {\n    return String(step);\n  }\n}\n",
      "type": "registry:component",
      "target": "components/common/tx/types.ts"
    },
    {
      "path": "registry/nexus-elements/common/tx/useTransactionSteps.ts",
      "content": "import { useMemo, useRef, useState } from \"react\";\nimport type { GenericStep } from \"./types\";\nimport { getStepKey } from \"./types\";\nimport {\n  computeAllCompleted,\n  mergeStepComplete,\n  mergeStepsList,\n  seedSteps,\n} from \"./steps\";\n\ninterface UseTransactionStepsOptions<T> {\n  expected?: T[];\n}\n\n/**\n * Manages transaction steps with utilities to seed from expected steps,\n * replace the list on \"steps list\" events, and mark individual steps complete.\n */\nexport function useTransactionSteps<\n  T extends { typeID?: string; type?: string }\n>(options: UseTransactionStepsOptions<T> = {}) {\n  const { expected } = options;\n  const [steps, setSteps] = useState<Array<GenericStep<T>>>(() =>\n    expected ? seedSteps(expected) : []\n  );\n  const lastSignatureRef = useRef<string>(\"\");\n\n  const onStepsList = (list: T[]) => {\n    const signature = list.map((step) => getStepKey(step)).join(\"|\");\n    if (lastSignatureRef.current === signature) {\n      setSteps((prev) => mergeStepsList(prev, list));\n      return;\n    }\n    lastSignatureRef.current = signature;\n    setSteps((prev) => mergeStepsList(prev, list));\n  };\n\n  const onStepComplete = (step: T) => {\n    setSteps((prev) => mergeStepComplete(prev, step));\n  };\n\n  const seed = (expectedSteps: T[]) => {\n    setSteps(seedSteps(expectedSteps));\n  };\n\n  const reset = () => {\n    setSteps(expected ? seedSteps(expected) : []);\n    lastSignatureRef.current = \"\";\n  };\n\n  const allCompleted = useMemo(() => computeAllCompleted(steps), [steps]);\n\n  return {\n    steps,\n    allCompleted,\n    onStepsList,\n    onStepComplete,\n    seed,\n    reset,\n  };\n}\n",
      "type": "registry:component",
      "target": "components/common/tx/useTransactionSteps.ts"
    },
    {
      "path": "registry/nexus-elements/common/utils/constant.ts",
      "content": "import { SUPPORTED_CHAINS } from \"@avail-project/nexus-core\";\nimport { formatUnits, parseUnits } from \"viem\";\n\nexport const SHORT_CHAIN_NAME: Record<number, string> = {\n  [SUPPORTED_CHAINS.ETHEREUM]: \"Ethereum\",\n  [SUPPORTED_CHAINS.BASE]: \"Base\",\n  [SUPPORTED_CHAINS.ARBITRUM]: \"Arbitrum\",\n  [SUPPORTED_CHAINS.OPTIMISM]: \"Optimism\",\n  [SUPPORTED_CHAINS.POLYGON]: \"Polygon\",\n  [SUPPORTED_CHAINS.AVALANCHE]: \"Avalanche\",\n  [SUPPORTED_CHAINS.SCROLL]: \"Scroll\",\n  [SUPPORTED_CHAINS.SOPHON]: \"Sophon\",\n  [SUPPORTED_CHAINS.KAIA]: \"Kaia\",\n  [SUPPORTED_CHAINS.BNB]: \"BNB\",\n  [SUPPORTED_CHAINS.MONAD]: \"Monad\",\n  [SUPPORTED_CHAINS.HYPEREVM]: \"HyperEVM\",\n  [SUPPORTED_CHAINS.CITREA]: \"Citrea\",\n  // [SUPPORTED_CHAINS.TRON]: \"Tron\",\n  [SUPPORTED_CHAINS.SEPOLIA]: \"Sepolia\",\n  [SUPPORTED_CHAINS.BASE_SEPOLIA]: \"Base Sepolia\",\n  [SUPPORTED_CHAINS.ARBITRUM_SEPOLIA]: \"Arbitrum Sepolia\",\n  [SUPPORTED_CHAINS.OPTIMISM_SEPOLIA]: \"Optimism Sepolia\",\n  [SUPPORTED_CHAINS.POLYGON_AMOY]: \"Polygon Amoy\",\n  [SUPPORTED_CHAINS.MONAD_TESTNET]: \"Monad Testnet\",\n  // [SUPPORTED_CHAINS.TRON_SHASTA]: \"Tron Shasta\",\n} as const;\n\nconst DEFAULT_SAFETY_MARGIN = 0.01; // 1%\n\n/**\n * Compute an amount string for fraction buttons (25%, 50%, 75%, 100%).\n *\n * @param balanceStr - user's balance as a human decimal string (e.g. \"12.345\") OR as base-unit integer string if `balanceIsBaseUnits` true\n * @param fraction - fraction e.g. 0.25, 0.5, 0.75, 1\n * @param decimals - token decimals (6 for USDC/USDT, 18 for ETH)\n * @param safetyMargin - 0.01 for 1% default\n * @param balanceIsBaseUnits - if true, balanceStr is already base units integer string (wei / smallest unit)\n * @returns decimal string clipped to token decimals (rounded down)\n */\nexport function computeAmountFromFraction(\n  balanceStr: string,\n  fraction: number,\n  decimals: number,\n  safetyMargin = DEFAULT_SAFETY_MARGIN,\n  balanceIsBaseUnits = false,\n): string {\n  if (!balanceStr) return \"0\";\n\n  // parse balance into base units (BigInt)\n  const balanceUnits: bigint = balanceIsBaseUnits\n    ? BigInt(balanceStr)\n    : parseUnits(balanceStr, decimals);\n\n  if (balanceUnits === BigInt(0)) return \"0\";\n\n  // Use an integer precision multiplier to avoid FP issues\n  const PREC = 1_000_000; // 1e6 precision for fraction & safety margin\n  const safetyMul = BigInt(Math.max(0, Math.floor((1 - safetyMargin) * PREC))); // (1 - safetyMargin) * PREC\n  const fractionMul = BigInt(Math.max(0, Math.floor(fraction * PREC))); // fraction * PREC\n\n  // Apply safety margin: floor(balance * (1 - safetyMargin))\n  const maxAfterSafety = (balanceUnits * safetyMul) / BigInt(PREC);\n\n  // Apply fraction and floor: floor(maxAfterSafety * fraction)\n  let desiredUnits = (maxAfterSafety * fractionMul) / BigInt(PREC);\n\n  // Extra clamp just in case\n  if (desiredUnits > balanceUnits) desiredUnits = balanceUnits;\n  if (desiredUnits < BigInt(0)) desiredUnits = BigInt(0);\n\n  // format back to human readable decimal string with token decimals (formatUnits truncates/keeps decimals)\n  // formatUnits will produce exactly decimals digits if fractional part exists; we'll strip trailing zeros.\n  const raw = formatUnits(desiredUnits, decimals);\n  // strip trailing zeros and possible trailing dot\n  return raw\n    .replace(/(\\.\\d*?[1-9])0+$/u, \"$1\")\n    .replace(/\\.0+$/u, \"\")\n    .replace(/^\\.$/u, \"0\");\n}\n\nexport const usdFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n",
      "type": "registry:component",
      "target": "components/common/utils/constant.ts"
    }
  ]
}