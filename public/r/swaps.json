{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "swaps",
  "type": "registry:component",
  "title": "Swaps",
  "description": "Swap tokens across chains (Exact In)",
  "dependencies": [
    "@avail-project/nexus-core@latest",
    "@radix-ui/react-dialog",
    "@radix-ui/react-label",
    "@radix-ui/react-select",
    "@radix-ui/react-slot",
    "class-variance-authority",
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "https://elements.nexus.availproject.org/r/button.json",
    "https://elements.nexus.availproject.org/r/card.json",
    "https://elements.nexus.availproject.org/r/dialog.json",
    "https://elements.nexus.availproject.org/r/input.json",
    "https://elements.nexus.availproject.org/r/label.json",
    "https://elements.nexus.availproject.org/r/select.json",
    "https://elements.nexus.availproject.org/r/nexus-provider.json",
    "https://elements.nexus.availproject.org/r/utils.json"
  ],
  "files": [
    {
      "path": "registry/nexus-elements/swaps/swaps.tsx",
      "content": "\"use client\";\nimport React from \"react\";\nimport SwapExactIn from \"./exact-in/exact-in\";\n\ninterface SwapsProps {\n  exactIn?: boolean;\n}\n\nconst Swaps = ({ exactIn = true }: SwapsProps) => {\n  if (exactIn) return <SwapExactIn />;\n  return <div className=\"text-sm text-muted-foreground\">Exact Out coming soon</div>;\n};\n\nexport default Swaps;\n",
      "type": "registry:component",
      "target": "components/swaps/swaps.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/exact-in.tsx",
      "content": "\"use client\";\nimport React, { FC } from \"react\";\nimport { Card, CardContent } from \"../../ui/card\";\nimport { Button } from \"../../ui/button\";\nimport AmountInput from \"./components/amount-input\";\nimport SourceChainSelect from \"./components/source-chain-select\";\nimport SourceTokenSelect from \"./components/source-token-select\";\nimport DestinationChainSelect from \"./components/destination-chain-select\";\nimport DestinationTokenSelect from \"./components/destination-token-select\";\nimport { useNexus } from \"../../nexus/NexusProvider\";\nimport useExactIn from \"./hooks/useExactIn\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"../../ui/dialog\";\nimport TransactionProgress from \"../../fast-bridge/components/transaction-progress\";\nimport SwapSourceBreakdown from \"./components/swap-source-breakdown\";\nimport SwapFeeBreakdown from \"./components/swap-fee-breakdown\";\n\ninterface SwapExactInProps {}\n\nconst SwapExactIn: FC<SwapExactInProps> = () => {\n  const { nexusSDK, swapIntent } = useNexus();\n  const {\n    inputs,\n    setInputs,\n    loading,\n    isDialogOpen,\n    setIsDialogOpen,\n    txError,\n    setTxError,\n    timer,\n    steps,\n    explorerUrl,\n    handleSwap,\n  } = useExactIn({ nexusSDK });\n\n  return (\n    <Card className=\"w-full max-w-xl\">\n      <CardContent className=\"flex flex-col gap-y-4 w-full\">\n        <div className=\"flex items-center justify-between\">\n          <p className=\"text-base font-semibold\">Swap</p>\n          <span className=\"text-xs text-muted-foreground\">Exact In</span>\n        </div>\n\n        <SourceChainSelect\n          selectedChain={inputs.fromChainID}\n          handleSelect={(fromChainID) => setInputs({ ...inputs, fromChainID })}\n          label=\"From Chain\"\n        />\n        <SourceTokenSelect\n          selectedChain={inputs.fromChainID}\n          selectedToken={inputs.fromToken}\n          handleTokenSelect={(fromToken) => setInputs({ ...inputs, fromToken })}\n          label=\"From Token\"\n        />\n        <div className=\"flex flex-col gap-y-2\">\n          <label className=\"text-sm font-medium\" htmlFor=\"swap-amount\">\n            Amount\n          </label>\n          <AmountInput\n            amount={inputs.fromAmount}\n            onChange={(val) => setInputs({ ...inputs, fromAmount: val })}\n            symbol={inputs.fromToken?.symbol}\n          />\n        </div>\n\n        <DestinationChainSelect\n          selectedChain={inputs.toChainID}\n          handleSelect={(toChainID) => setInputs({ ...inputs, toChainID })}\n          label=\"To Chain\"\n        />\n        <DestinationTokenSelect\n          selectedChain={inputs.toChainID}\n          selectedToken={inputs.toToken}\n          handleTokenSelect={(toToken) => setInputs({ ...inputs, toToken })}\n          label=\"To Token\"\n        />\n\n        {!swapIntent && (\n          <Button onClick={handleSwap} disabled={loading}>\n            {loading ? \"Swapping...\" : \"Swap\"}\n          </Button>\n        )}\n\n        {swapIntent && (\n          <div className=\"w-full flex items-center gap-x-2 justify-between\">\n            <Button\n              variant={\"destructive\"}\n              onClick={() => swapIntent.deny()}\n              className=\"w-1/2\"\n            >\n              Deny\n            </Button>\n            <Button\n              onClick={() => {\n                // swapIntent.allow()\n              }}\n              className=\"w-1/2\"\n            >\n              Accept\n            </Button>\n          </div>\n        )}\n\n        {swapIntent?.intent && (\n          <>\n            <SwapSourceBreakdown intent={swapIntent.intent} />\n            <SwapFeeBreakdown />\n          </>\n        )}\n\n        <Dialog\n          open={isDialogOpen}\n          onOpenChange={(o) => !loading && setIsDialogOpen(o)}\n        >\n          <DialogContent>\n            <DialogHeader className=\"sr-only\">\n              <DialogTitle>Swap Progress</DialogTitle>\n            </DialogHeader>\n            <TransactionProgress\n              timer={timer}\n              steps={steps}\n              viewIntentUrl={explorerUrl}\n              operationType=\"swap\"\n            />\n          </DialogContent>\n        </Dialog>\n\n        {txError && (\n          <div className=\"rounded-md border border-destructive bg-destructive/80 px-3 py-2 text-sm text-destructive-foreground flex items-start justify-between gap-x-3 mt-3 w-full max-w-lg\">\n            <span className=\"flex-1 max-w-\">{txError}</span>\n            <Button\n              type=\"button\"\n              size={\"icon\"}\n              variant={\"ghost\"}\n              onClick={() => setTxError(null)}\n              className=\"text-destructive-foreground/80 hover:text-destructive-foreground focus:outline-none\"\n              aria-label=\"Dismiss error\"\n            >\n              ×\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SwapExactIn;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/exact-in.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/source-chain-select.tsx",
      "content": "import React, { FC, useMemo } from \"react\";\nimport { Label } from \"../../../ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../../../ui/select\";\nimport { type SUPPORTED_CHAINS_IDS } from \"@avail-project/nexus-core\";\nimport { cn } from \"@/lib/utils\";\nimport { useNexus } from \"../../../nexus/NexusProvider\";\n\ninterface SourceChainSelectProps {\n  selectedChain: number;\n  disabled?: boolean;\n  hidden?: boolean;\n  className?: string;\n  label?: string;\n  handleSelect: (chainId: SUPPORTED_CHAINS_IDS) => void;\n}\n\nconst SourceChainSelect: FC<SourceChainSelectProps> = ({\n  selectedChain,\n  disabled,\n  hidden = false,\n  className,\n  label,\n  handleSelect,\n}) => {\n  const { swapSupportedChainsAndTokens } = useNexus();\n\n  const selectedChainData = useMemo(() => {\n    if (!swapSupportedChainsAndTokens) return null;\n    return swapSupportedChainsAndTokens.find(\n      (c: any) => c.id === selectedChain\n    );\n  }, [selectedChain, swapSupportedChainsAndTokens]);\n\n  if (hidden) return null;\n  return (\n    <Select\n      value={selectedChain?.toString() ?? \"\"}\n      onValueChange={(value) => {\n        if (!disabled) {\n          handleSelect(Number.parseInt(value) as SUPPORTED_CHAINS_IDS);\n        }\n      }}\n    >\n      <div className=\"flex flex-col items-start gap-y-1 w-full\">\n        {label && <Label className=\"text-sm font-semibold\">{label}</Label>}\n        <SelectTrigger disabled={disabled} className=\" w-full\">\n          <SelectValue>\n            {selectedChainData?.logo ? (\n              <div\n                className={cn(\"flex items-center gap-x-2 w-full\", className)}\n              >\n                <img\n                  src={selectedChainData.logo}\n                  alt={selectedChainData.name}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                <p className=\"text-primary test-sm\">{selectedChainData.name}</p>\n              </div>\n            ) : null}\n          </SelectValue>\n        </SelectTrigger>\n      </div>\n\n      <SelectContent>\n        <SelectGroup>\n          {swapSupportedChainsAndTokens?.map((chain: any) => {\n            return (\n              <SelectItem key={chain.id} value={String(chain.id)}>\n                <div className=\"flex items-center gap-x-2 my-1\">\n                  <img\n                    src={chain.logo}\n                    alt={chain?.name}\n                    width={24}\n                    height={24}\n                    className=\"rounded-full\"\n                  />\n                  <p className=\"text-primary test-sm\">{chain.name}</p>\n                </div>\n              </SelectItem>\n            );\n          })}\n        </SelectGroup>\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default SourceChainSelect;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/source-chain-select.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/source-token-select.tsx",
      "content": "import { type SUPPORTED_CHAINS_IDS } from \"@avail-project/nexus-core\";\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../../../ui/select\";\nimport { Label } from \"../../../ui/label\";\nimport { useNexus } from \"../../../nexus/NexusProvider\";\nimport { useMemo } from \"react\";\nimport { TOKEN_IMAGES } from \"../config/destination\";\n\ntype SourceTokenInfo = {\n  contractAddress: `0x${string}`;\n  decimals: number;\n  logo: string;\n  name: string;\n  symbol: string;\n};\n\ninterface SourceTokenSelectProps {\n  selectedToken?: SourceTokenInfo;\n  selectedChain: SUPPORTED_CHAINS_IDS;\n  handleTokenSelect: (token: SourceTokenInfo) => void;\n  disabled?: boolean;\n  label?: string;\n}\n\nconst SourceTokenSelect = ({\n  selectedToken,\n  selectedChain,\n  handleTokenSelect,\n  disabled = false,\n  label,\n}: SourceTokenSelectProps) => {\n  const { swapSupportedChainsAndTokens } = useNexus();\n  const tokenData: SourceTokenInfo[] | undefined = useMemo(() => {\n    console.log(\"swapSupportedChainsAndTokens\", swapSupportedChainsAndTokens);\n    return swapSupportedChainsAndTokens?.find(\n      (c: any) => c.id === selectedChain\n    )?.tokens;\n  }, [selectedChain, swapSupportedChainsAndTokens]);\n\n  return (\n    <Select\n      value={selectedToken?.symbol ?? \"\"}\n      onValueChange={(value) => {\n        if (disabled) return;\n        const tok = tokenData?.find((t) => t.symbol === value);\n        if (tok) handleTokenSelect(tok);\n      }}\n    >\n      <div className=\"flex flex-col items-start gap-y-1\">\n        {label && <Label className=\"text-sm font-semibold\">{label}</Label>}\n        <SelectTrigger disabled={disabled} className=\"w-full\">\n          <SelectValue placeholder=\"Select a token\" className=\"w-full\">\n            {selectedChain && selectedToken ? (\n              <div className=\"flex items-center gap-x-2 w-full\">\n                {selectedToken.symbol ? (\n                  <img\n                    src={TOKEN_IMAGES[selectedToken?.symbol]}\n                    alt={selectedToken.symbol}\n                    width={24}\n                    height={24}\n                    className=\"rounded-full\"\n                  />\n                ) : null}\n                {selectedToken.symbol}\n              </div>\n            ) : null}\n          </SelectValue>\n        </SelectTrigger>\n      </div>\n\n      <SelectContent>\n        <SelectGroup>\n          {tokenData?.map((token) => (\n            <SelectItem key={token.symbol} value={token.symbol}>\n              <div className=\"flex items-center gap-x-2 my-1\">\n                {token.symbol ? (\n                  <img\n                    src={TOKEN_IMAGES[token?.symbol]}\n                    alt={token.symbol}\n                    width={24}\n                    height={24}\n                    className=\"rounded-full\"\n                  />\n                ) : null}\n                <div className=\"flex flex-col\">\n                  <span>{token.symbol}</span>\n                </div>\n              </div>\n            </SelectItem>\n          ))}\n        </SelectGroup>\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default SourceTokenSelect;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/source-token-select.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/destination-chain-select.tsx",
      "content": "import React, { FC, useMemo } from \"react\";\nimport { Label } from \"../../../ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../../../ui/select\";\nimport {\n  type SUPPORTED_CHAINS_IDS,\n  CHAIN_METADATA,\n} from \"@avail-project/nexus-core\";\nimport { cn } from \"@/lib/utils\";\nimport { DESTINATION_SWAP_TOKENS } from \"../config/destination\";\n\ninterface DestinationChainSelectProps {\n  selectedChain: number;\n  disabled?: boolean;\n  hidden?: boolean;\n  className?: string;\n  label?: string;\n  handleSelect: (chainId: SUPPORTED_CHAINS_IDS) => void;\n}\n\nconst DestinationChainSelect: FC<DestinationChainSelectProps> = ({\n  selectedChain,\n  disabled,\n  hidden = false,\n  className,\n  label,\n  handleSelect,\n}) => {\n  const chains = useMemo(() => Array.from(DESTINATION_SWAP_TOKENS.keys()), []);\n  const selectedChainMeta = useMemo(\n    () => CHAIN_METADATA[selectedChain],\n    [selectedChain]\n  );\n\n  if (hidden) return null;\n  return (\n    <Select\n      value={selectedChain?.toString() ?? \"\"}\n      onValueChange={(value) => {\n        if (!disabled) {\n          handleSelect(Number.parseInt(value) as SUPPORTED_CHAINS_IDS);\n        }\n      }}\n    >\n      <div className=\"flex flex-col items-start gap-y-1 w-full\">\n        {label && <Label className=\"text-sm font-semibold\">{label}</Label>}\n        <SelectTrigger disabled={disabled} className=\" w-full\">\n          <SelectValue>\n            {selectedChainMeta && (\n              <div\n                className={cn(\"flex items-center gap-x-2 w-full\", className)}\n              >\n                <img\n                  src={selectedChainMeta?.logo}\n                  alt={selectedChainMeta?.name}\n                  width={24}\n                  height={24}\n                  className=\"rounded-full\"\n                />\n                <p className=\"text-primary test-sm\">\n                  {selectedChainMeta?.name}\n                </p>\n              </div>\n            )}\n          </SelectValue>\n        </SelectTrigger>\n      </div>\n\n      <SelectContent>\n        <SelectGroup>\n          {chains.map((chainId) => {\n            const meta = CHAIN_METADATA[chainId as SUPPORTED_CHAINS_IDS];\n            return (\n              <SelectItem key={chainId} value={String(chainId)}>\n                <div className=\"flex items-center gap-x-2 my-1\">\n                  <img\n                    src={meta.logo}\n                    alt={meta?.name}\n                    width={24}\n                    height={24}\n                    className=\"rounded-full\"\n                  />\n                  <p className=\"text-primary test-sm\">{meta.name}</p>\n                </div>\n              </SelectItem>\n            );\n          })}\n        </SelectGroup>\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default DestinationChainSelect;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/destination-chain-select.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/destination-token-select.tsx",
      "content": "import {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../../../ui/select\";\nimport { Label } from \"../../../ui/label\";\nimport { useMemo } from \"react\";\nimport { DESTINATION_SWAP_TOKENS, TOKEN_IMAGES } from \"../config/destination\";\nimport { type SUPPORTED_CHAINS_IDS } from \"@avail-project/nexus-core\";\n\ntype TokenInfo = {\n  decimals: number;\n  logo: string;\n  name: string;\n  symbol: string;\n  tokenAddress: `0x${string}`;\n};\n\ninterface DestinationTokenSelectProps {\n  selectedToken?: TokenInfo;\n  selectedChain: SUPPORTED_CHAINS_IDS;\n  handleTokenSelect: (token: TokenInfo) => void;\n  disabled?: boolean;\n  label?: string;\n}\n\nconst DestinationTokenSelect = ({\n  selectedToken,\n  selectedChain,\n  handleTokenSelect,\n  disabled = false,\n  label,\n}: DestinationTokenSelectProps) => {\n  const tokenData = useMemo(() => {\n    return DESTINATION_SWAP_TOKENS.get(selectedChain as number) ?? [];\n  }, [selectedChain]);\n\n  return (\n    <Select\n      value={selectedToken?.symbol ?? \"\"}\n      onValueChange={(value) => {\n        if (disabled) return;\n        const tok = tokenData.find((t) => t.symbol === value);\n        if (tok) handleTokenSelect(tok);\n      }}\n    >\n      <div className=\"flex flex-col items-start gap-y-1\">\n        {label && <Label className=\"text-sm font-semibold\">{label}</Label>}\n        <SelectTrigger disabled={disabled} className=\"w-full\">\n          <SelectValue placeholder=\"Select a token\" className=\"w-full\">\n            {selectedChain && selectedToken ? (\n              <div className=\"flex items-center gap-x-2 w-full\">\n                {selectedToken.symbol ? (\n                  <img\n                    src={TOKEN_IMAGES[selectedToken?.symbol]}\n                    alt={selectedToken.symbol}\n                    width={24}\n                    height={24}\n                    className=\"rounded-full\"\n                  />\n                ) : null}\n                {selectedToken.symbol}\n              </div>\n            ) : null}\n          </SelectValue>\n        </SelectTrigger>\n      </div>\n\n      <SelectContent>\n        <SelectGroup>\n          {tokenData.map((token) => (\n            <SelectItem key={token.symbol} value={token.symbol}>\n              <div className=\"flex items-center gap-x-2 my-1\">\n                {token.symbol ? (\n                  <img\n                    src={TOKEN_IMAGES[token?.symbol]}\n                    alt={token.symbol}\n                    width={24}\n                    height={24}\n                    className=\"rounded-full\"\n                  />\n                ) : null}\n                <div className=\"flex flex-col\">\n                  <span>{token.symbol}</span>\n                </div>\n              </div>\n            </SelectItem>\n          ))}\n        </SelectGroup>\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default DestinationTokenSelect;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/destination-token-select.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/amount-input.tsx",
      "content": "import React, { FC, useEffect, useRef } from \"react\";\nimport { Input } from \"../../../ui/input\";\n\ninterface AmountInputProps {\n  amount?: string;\n  onChange: (value: string) => void;\n  onCommit?: (value: string) => void;\n  disabled?: boolean;\n  symbol?: string;\n}\n\nconst AmountInput: FC<AmountInputProps> = ({\n  amount,\n  onChange,\n  onCommit,\n  disabled,\n  symbol,\n}) => {\n  const commitTimerRef = useRef<NodeJS.Timeout | null>(null);\n\n  const scheduleCommit = (val: string) => {\n    if (!onCommit || disabled) return;\n    if (commitTimerRef.current) clearTimeout(commitTimerRef.current);\n    commitTimerRef.current = setTimeout(() => {\n      onCommit(val);\n    }, 600);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (commitTimerRef.current) {\n        clearTimeout(commitTimerRef.current);\n        commitTimerRef.current = null;\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"w-full flex border border-border rounded-lg gap-y-2\">\n      <Input\n        type=\"text\"\n        inputMode=\"decimal\"\n        value={amount ?? \"\"}\n        placeholder={`Enter Amount${symbol ? ` (${symbol})` : \"\"}`}\n        onChange={(e) => {\n          let next = e.target.value.replace(/[^0-9.]/g, \"\");\n          const parts = next.split(\".\");\n          if (parts.length > 2) next = parts[0] + \".\" + parts.slice(1).join(\"\");\n          if (next === \".\") next = \"0.\";\n          onChange(next);\n          scheduleCommit(next);\n        }}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            if (commitTimerRef.current) {\n              clearTimeout(commitTimerRef.current);\n              commitTimerRef.current = null;\n            }\n            onCommit?.(amount ?? \"\");\n          }\n        }}\n        className=\"w-full border-none focus-visible:ring-0 focus-visible:ring-offset-0 shadow-none py-0 px-3\"\n        aria-invalid={Boolean(amount) && Number.isNaN(Number(amount))}\n        disabled={disabled}\n      />\n      <div className=\"flex items-center justify-end-safe gap-x-4 w-fit px-2 border-l border-border\">\n        {symbol && <p className=\"text-base font-semibold\">{symbol}</p>}\n      </div>\n    </div>\n  );\n};\n\nexport default AmountInput;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/amount-input.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/swap-source-breakdown.tsx",
      "content": "import React from \"react\";\nimport { type OnSwapIntentHook } from \"@avail-project/nexus-core\";\n\ntype SwapIntent = Parameters<OnSwapIntentHook>[0][\"intent\"];\n\ninterface SwapSourceBreakdownProps {\n  intent: SwapIntent;\n  isLoading?: boolean;\n}\n\nconst SwapSourceBreakdown: React.FC<SwapSourceBreakdownProps> = ({\n  intent,\n  isLoading,\n}) => {\n  if (!intent) return null;\n  return (\n    <div className=\"w-full border rounded-md p-3\">\n      <p className=\"text-sm font-semibold mb-2\">Route</p>\n      <div className=\"flex flex-col gap-y-2\">\n        <div className=\"flex items-start justify-between gap-x-4\">\n          <p className=\"text-sm font-medium\">Destination</p>\n          <div className=\"text-right\">\n            <p className=\"text-sm font-semibold\">\n              {intent.destination.amount} {intent.destination.token.symbol}\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              on {intent.destination.chain.name}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex flex-col gap-y-1\">\n          <p className=\"text-sm font-medium\">Sources</p>\n          {intent.sources.map((s) => (\n            <div key={s.chain.id} className=\"flex items-center justify-between\">\n              <span className=\"text-xs text-muted-foreground\">\n                {s.chain.name}\n              </span>\n              <span className=\"text-sm font-medium\">\n                {s.amount} {s.token.symbol}\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SwapSourceBreakdown;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/swap-source-breakdown.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/components/swap-fee-breakdown.tsx",
      "content": "import React from \"react\";\n\ninterface SwapFeeBreakdownProps {\n  isLoading?: boolean;\n}\n\nconst Row = ({ label, value }: { label: string; value: string }) => (\n  <div className=\"flex items-center justify-between text-sm\">\n    <span className=\"text-muted-foreground\">{label}</span>\n    <span className=\"font-medium\">{value}</span>\n  </div>\n);\n\nconst SwapFeeBreakdown: React.FC<SwapFeeBreakdownProps> = ({ isLoading }) => {\n  const dash = \"—\";\n  return (\n    <div className=\"w-full border rounded-md p-3\">\n      <p className=\"text-sm font-semibold mb-2\">Fees</p>\n      <div className=\"flex flex-col gap-y-2\">\n        <Row label=\"Source swap\" value={dash} />\n        <Row label=\"Destination execution\" value={dash} />\n        <div className=\"h-px bg-border\" />\n        <Row label=\"Total\" value={dash} />\n      </div>\n      <p className=\"mt-2 text-xs text-muted-foreground\">\n        Fee estimates are not available pre-execution.\n      </p>\n    </div>\n  );\n};\n\nexport default SwapFeeBreakdown;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/components/swap-fee-breakdown.tsx"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/hooks/useExactIn.ts",
      "content": "import { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  NexusSDK,\n  SUPPORTED_CHAINS,\n  type SUPPORTED_CHAINS_IDS,\n  type ExactInSwapInput,\n  type SwapResult,\n  NEXUS_EVENTS,\n  type SwapStepType,\n  parseUnits,\n} from \"@avail-project/nexus-core\";\nimport { type Address } from \"viem\";\nimport { useNexus } from \"../../../nexus/NexusProvider\";\n\ntype SourceTokenInfo = {\n  contractAddress: `0x${string}`;\n  decimals: number;\n  logo: string;\n  name: string;\n  symbol: string;\n};\ntype DestinationTokenInfo = {\n  tokenAddress: `0x${string}`;\n  decimals: number;\n  logo: string;\n  name: string;\n  symbol: string;\n};\n\ninterface SwapInputs {\n  fromChainID: SUPPORTED_CHAINS_IDS;\n  fromToken?: SourceTokenInfo;\n  fromAmount?: string;\n  toChainID: SUPPORTED_CHAINS_IDS;\n  toToken?: DestinationTokenInfo;\n}\n\ninterface UseExactInProps {\n  nexusSDK: NexusSDK | null;\n  address?: Address;\n}\n\nconst useExactIn = ({ nexusSDK }: UseExactInProps) => {\n  const { handleNexusError } = useNexus();\n\n  const [inputs, setInputs] = useState<SwapInputs>({\n    fromChainID: SUPPORTED_CHAINS.BASE,\n    toChainID: SUPPORTED_CHAINS.OPTIMISM,\n  });\n  const [timer, setTimer] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [txError, setTxError] = useState<string | null>(null);\n  const [explorerUrl, setExplorerUrl] = useState<string>(\"\");\n  const [steps, setSteps] = useState<\n    Array<{ id: number; completed: boolean; step: SwapStepType }>\n  >([]);\n\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  const areInputsValid = useMemo(() => {\n    return (\n      inputs.fromChainID !== undefined &&\n      inputs.toChainID !== undefined &&\n      inputs.fromToken &&\n      inputs.toToken &&\n      inputs.fromAmount &&\n      Number(inputs.fromAmount) > 0\n    );\n  }, [inputs]);\n\n  const stopTimer = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  const startTimer = () => {\n    if (!timerRef.current) {\n      setTimer(0);\n      timerRef.current = setInterval(() => setTimer((prev) => prev + 0.1), 100);\n    }\n  };\n\n  const handleSwap = async () => {\n    if (\n      !nexusSDK ||\n      !areInputsValid ||\n      !inputs.fromToken ||\n      !inputs.toToken ||\n      !inputs.fromAmount\n    )\n      return;\n    setLoading(true);\n    setIsDialogOpen(true);\n    setTxError(null);\n    setSteps([]);\n    startTimer();\n    try {\n      const amountWei = parseUnits(\n        inputs.fromAmount,\n        inputs.fromToken.decimals\n      );\n      const swapInput: ExactInSwapInput = {\n        from: [\n          {\n            chainId: inputs.fromChainID,\n            amount: amountWei,\n            tokenAddress: inputs.fromToken.contractAddress,\n          },\n        ],\n        toChainId: inputs.toChainID,\n        toTokenAddress: inputs.toToken.tokenAddress,\n      };\n\n      console.log(\"swapInput\", swapInput);\n\n      const result: SwapResult = await nexusSDK.swapWithExactIn(swapInput, {\n        onEvent: (event) => {\n          if (event.name === NEXUS_EVENTS.SWAP_STEP_COMPLETE) {\n            const step = event.args;\n            setSteps((prev) => {\n              const exists = prev.find((s) => s.step?.typeID === step?.typeID);\n              if (exists) {\n                return prev.map((s) =>\n                  s.step?.typeID === step?.typeID\n                    ? { ...s, completed: true }\n                    : s\n                );\n              }\n              return [...prev, { id: prev.length, completed: true, step }];\n            });\n          }\n        },\n      });\n\n      if (!result?.success) {\n        throw new Error(result?.error || \"Swap failed\");\n      }\n      setExplorerUrl(result.result.explorerURL);\n    } catch (error) {\n      const { message } = handleNexusError(error);\n      setTxError(message);\n      setIsDialogOpen(false);\n    } finally {\n      setLoading(false);\n      stopTimer();\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      stopTimer();\n    };\n  }, []);\n\n  return {\n    inputs,\n    setInputs,\n    loading,\n    isDialogOpen,\n    setIsDialogOpen,\n    txError,\n    setTxError,\n    timer,\n    steps,\n    explorerUrl,\n    handleSwap,\n  };\n};\n\nexport default useExactIn;\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/hooks/useExactIn.ts"
    },
    {
      "path": "registry/nexus-elements/swaps/exact-in/config/destination.ts",
      "content": "import { SUPPORTED_CHAINS } from \"@avail-project/nexus-core\";\n\nexport const DESTINATION_SWAP_TOKENS = new Map<\n  number,\n  {\n    decimals: number;\n    logo: string;\n    name: string;\n    symbol: string;\n    tokenAddress: `0x${string}`;\n  }[]\n>([\n  [\n    SUPPORTED_CHAINS.OPTIMISM,\n    [\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png?1696501628\",\n        name: \"Ether\",\n        symbol: \"ETH\",\n        tokenAddress: \"0x0000000000000000000000000000000000000000\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/6319/large/usdc.png?1696506694\",\n        name: \"USD Coin\",\n        symbol: \"USDC\",\n        tokenAddress: \"0x0b2c639c533813f4aa9d7837caf62653d097ff85\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/35023/large/USDT.png\",\n        name: \"USDT Coin\",\n        symbol: \"USDT\",\n        tokenAddress: \"0x94b008aa00579c1307b0ef2c499ad98a8ce58e58\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png?1696524385\",\n        name: \"Optimism\",\n        symbol: \"OP\",\n        tokenAddress: \"0x4200000000000000000000000000000000000042\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png?1696512452\",\n        name: \"Aave Token\",\n        symbol: \"AAVE\",\n        tokenAddress: \"0x76fb31fb4af56892a25e32cfc43de717950c9278\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/12504/large/uni.jpg?1696512319\",\n        name: \"Uniswap\",\n        symbol: \"UNI\",\n        tokenAddress: \"0x6fd9d7ad17242c41f7131d257212c54a0e816691\",\n      },\n    ],\n  ],\n  [\n    SUPPORTED_CHAINS.ARBITRUM,\n    [\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png?1696501628\",\n        name: \"Ether\",\n        symbol: \"ETH\",\n        tokenAddress: \"0x0000000000000000000000000000000000000000\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/6319/large/usdc.png?1696506694\",\n        name: \"USD Coin\",\n        symbol: \"USDC\",\n        tokenAddress: \"0xaf88d065e77c8cc2239327c5edb3a432268e5831\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/35023/large/USDT.png\",\n        name: \"USDT Coin\",\n        symbol: \"USDT\",\n        tokenAddress: \"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg?1696528776\",\n        name: \"Pepe\",\n        symbol: \"PEPE\",\n        tokenAddress: \"0x25d887ce7a35172c62febfd67a1856f20faebb00\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/13573/large/Lido_DAO.png?1696513326\",\n        name: \"Lido DAO Token\",\n        symbol: \"LDO\",\n        tokenAddress: \"0x13ad51ed4f1b7e9dc168d8a00cb3f4ddd85efa60\",\n      },\n    ],\n  ],\n  [\n    SUPPORTED_CHAINS.SCROLL,\n    [\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png?1696501628\",\n        name: \"Ether\",\n        symbol: \"ETH\",\n        tokenAddress: \"0x0000000000000000000000000000000000000000\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/6319/large/usdc.png?1696506694\",\n        name: \"USD Coin\",\n        symbol: \"USDC\",\n        tokenAddress: \"0x06efdbff2a14a7c8e15944d1f4a48f9f95f663a4\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/35023/large/USDT.png\",\n        name: \"USDT Coin\",\n        symbol: \"USDT\",\n        tokenAddress: \"0xf55bec9cafdbe8730f096aa55dad6d22d44099df\",\n      },\n    ],\n  ],\n  [\n    SUPPORTED_CHAINS.BASE,\n    [\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png?1696501628\",\n        name: \"Ether\",\n        symbol: \"ETH\",\n        tokenAddress: \"0x0000000000000000000000000000000000000000\",\n      },\n      {\n        decimals: 6,\n        logo: \"https://coin-images.coingecko.com/coins/images/6319/large/usdc.png?1696506694\",\n        name: \"USD Coin\",\n        symbol: \"USDC\",\n        tokenAddress: \"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/9956/large/Badge_Dai.png?1696509996\",\n        name: \"Dai Stablecoin\",\n        symbol: \"DAI\",\n        tokenAddress: \"0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://coin-images.coingecko.com/coins/images/28206/large/ftxG9_TJ_400x400.jpeg?1696527208\",\n        name: \"LayerZero\",\n        symbol: \"ZRO\",\n        tokenAddress: \"0x6985884c4392d348587b19cb9eaaf157f13271cd\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://assets.coingecko.com/coins/images/12151/standard/OM_Token.png?1696511991\",\n        name: \"MANTRA\",\n        symbol: \"OM\",\n        tokenAddress: \"0x3992b27da26848c2b19cea6fd25ad5568b68ab98\",\n      },\n      {\n        decimals: 18,\n        logo: \"https://assets.coingecko.com/coins/images/54411/standard/Qm4DW488_400x400.jpg\",\n        name: \"KAITO\",\n        symbol: \"KAITO\",\n        tokenAddress: \"0x98d0baa52b2d063e780de12f615f963fe8537553\",\n      },\n    ],\n  ],\n  [\n    SUPPORTED_CHAINS.BNB,\n    [\n      {\n        decimals: 18,\n        logo: \"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png\",\n        name: \"BNB\",\n        symbol: \"BNB\",\n        tokenAddress: \"0x0000000000000000000000000000000000000000\",\n      },\n    ],\n  ],\n]);\n\nexport const TOKEN_IMAGES: Record<string, string> = {\n  USDC: \"https://coin-images.coingecko.com/coins/images/6319/large/usdc.png\",\n  USDT: \"https://coin-images.coingecko.com/coins/images/35023/large/USDT.png\",\n  WETH: \"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880\",\n  USDS: \"https://assets.coingecko.com/coins/images/39926/standard/usds.webp?1726666683\",\n  SOPH: \"https://assets.coingecko.com/coins/images/38680/large/sophon_logo_200.png\",\n  KAIA: \"https://assets.coingecko.com/asset_platforms/images/9672/large/kaia.png\",\n  BNB: \"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png\",\n  // Add ETH as fallback for any ETH-related tokens\n  ETH: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png?1696501628\",\n  // Add common token fallbacks\n  POL: \"https://coin-images.coingecko.com/coins/images/32440/standard/polygon.png\",\n  AVAX: \"https://assets.coingecko.com/coins/images/12559/standard/Avalanche_Circle_RedWhite_Trans.png\",\n  FUEL: \"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png\",\n  HYPE: \"https://assets.coingecko.com/asset_platforms/images/243/large/hyperliquid.png\",\n  // Popular swap tokens\n  DAI: \"https://coin-images.coingecko.com/coins/images/9956/large/Badge_Dai.png?1696509996\",\n  UNI: \"https://coin-images.coingecko.com/coins/images/12504/large/uni.jpg?1696512319\",\n  AAVE: \"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png?1696512452\",\n  LDO: \"https://coin-images.coingecko.com/coins/images/13573/large/Lido_DAO.png?1696513326\",\n  PEPE: \"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg?1696528776\",\n  OP: \"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png?1696524385\",\n  ZRO: \"https://coin-images.coingecko.com/coins/images/28206/large/ftxG9_TJ_400x400.jpeg?1696527208\",\n  OM: \"https://assets.coingecko.com/coins/images/12151/standard/OM_Token.png?1696511991\",\n  KAITO:\n    \"https://assets.coingecko.com/coins/images/54411/standard/Qm4DW488_400x400.jpg\",\n};\n",
      "type": "registry:component",
      "target": "components/swaps/exact-in/config/destination.ts"
    },
    {
      "path": "registry/nexus-elements/fast-bridge/components/transaction-progress.tsx",
      "content": "import { Check, Circle, LoaderPinwheel } from \"lucide-react\";\nimport React, { FC, memo, useMemo } from \"react\";\nimport {\n  type BridgeStepType,\n  type SwapStepType,\n} from \"@avail-project/nexus-core\";\n\ntype ProgressStep = BridgeStepType | SwapStepType;\n\ninterface TransactionProgressProps {\n  timer: number;\n  steps: Array<{ id: number; completed: boolean; step: ProgressStep }>;\n  viewIntentUrl?: string;\n  operationType?: string;\n}\n\nexport const getOperationText = (type: string) => {\n  switch (type) {\n    case \"bridge\":\n      return \"Transaction\";\n    case \"transfer\":\n      return \"Transferring\";\n    case \"bridgeAndExecute\":\n      return \"Bridge & Execute\";\n    case \"swap\":\n      return \"Swapping\";\n    default:\n      return \"Processing\";\n  }\n};\n\ntype DisplayStep = { id: string; label: string; completed: boolean };\n\nconst StepList: FC<{ steps: DisplayStep[]; currentIndex: number }> = memo(\n  ({ steps, currentIndex }) => {\n    return (\n      <div className=\"w-full mt-6 space-y-6\">\n        {steps.map((s, idx) => {\n          const isCompleted = !!s.completed;\n          const isCurrent = currentIndex === -1 ? false : idx === currentIndex;\n\n          let rightIcon = <Circle className=\"size-5 text-muted-foreground\" />;\n          if (isCompleted) {\n            rightIcon = <Check className=\"size-5 text-green-600\" />;\n          } else if (isCurrent) {\n            rightIcon = (\n              <LoaderPinwheel className=\"size-5 animate-spin text-muted-foreground\" />\n            );\n          }\n\n          return (\n            <div\n              key={s.id}\n              className=\"flex items-center justify-between w-full\"\n            >\n              <div className=\"flex items-center gap-x-3\">\n                <span className=\"text-base font-semibold\">{s.label}</span>\n              </div>\n              {rightIcon}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n);\n\nconst TransactionProgress: FC<TransactionProgressProps> = ({\n  timer,\n  steps,\n  viewIntentUrl,\n  operationType = \"bridge\",\n}) => {\n  const totalSteps = Array.isArray(steps) ? steps.length : 0;\n  const completedSteps = Array.isArray(steps)\n    ? steps.reduce((acc, s) => acc + (s?.completed ? 1 : 0), 0)\n    : 0;\n  const percent = totalSteps > 0 ? completedSteps / totalSteps : 0;\n  const allCompleted = percent >= 1;\n  const opText = getOperationText(operationType);\n  const headerText = allCompleted\n    ? `${opText} Completed`\n    : `${opText} In Progress...`;\n  const ctaText = allCompleted ? `View Explorer` : \"View Intent\";\n\n  const { effectiveSteps, currentIndex } = useMemo(() => {\n    const milestones = [\n      \"Intent verified\",\n      \"Collected on sources\",\n      \"Filled on destination\",\n    ];\n    const thresholds = milestones.map(\n      (_, idx) => (idx + 1) / milestones.length\n    );\n    const displaySteps: DisplayStep[] = milestones.map((label, idx) => ({\n      id: `M${idx}`,\n      label,\n      completed: percent >= thresholds[idx],\n    }));\n    const current = displaySteps.findIndex((st) => !st.completed);\n    return { effectiveSteps: displaySteps, currentIndex: current };\n  }, [percent, opText]);\n\n  return (\n    <div className=\"w-full flex flex-col items-center\">\n      <div className=\"flex flex-col items-center gap-y-3\">\n        {allCompleted ? (\n          <Check className=\"size-6 text-green-600\" />\n        ) : (\n          <LoaderPinwheel className=\"size-6 animate-spin\" />\n        )}\n        <p>{headerText}</p>\n        <div className=\"flex items-center justify-center w-full\">\n          <span className=\"text-2xl font-semibold font-nexus-primary text-nexus-black\">\n            {Math.floor(timer)}\n          </span>\n          <span className=\"text-base font-semibold font-nexus-primary text-nexus-black\">\n            .\n          </span>\n          <span className=\"text-base font-semibold font-nexus-primary text-nexus-muted-secondary\">\n            {String(Math.floor((timer % 1) * 1000)).padStart(3, \"0\")}s\n          </span>\n        </div>\n      </div>\n\n      <StepList steps={effectiveSteps} currentIndex={currentIndex} />\n\n      {viewIntentUrl && (\n        <a\n          href={viewIntentUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"mt-8 underline font-semibold\"\n        >\n          {ctaText}\n        </a>\n      )}\n    </div>\n  );\n};\n\nexport default TransactionProgress;\n",
      "type": "registry:component",
      "target": "components/fast-bridge/components/transaction-progress.tsx"
    }
  ]
}